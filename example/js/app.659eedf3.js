(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{0:function(e,t,i){e.exports=i("56d7")},"01c2":function(e,t,i){"use strict";i("7b17")},"02ec":function(e,t,i){"use strict";i("9903")},"0750":function(e,t,i){},"0943":function(e,t,i){"use strict";i("f48b")},"0d31":function(e,t,i){"use strict";i("d0c5")},"0ee3":function(e,t,i){},"124b":function(e,t,i){"use strict";i("dd46")},"1c92":function(e,t,i){},"1d73":function(e,t,i){},"1f88":function(e,t,i){"use strict";i("8249")},"2200f":function(e,t,i){"use strict";i("5e22")},2427:function(e,t,i){"use strict";i.r(t);var o={};i.r(o),i.d(o,"isExternal",(function(){return f})),i.d(o,"parseString",(function(){return h})),i.d(o,"getQueryString",(function(){return m})),i.d(o,"parseTime",(function(){return y})),i.d(o,"formatDate",(function(){return v})),i.d(o,"addEvent",(function(){return k})),i.d(o,"getDomPos",(function(){return x})),i.d(o,"getDomStyle",(function(){return w})),i.d(o,"debounce",(function(){return S})),i.d(o,"loopObj",(function(){return E})),i.d(o,"hasOwn",(function(){return P})),i.d(o,"sortBy",(function(){return A})),i.d(o,"getByOrder",(function(){return B})),i.d(o,"serialize",(function(){return R})),i.d(o,"deepExtend",(function(){return $})),i.d(o,"watermark",(function(){return D})),i.d(o,"LocalStorage",(function(){return z})),i.d(o,"getType",(function(){return O})),i.d(o,"isUndefined",(function(){return _})),i.d(o,"isDefined",(function(){return j})),i.d(o,"isFn",(function(){return C})),i.d(o,"loadJS",(function(){return I})),i.d(o,"listStringHasValue",(function(){return F})),i.d(o,"listRemoveItem",(function(){return q})),i.d(o,"get",(function(){return L})),i.d(o,"set",(function(){return N}));var n={};i.r(n),i.d(n,"defaultFieldConfig",(function(){return xe})),i.d(n,"defaultListFieldWidth",(function(){return we})),i.d(n,"defaultBlockConfig",(function(){return Oe})),i.d(n,"defaultBlockProps",(function(){return _e})),i.d(n,"defaultBlockDatas",(function(){return je})),i.d(n,"baseBlockType",(function(){return Ce})),i.d(n,"baseFieldType",(function(){return Se})),i.d(n,"resource",(function(){return Te})),i.d(n,"get",(function(){return G})),i.d(n,"set",(function(){return Q})),i.d(n,"view",(function(){return ee})),i.d(n,"equals",(function(){return te})),i.d(n,"getFile",(function(){return ie})),i.d(n,"setFile",(function(){return oe})),i.d(n,"viewFile",(function(){return ne})),i.d(n,"getArray",(function(){return le})),i.d(n,"setArray",(function(){return ae})),i.d(n,"getterArray",(function(){return se})),i.d(n,"setterArray",(function(){return re})),i.d(n,"viewerArray",(function(){return ce})),i.d(n,"getterCascader",(function(){return pe})),i.d(n,"setterCascader",(function(){return ue})),i.d(n,"getSelect",(function(){return de})),i.d(n,"setSelect",(function(){return fe})),i.d(n,"getDate",(function(){return he})),i.d(n,"setDate",(function(){return me})),i.d(n,"viewDate",(function(){return be})),i.d(n,"viewPassword",(function(){return ge})),i.d(n,"getUnits",(function(){return ye})),i.d(n,"setUnits",(function(){return ve})),i.d(n,"viewUnits",(function(){return ke})),i.d(n,"LIST",(function(){return Pe})),i.d(n,"LINE",(function(){return Ae})),i.d(n,"BAR",(function(){return Be})),i.d(n,"PIE",(function(){return Re})),i.d(n,"FUNNEL",(function(){return $e})),i.d(n,"SCATTER",(function(){return De})),i.d(n,"RADAR",(function(){return Ve})),i.d(n,"RESET_GET_SET",(function(){return Me})),i.d(n,"SELECT_REMOTE",(function(){return Fe})),i.d(n,"FORM_SUBMIT",(function(){return qe}));var l={};i.r(l),i.d(l,"routerPush",(function(){return Kt})),i.d(l,"routerReplace",(function(){return Ut})),i.d(l,"routerGo",(function(){return Ht}));var a={};i.r(a),i.d(a,"commonHandlerItem",(function(){return Qt})),i.d(a,"addItemAfter",(function(){return ei})),i.d(a,"addItemDialog",(function(){return ii})),i.d(a,"addItemDrawer",(function(){return ni})),i.d(a,"editItemAfter",(function(){return ai})),i.d(a,"editItemDialog",(function(){return ri})),i.d(a,"editItemDrawer",(function(){return pi})),i.d(a,"viewItemDialog",(function(){return di})),i.d(a,"viewItemDrawer",(function(){return hi}));i("0c1f"),i("2e73"),i("d7a5"),i("0750"),i("0ee3"),i("e125");var s=i("768b"),r=(i("4fb0"),i("bd86")),c=(i("df26"),i("3b8d")),p=(i("c880"),i("2b0e")),u=i("9ec3"),d=i("7618");i("ae66"),i("04f7");function f(e){return/^(https?:|mailto:|tel:)/i.test(e)}function h(e){for(var t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=e.replace(/^[^\?#]*[\?#]/,""),n={},l=new RegExp("(?:^|\\&)([^\\=\\&]+)(?:\\=([^\\&#]*))?","g");t=l.exec(o);){var a=i?decodeURIComponent(t[1]):t[1];n[a]=i?decodeURIComponent(t[2]||""):t[2]||""}return n}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href;t=t.replace(/^.*\?/,"");var i=new RegExp("(?:^|[?&])".concat(e,"=([^&#]*)")),o=i.exec(t);return o&&o[1]||""}var b=i("050d"),g=i.n(b);function y(e,t){if(!e)return"";var i;if(e instanceof Date)i=e;else{var o=parseInt(e,10),n=String(e).length;if(10===n&&o==e)i=new Date(1e3*o);else{if(!(n>10&&n<=13&&o==e))return e;i=new Date(o)}}var l=i.getHours();return t.replace(/yyyy/g,i.getFullYear()).replace(/MM/g,"0".concat(i.getMonth()+1).slice(-2)).replace(/dd/g,"0".concat(i.getDate()).slice(-2)).replace(/hh/g,"0".concat(l).slice(-2)).replace(/HH/g,"0".concat(l).slice(-2)).replace(/mm/g,"0".concat(i.getMinutes()).slice(-2)).replace(/ss/g,"0".concat(i.getSeconds()).slice(-2)).replace(/A/g,(function(){return l>12?"PM":"AM"})).replace(/a/g,(function(){return l>12?"pm":"am"}))}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LLL",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return g()(e,i).format(t)}function k(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!1),{remove:function(){e.removeEventListener(t,i,!1)}}):e.attachEvent?(e.attachEvent("on".concat(t),i),{remove:function(){e.detachEvent("on".concat(t),i)}}):null}function x(e){for(var t=0,i=0;e.offsetParent;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:t,top:i}}function w(e,t){return(e.currentStyle||window.getComputedStyle(e,null)||document.defaultView.getComputedStyle(e,null))[t]}i("288e"),i("632c"),i("a7e1");function O(e){return Object.prototype.toString.call(e).replace(/^\[\w+ (\w+)\]$/,"$1").toLowerCase()}function _(e){return void 0===e}function j(e){return!_(e)}function C(e){return"function"==typeof e}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=null;return function(){var o=this,n=arguments;i&&clearTimeout(i),i=setTimeout((function(){e.apply(o,n)}),t)}}function E(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}var T=Object.prototype.hasOwnProperty;function P(e,t){return T.call(e,t)}function A(e,t){return Array.isArray(e)&&e.length?e.sort((function(e,i){return function(e,t){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var n=[],l=!0;if(i.length<1)for(var a in e){if(e[a]>t[a]){n.push(1);break}if(e[a]!==t[a]){n.push(-1);break}n.push(0)}else for(var s=0;s<i.length;s++){var r=i[s];for(var c in r)if(P(r,c)){if(l=Boolean("ascending"===r[c]),e[c]>t[c]){n.push(l?1:-1);break}if(e[c]!==t[c]){n.push(l?-1:1);break}n.push(0)}}for(var p=0;p<n.length;p++)if(1===n[p]||-1===n[p])return n[p];return 0}(e,i,t)})):[]}function B(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=t.find(j);return o||t[t.length-1]}function R(e,t,i){var o,n=Array.isArray(t),l="object"===O(t);Object.keys(t).forEach((function(a){var s=t[a];o=O(s),i&&(a=i+"["+(l||"object"===o||"array"===o?a:"")+"]"),!i&&n?e.add(s.name,s.value):"array"===o||"object"===o?R(e,s,a):e.add(a,s)}))}function $(e,t){var i=O(t);if("object"===i||"array"===i)for(var o in t)if(t.hasOwnProperty(o)){var n=e[o],l=t[o],a=O(n),s=O(l);if("object"===s){var r="object"===a?n:{};e[o]=$(r,l)}else if("array"===s){var c="array"===a?n:[];e[o]=$(c,l)}else e[o]=t[o]}return e}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,i=void 0===t?document.body:t,o=e.uid,n=void 0===o?"uid":o,l=e.width,a=void 0===l?"300px":l,s=e.height,r=void 0===s?"200px":s,c=e.textAlign,p=void 0===c?"center":c,u=e.textBaseline,d=void 0===u?"middle":u,f=e.font,h=void 0===f?"18px Microsoft Yahei":f,m=e.fillStyle,b=void 0===m?"rgba(236, 234, 234, 0.8)":m,g=e.content,y=void 0===g?"请勿外传":g,v=e.rotate,k=void 0===v?"30":v,x=e.zIndex,w=void 0===x?1e3:x,O=arguments[0],_=document.createElement("canvas");_.setAttribute("width",a),_.setAttribute("height",r);var j=_.getContext("2d");j.textAlign=p,j.textBaseline=d,j.font=h,j.fillStyle=b,j.rotate(Math.PI/180*k),j.fillText(y,parseFloat(a)/2,parseFloat(r)/2);var C=_.toDataURL(),S="__wm_".concat(n),E=document.querySelector(".".concat(S)),T=E||document.createElement("div"),P="\n        position:absolute;\n        top:0;\n        left:0;\n        width:100%;\n        height:100%;\n        z-index:".concat(w,";\n        pointer-events:none;\n        background-repeat:repeat;\n        background-image:url('").concat(C,"')");T.setAttribute("style",P),T.classList.add(S),E||(i.style.position="relative",i.insertBefore(T,i.firstChild));var A=window.MutationObserver||window.WebKitMutationObserver;if(A){var B=new A((function(){var e=document.querySelector(".".concat(S));(e&&e.getAttribute("style")!==P||!e)&&(B.disconnect(),B=null,D($({},O)))}));B.observe(i,{attributes:!0,subtree:!0,childList:!0})}}var V=window.localStorage,M=function(){var e=st.configs.appName;return e?e.toLocaleUpperCase()+"_":""},z={set:function(e,t){if(void 0===t)V.removeItem(e);else try{V.setItem("AMS_"+M()+e,JSON.stringify(t))}catch(e){console.error("localStorage的空间已满，问题详情：",e)}},get:function(e){var t=V.getItem("AMS_"+M()+e);try{return JSON.parse(t)}catch(e){return t}},remove:function(e){V.removeItem("AMS_"+e)}};function I(e){return new Promise((function(t,i){var o=document.createElement("script");o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t({code:0,msg:"success: "+e}))}:o.onload=function(){t({code:0,msg:"success: "+e})},o.onerror=function(){i(Error(e+"load error!"))},o.src=e,document.body.appendChild(o)}))}function F(e,t){return e&&String(e).split(",").indexOf(t)>=0}function q(e,t){if(e){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function L(e,t){t=t.split(".");for(var i=/^([\w-]+)\[(\d+)\]$/,o=0;o<t.length;o++){if("]"===t[o].charAt(t[o].length-1)){var n=i.exec(t[o]);(e=e[n[1]])&&(e=e[n[2]])}else e=e[t[o]];if(null==e)return}return e}function N(e,t,i){t=t.split(/\.|\[/);for(var o=0;o<t.length-1;o++)if(null==(e="]"===t[o].charAt(t[o].length-1)?e[t[o].slice(0,-1)]:e[t[o]]))return!1;return!!e&&(Array.isArray(e)?e.splice(t.pop().replace(/\]$/,""),1,i):e[t.pop()]=i,!0)}function K(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function U(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?K(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var H=["POST","PUT","DELETE","PATCH"];i("ce9c");function W(e){return e}function Y(e){return null==e||""===e}var J,X,Z,G=W,Q=W,ee=W,te=function e(t,i,o){if(o&&!1!==o.emptyEquel&&!t&&!i)return!0;if(t===i)return!0;if(t instanceof File&&i instanceof File){for(var n in t)if(t[n]!==i[n])return!1;return!0}var l=Object(d.a)(t),a=Object(d.a)(i);if(l===a&&"object"===l){if(null===t||null===i)return!1;var s=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(i);if(s.length!==r.length)return!1;for(var c=0;c<s.length;c++){var p=s[c];if(!e(t[p],i[p]))return!1}return!0}return("function"===l||"function"===a)&&String(t)===String(i)},ie=function(e){return e?[{name:e.replace(/^.*\/(?=\w+\.\w+$)/,""),url:e}]:[]},oe=function(e){return Array.isArray(e)?e.map((function(e){return e.url})).join(","):""},ne=function(e){return e?e.replace(/^.*\/(?=\w+\.\w+$)/,""):""},le=function(e,t){if(Y(e))return[];var i=t&&t.props&&t.props.props||{},o=i.multiple&&i.splitBy;return String(e).split(o||",")},ae=function(e,t){var i=t&&t.props&&t.props.props||{},o=i.multiple&&i.splitBy;return Array.isArray(e)?e.join(o||","):""},se=function(e){return function(t,i){return Y(t)?[]:String(t).split(",").map((function(t){return e(t,i)}))}},re=function(e){return function(t,i){return t?t.map((function(t){return e(t,i)})).join(","):""}},ce=function(e){return function(t,i){var o="dates"===i.props.type?", ":" 至 ";return(Y(t)?[]:String(t).split(",").map((function(t){return e(t,i)}))).join(o)}},pe=function(e){return function(t,i){return Y(t)?[]:i&&i.props&&i.props.props&&i.props.props.multiple?String(t).split(",").map((function(t){return e(t,i)})):String(t).split(",")}},ue=function(e){return function(t,i){return i&&i.props&&i.props.props&&i.props.props.multiple?t?t.map((function(t){return e(t,i)})).join(","):"":t?t.join(","):""}},de=function(e,t){return t.props.multiple?le(e):e},fe=function(e,t){return t.props.multiple?ae(e):e},he=function(e,t){return/^(-)?\d{1,13}$/.test(e)?Number(e):e},me=function(e,t){return e instanceof Date?e.getTime():e},be=function(e,t){var i=t.format;if(!i)switch(t.props.type){case"year":i="yyyy";break;case"month":i="yyyy-MM";break;case"datetimerange":case"datetime":i="yyyy-MM-dd HH:mm:ss";break;case"timepicker":case"timerange":i="HH:mm:ss";break;default:i="yyyy-MM-dd"}return y(e,i)},ge=function(e){return e?e.replace(/./g,"*"):""},ye=function(e,t){for(var i=t.defaultUnit,o=t.props&&"prepend"===t.props.slot,n=0;n<t.units.length;n++){var l=o?"^"+t.units[n]:t.units[n]+"$";if(new RegExp(l).test(e)){i=t.units[n];break}}var a=o?"^"+i:i+"$";return{unit:i,val:e?e.replace(new RegExp(a),""):""}},ve=function(e,t){return t.props&&"prepend"===t.props.slot?e.unit+e.val:e.val+e.unit},ke=function(e,t){return e},xe={audio:{props:{action:""},get:ie,set:oe,view:ee,equals:te},cascader:{props:{filterable:!0,clearable:!0,props:{expandTrigger:"hover",splitBy:"/"}},get:pe(le),set:ue(ae),view:ee,equals:te},checkbox:{get:le,set:ae,view:ee,equals:te},date:{props:{type:"date",placeholder:"选择日期"},get:he,set:me,view:be,equals:te},datetime:{props:{type:"datetime",placeholder:"选择日期时间"},get:he,set:me,view:be,equals:te},datetimerange:{props:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},get:se(he),set:re(me),view:ce(be),equals:te},file:{props:{action:""},get:ie,set:oe,view:ne,equals:te},image:{props:{accept:"image/*",action:"",fit:"cover","show-file-list":!1},get:G,set:Q,view:ee,equals:te},inputnumber:{get:G,set:Q,view:ee,equals:te,emptyEquel:!1},password:{props:{clearable:!0,type:"password"},get:G,set:Q,view:ge,equals:te},progress:{props:{"text-inside":!0,"stroke-width":18,"show-input":!0,"input-size":"mini"},get:G,set:Q,view:ee,equals:te},radio:{get:G,set:Q,view:ee,equals:te,emptyEquel:!1},rate:{props:{"text-color":"#ff9900","show-score":!0},get:G,set:Q,view:ee,equals:te},select:{props:{multiple:!0},get:de,set:fe,view:ee,equals:te,emptyEquel:!1},slider:{get:G,set:Q,view:ee,equals:te},switch:{props:{"active-value":1,"inactive-value":0},get:G,set:Q,view:ee,equals:te},text:{props:{clearable:!0},default:"",get:G,set:Q,view:ee,equals:te},textarea:{props:{clearable:!0,type:"textarea"},default:"",get:G,set:Q,view:ee,equals:te},time:{props:{placeholder:"选择时间"},get:G,set:Q,view:ee,equals:te},timepicker:{props:{placeholder:"选择时间",type:"timepicker"},get:he,set:me,view:be,equals:te},timerange:{props:{type:"timerange","is-range":!0,"start-placeholder":"开始时间","end-placeholder":"结束时间"},get:se(he),set:re(me),view:ce(be),equals:te},transfer:{props:{filterable:!0,props:{key:"value"}},get:le,set:ae,view:ee,equals:te},unitselect:{get:ye,set:ve,view:ke,equals:te},video:{props:{action:""},get:ie,set:oe,view:ee,equals:te},tree:{props:{"default-expand-all":!0,"node-key":"value"},get:le,set:ae,view:ee,equals:te},default:{get:G,set:Q,view:ee,equals:te}},we={rate:"170px",unitselect:"170px",select:"140px",datetimerange:"340px",cascader:"250px",image:"120px",file:"160px",progress:"150px",video:"200px",audio:"160px"},Oe={},_e={form:{ref:"amsForm","label-width":"100px"},list:{ref:"amsForm"},imagelist:{shadow:"hover",subtitle:"hover","empty-text":"暂无数据"},dialog:{top:"5vh",width:"80%"},popover:{placement:"bottom-start",width:"200",trigger:"hover"}},je={router:{title:"系统标题"}},Ce={list:"list",table:"list",imagelist:"list"},Se={array:"array",object:"object",union:"union"},Ee=(i("4f72"),i("0d9c"),i("8767")),Te={api:{withCredentials:!0,contentType:"form",successCode:0},codes:{"-1701":function(e,t){var i=Object(u.get)(e,"data.data.redirectUrl");if(!i)return e;var o=i.includes("?")?"&":"?";return location.href="".concat(i).concat(o,"ams_redirect_url=").concat(encodeURIComponent(location.href)),!1},"-1702":function(e,t){return Ee.Message.error(e.data&&e.data.msg||"没有操作权限"),!1}}},Pe={type:"list"},Ae={type:"line",tooltip:{show:!0,trigger:"axis"},legend:{data:"data.legend"},xAxis:{data:"data.xAxis"}},Be={type:"bar",tooltip:{show:!0,trigger:"axis"},legend:{data:"data.legend"},xAxis:{data:"data.xAxis"}},Re={type:"pie",tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{data:"data.legend"}},$e={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},legend:{data:"data.legend"}},De={tooltip:{trigger:"item"},legend:{data:"data.legend"}},Ve={tooltip:{trigger:"item"},legend:{data:"data.legend"}},Me={get:G,set:Q,view:ee},ze={},Ie={},Fe={remoteConfig:{labelKey:"name",valueKey:"id",queryKey:"query",action:"",dataPath:"data.list",debounce:500,isInitRemoteOptions:!0,isInitEmpty:!1,isCache:!0,isLock:!0,isMiniBackfill:!0,transform:function(e,t){var i=e.field.remoteConfig;return t.map((function(e){return{label:e[i.labelKey],value:e[i.valueKey]}}))},request:(Z=Object(c.a)(regeneratorRuntime.mark((function e(t){var i,o,n,l,a,s,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:"",o=t.field,n=o.remoteConfig,l=n.method&&n.method.toUpperCase(),a={url:n.action||n.url,method:l||"GET",params:{},data:{}},i&&(l&&"GET"!==l?H.indexOf(l)>=0&&(a.data[n.queryKey]=i):a.params[n.queryKey]=i),$(a.params,n.params),$(a.data,n.data),e.next=10,t.$ams.request(a);case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))),function(e){return Z.apply(this,arguments)}),remoteMethod:(X=Object(c.a)(regeneratorRuntime.mark((function e(t){var i,o,n,l,a,s,c,p,u,d,f,h,m=this,b=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.length>1&&void 0!==b[1]?b[1]:"",o=b.length>2?b[2]:void 0,l=function(){if(n){n.isLocking=!1;var e=n.query.shift();e&&t.field.remoteConfig.remoteMethod.apply(m,e)}},e.prev=3,a=t.field,!(s=a.remoteConfig).isLock){e.next=17;break}if(!(n=Ie[s.action])){e.next=14;break}if(!n.isLocking){e.next=12;break}return n.query.push([t,i,o]),e.abrupt("return");case 12:e.next=16;break;case 14:n={isLocking:!1,query:[]},Ie[s.action]=n;case 16:n.isLocking=!0;case 17:if(c=s.action,!(s.isCache&&o&&ze[c])){e.next=30;break}if(!(i&&ze[c][i]||s.isInitEmpty)){e.next=29;break}if(!s.isMiniBackfill||!i){e.next=25;break}return t.$set(t.field.props,"options",[{label:i,value:ze[c][i]}]),e.abrupt("return",l());case 25:return t.$set(t.field.props,"options",Object.keys(ze[c]).map((function(e){return{label:e,value:ze[c][e]}}))),e.abrupt("return",l());case 27:e.next=30;break;case 29:console.log("get options from cache fail");case 30:return t.loading=!0,e.next=33,s.request.call(this,t,i,o);case 33:p=e.sent,t.loading=!1,u=L(p.data,s.dataPath),d=void 0!==s.successCode?s.successCode:this.getConfig("resource.api.successCode"),p.data.code===d&&u?(f=s.transform.call(this,t,u),h=f.reduce((function(e,t){return Object.assign(e,Object(r.a)({},t.label,t.value))}),{}),s.isCache&&(ze[c]=$(ze[c]||{},h)),t.$set(t.field.props,"options",f),"function"==typeof s.onSuccess&&s.onSuccess(f,p)):(t.$set(t.field.props,"options",[]),"function"==typeof s.onError&&s.onError(u,p)),l(),e.next=45;break;case 41:e.prev=41,e.t0=e.catch(3),console.log("remoteMethod error:",e.t0),l();case 45:case"end":return e.stop()}}),e,this,[[3,41]])}))),function(e){return X.apply(this,arguments)})},props:{filterable:!0,remote:!0,options:{},"remote-method":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=(t=t||this.$parent).$block,o=t.field.remoteConfig;if(!i||!o||!o.action)return console.warn("no remote action or $block");o.debounce?(J&&clearTimeout(J),J=setTimeout((function(){o.remoteMethod.call(i,t,e,!1)}),o.debounce)):o.remoteMethod.call(i,t,e,!1)}}},qe={submit:{type:"button",label:"提交",props:{type:"primary"}}};function Le(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}var Ne=i("d80b"),Ke=i.n(Ne);function Ue(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function He(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ue(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var We={formatDate:v};var Ye={dayjs:g.a},Je={};function Xe(e,t){try{var i=He(He({},We),Ye);return(Je[e]||(Je[e]=Ke()(e,{imports:i,variable:"data"}))).call(t,t)}catch(e){return'<span class="text-danger">'.concat(e.message,"</span>")}}var Ze={};function Ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"string"!=typeof e)return"";for(var i=Object.keys(Ze),o=arguments.length,n=new Array(o>2?o-2:0),l=2;l<o;l++)n[l-2]=arguments[l];for(var a=0,s=i.length;a<s;a++){var r=i[a],c=Ze[r];if(c.test(e))return c.compile.apply(c,[e,t].concat(n))}return e}function Qe(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function et(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Qe(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}[function(){return{name:"lodash",test:function(e){return Boolean(e.indexOf("<%")>-1)},compile:function(e,t){return Xe(e,t)}}}].forEach((function(e){var t,i,o=e();t=o.name,i={test:o.test,compile:o.compile},Ze[t]=i}));var tt,it,ot,nt,lt=0,at={$prevReturn:"",actions:{},blocks:{},$blocks:{},resources:{},bus:null,$router:null,_setBlocks:function(e){var t=this,i=e.blocks,o=[];Object.keys(i).forEach((function(n){var l=i[n];t.block(n,l),l.slot?(e.slotBlocks[l.slot]||(e.slotBlocks[l.slot]=[]),e.slotBlocks[l.slot].push(n)):o.push(n)})),e.blocks=o},action:function(e,t){if(this.actions[e])return console.warn("重复注册action：",e);this.actions[e]=t},resource:function(e,t){return t&&((t=this.deepCloneConfig(t)).api=t.api||{},t.key=t.key||"id",e&&(this.resources[e]=t)),t},getBlock:(it=Object(c.a)(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=at.blocks[t],at.configs.consoleWarn&&!i&&console.warn("ams Err: can not find block: ".concat(t,", please run ams.block() first")),"function"!=typeof i){e.next=7;break}return e.next=5,i();case 5:(i=e.sent)&&(delete at.blocks[t],at.block(t,i));case 7:return e.abrupt("return",at.blocks[t]);case 8:case"end":return e.stop()}}),e)}))),function(e){return it.apply(this,arguments)}),block:function(e,t){var i=this;if(this.blocks[e]&&console.warn("重复注册block：",e),"function"!=typeof t){var o=at.configs.defaultBlockConfig&&at.configs.defaultBlockConfig[t.type];(t=this.deepCloneConfig(t,o)).props=et(et({},at.configs.defaultBlockProps[t.type]),t.props),t.options=t.options||{},t.resources&&Object.keys(t.resources).forEach((function(e){return i.resource(e,t.resources[e])})),t.config&&(this.config(t.config),delete t.config),t.slotBlocks=t.slotBlocks||{},t.blocks&&!Array.isArray(t.blocks)&&this._setBlocks(t),t.data=et(et({},at.configs.defaultBlockDatas[t.type]),t.data),t.events=t.events||{},t.actions=t.actions||{},"list"===this.configs.baseBlockType[t.type]?(t.data.pageSize=t.data.pageSize||t.pageSize||20,t.data.pageSizes=t.data.pageSizes||[10,20,30,40,50,100],t.data.layout=t.data.layout||"total, prev, sizes, pager, next, jumper",t.data.page=t.data.page||1,t.data.total=t.data.total||0,t.data.list=t.data.list||[],t.sorts=t.sorts||{},t.filters=t.filters||{},(t.searchs||t.searchsOptions)&&console.warn('列表的searchs和searchsOptions已在ams@0.6.0+废弃，请使用 slot operations 替代，如：  \nsearchs:{testText:true} 修改为\noperations: { testText: {type: "field", field: "testText", slot: "searchs"} }')):"dialog"!==t.type&&"drawer"!==t.type||(t.data.visible=!!t.data.visible),this.blocks[e]=t,t.render&&this.render(e,t.render)}else this.blocks[e]=t},render:function(e,t){!0!==t&&t&&("string"!=typeof t||document.querySelector(t))||((t=document.createElement("div")).id="ams-root-".concat(++lt),document.body.appendChild(t)),at.blocks[e]?new p.default({el:t,template:'<ams-block name="'.concat(e,'" />')}):console.warn("未注册block：",e)},$on:function(){var e;(e=this.bus).$on.apply(e,arguments)},$once:function(){var e;(e=this.bus).$once.apply(e,arguments)},$off:function(){var e;(e=this.bus).$off.apply(e,arguments)},$emit:function(){var e;(e=this.bus).$emit.apply(e,arguments)},callAction:(tt=Object(c.a)(regeneratorRuntime.mark((function e(){var t,i,o,n,l,a,r,c,p,d,f,h,m,b,g=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>0&&void 0!==g[0]?g[0]:"",i=g.length>1&&void 0!==g[1]?g[1]:{},t.trim()){e.next=4;break}return e.abrupt("return",at.$prevReturn);case 4:t=Ge(t,{ctx:at.$prevReturn}),o=t.split(/\s+/),n=0;case 7:if(!(n<o.length)){e.next=39;break}if(l=o[n]){e.next=11;break}return e.abrupt("return",at.$prevReturn);case 11:if(a=/^(@)?(?:(.*?)\.)?(.*?)(?::(.*))?$/.exec(l),(r=Object(s.a)(a,5))[0],c=r[1],p=r[2],d=r[3],f=r[4],a){e.next=15;break}return e.abrupt("return",at.$prevReturn);case 15:if(h=p?at.$blocks[p]:this,i.$arg=f||i.$arg||"",i.$context=this,i.$prevReturn=at.$prevReturn,c){e.next=25;break}if(!h||!h.emitEvent){e.next=23;break}return e.next=23,h.emitEvent(d,i);case 23:e.next=36;break;case 25:if(h){e.next=27;break}return e.abrupt("return",at.$prevReturn);case 27:if(m=Object(u.get)(h,"block.actions[".concat(d,"]"),at.actions[d])){e.next=30;break}return e.abrupt("return",at.$prevReturn);case 30:return e.next=32,m.call(h,i);case 32:if(b=e.sent){e.next=35;break}return e.abrupt("return",at.$prevReturn);case 35:at.$prevReturn=b;case 36:n++,e.next=7;break;case 39:return e.abrupt("return",at.$prevReturn);case 40:case"end":return e.stop()}}),e,this)}))),function(){return tt.apply(this,arguments)})};ot=at,nt=encodeURIComponent,ot.param=function(e){var t=[];return t.add=function(e,t){null==t&&(t=""),this.push(nt(e)+"="+nt(t))},R(t,e),t.join("&").replace(/%20/g,"+")},ot.formData=function(e){var t=new FormData;return Object.keys(e).forEach((function(i){var o=e[i];o=null==o?"":o,"object"===Object(d.a)(o)?o instanceof window.File||o instanceof window.Blob?t.append(i,o):t.append(i,JSON.stringify(o)):t.append(i,o)})),t},ot.request=function(e){return new Promise((function(t,i){ot.configs.resource.requestInterceptor&&(e=ot.configs.resource.requestInterceptor(e));var o=e,n=o.method,l=o.url,a=o.data,s=o.params,r=o.headers,c=void 0===r?{}:r,p=o.withCredentials,u=void 0===p?ot.configs.withCredentials:p,d=o.contentType,f=void 0===d?ot.configs.contentType:d,h=o.responseType,m=void 0===h?ot.configs.responseType||"":h,b=new XMLHttpRequest,g=null;n=(n||"GET").toUpperCase(),s&&(l+=(/\?/.test(l)?"&":"?")+Object.keys(s).map((function(e){return"".concat(e,"=").concat(nt(s[e]))})).join("&")),b.open(n,l,!0),H.indexOf(n)>=0&&("json"===f?(c["Content-Type"]=c["Content-Type"]||"application/json;charset=UTF-8",g=a?JSON.stringify(a):null):"multipart"===f?g=a?ot.formData(a):null:(c["Content-Type"]=c["Content-Type"]||"application/x-www-form-urlencoded;charset=UTF-8",g=a?ot.param(a):null)),Object.keys(c).forEach((function(e){b.setRequestHeader(e,c[e])}));var y=(ot.configs.resource||function(e){throw e}).errorInterceptor;function v(o,n){o.code=b.status||0,o.response=n,o.options=e;try{var l=y(o);l?t(l):i(new Error("cancel by error interceptor"))}catch(e){i(e)}}b.onreadystatechange=function(){if(4===b.readyState)if(200===b.status){var o={status:b.status,data:{}};try{o.data=JSON.parse(b.responseText)}catch(e){}ot.configs.resource.responseInterceptor&&(o=ot.configs.resource.responseInterceptor(o,e));var n=ot.configs.resource.codes,l=o&&o.data&&o.data.code;n&&n[l]&&(o=n[l](o,e)),o?t(o):i(new Error("cancel by response interceptor"))}else{var a={status:b.status,content:b.responseText};try{a.data=JSON.parse(b.responseText)}catch(e){}0!==b.status&&v(new Error("".concat(b.status)),a)}},b.onerror=function(){v(new Error("network error"))},b.withCredentials=u,b.responseType=m,b.send(g)}))},ot.createApiAction=function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var i,o,n,l,a,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>0&&void 0!==s[0]?s[0]:{},this.showLoading(),t.prev=2,o=U({contentType:this.getConfig("resource.api.contentType"),withCredentials:this.getConfig("resource.api.withCredentials")},(i.getOptions||e.getOptions).call(this,i)),n={},i.url&&(n.url=i.url),i.method&&(n.method=i.method),i.params&&(n.params=i.params),i.data&&(n.data=i.data),i.headers&&(n.headers=i.headers),i.contentType&&(n.contentType=i.contentType),void 0!==i.withCredentials&&(n.withCredentials=i.withCredentials),$(o,n),(l=i.beforeRequest||e.beforeRequest)&&(o=l.call(this,o,i)),t.next=17,ot.request(o);case 17:return a=t.sent,this.hideLoading(),t.abrupt("return",(i.success||e.success).call(this,a,o));case 22:throw t.prev=22,t.t0=t.catch(2),this.hideLoading(),t.t0;case 26:case"end":return t.stop()}}),t,this,[[2,22]])})))},function(e){function t(i,o){var n,l=O(i);if("object"===l){var a,s=("string"==typeof(n=i.BASE)&&(n=e.configs[n]),n?t(n):{});return"object"===O(o)?(a=o,Object.keys(s).forEach((function(i){e.configs.consoleWarn&&/\./.test(i)&&console.warn("ams Err: please do not use . in object key: ".concat(i,", it may cause some error"));var o=s[i];a[i]="object"===Object(d.a)(o)?t(o):o}))):a=s,Object.keys(i).forEach((function(o){if("BASE"!==o){e.configs.consoleWarn&&/\./.test(o)&&console.warn("ams Err: please do not use . in object key: ".concat(o,", it may cause some error"));var n=i[o];a[o]="object"===Object(d.a)(n)?t(n,a[o]):n}})),a}if("array"===l){for(var r=[],c=0;c<i.length;c++){var p=i[c];r.push("object"===Object(d.a)(i[c])?t(p):p)}return r}return i}e.configs=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Le(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({appName:"",sentPageMars:!1,sentBehaviorMars:!1,consoleWarn:!0},n),e.config=function(t){$(e.configs,t)},e.deepCloneConfig=t}(at);var st=at,rt=i("5f2b");function ct(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function pt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ct(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ut(e){if(e.block||e.redirect){var t=p.default.component("ams-block");return pt(pt({},e),{},{component:t,props:{name:e.block},path:e.meta.path,children:null})}if(e.component){var i=e.meta.path;return pt(pt({},e),{},{component:p.default.component(i.replace(/\/+/g,""),e.component),path:i,children:null})}return console.error("routes：".concat(e,", 配置有误")),{}}function dt(e){var t=[];return function e(t,i){for(var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=0;l<t.length;l++){var a=t[l];a.meta=a.meta||{};var s=n?"".concat(n,".").concat(l):"".concat(l);a.meta.index=s;var r="".concat(o,"/").concat(a.path).replace(/\/+/g,"/");a.meta.path=r,(a.block||a.redirect||a.component)&&!f(a.path)&&i.push(ut(a)),a.children&&a.children.length&&e(a.children,i,r,s)}return t}(e.routes,t),new rt.a(pt(pt({},e),{},{routes:t}))}var ft={created:function(){var e=this.$route.query.url;this.$router.replace({path:e})}},ht=i("2877"),mt=Object(ht.a)(ft,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports;function bt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function gt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function yt(e,t,i){}var vt,kt,xt,wt,Ot,_t={data:function(){return{block:null,data:null,fields:null,layout:null,resource:null,ready:!1,loading:!1,events:[]}},provide:function(){return{fieldChange:this.fieldChange,$block:this}},props:{name:{type:String,default:"",required:!0}},created:(Ot=Object(c.a)(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initBlock();case 2:this.setBlockData(this.block.data),this.initRouter(),this.$nextTick(Object(c.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ready=!0,e.next=3,t.emitEvent("created");case 3:return e.next=5,t.emitEvent("init");case 5:t.afterReady&&t.afterReady(),(i=t.block.options&&t.block.options.watermark)&&(i="object"===O(i)?i:{},D(Object.assign({container:t.$el,uid:t._uid},i))),t.getShowState(t.block,t.block.data)||(t.block.style=t.block.style||{},t.block.style={display:"none"});case 10:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e,this)}))),function(){return Ot.apply(this,arguments)}),computed:{on:function(){var e=this,t={};return this.block&&this.block.on&&Object.keys(this.block.on).forEach((function(i){t[i]=function(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(t=e.block.on[i]).call.apply(t,[e].concat(n))}})),t}},beforeDestroy:(wt=Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.emitEvent("beforeDestroy");case 2:this.events&&this.events.length&&this.events.forEach((function(e){return e.remove()}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return wt.apply(this,arguments)}),destroyed:(xt=Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.emitEvent("destroyed");case 2:delete st.$blocks[this.name];case 3:case"end":return e.stop()}}),e,this)}))),function(){return xt.apply(this,arguments)}),watch:{name:function(e,t){e&&this.initBlock(),st.$blocks[t]&&delete st.$blocks[t]}},methods:{getShowState:function(e,t){var i=Object(d.a)(e.show);return"undefined"===i||("function"===i?e.show.call(this.$block||this,t):"boolean"===i?e.show:void 0)},showLoading:function(){this.block&&!1!==this.block.options.showLoading&&(this.loading=!0)},hideLoading:function(){this.block&&!1!==this.block.options.showLoading&&(this.loading=!1)},getOperationsCounts:function(){if(this.block&&this.block.operations){var e={},t=this.block.operations;Object.keys(t).forEach((function(i){var o=t[i].slot||"operations";e[o]?e[o]++:e[o]=1})),this.block.operationsCounts=e}else this.block.operationsCounts={}},getConfig:function(e){return B(L(this,e),L(st.configs,e))},initRouter:function(){var e=this;this.block.router&&(this.routerReady=!1,this.block.router&&this.block.router.forcedRefresh&&this.block.router.routes.unshift({path:"amsblankpage",component:mt,meta:{hidden:!0}}),st.$router=dt(this.block.router),Object.keys(this.on).forEach((function(t){st.$router[t](e.on[t])})),p.default.component("ams-router").options.router=st.$router,this.$nextTick((function(){e.routerReady=!0})))},initActionsToVM:function(){this.$options.props;var e=this.block.actions||{};for(var t in e)this[t]=null==e[t]?yt:e[t].bind(this)},initResource:function(){var e=this.block.resource,t="string"==typeof this.block.resource;this.resource=t?st.resources[e]:st.resource("",e)},initBlock:(kt=Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.getBlock(this.name);case 2:this.block=e.sent,this.initActionsToVM(),this.block?(this.initResource(),st.$blocks[this.name]=this,this.initFields(),this.getOperationsCounts()):(this.resource=null,this.fields=null);case 5:case"end":return e.stop()}}),e,this)}))),function(){return kt.apply(this,arguments)}),initDefaultField:function(e){var t=this;if(e){var i=st.configs.baseFieldType[e.type];if("array"===i)e.field&&this.initDefaultField(e.field);else if("object"===i||"union"===i)e.fields&&Object.keys(e.fields).forEach((function(i){return t.initDefaultField(e.fields[i])}));else{var o=st.configs.defaultFieldConfig[e.type];o&&Object.keys(o).forEach((function(t){"props"===t?e.props?Object.keys(o.props).forEach((function(t){t in e.props?"props"===t&&(e.props[t]=Object.assign({},o.props[t]||{},e.props[t]||{})):e.props[t]=o.props[t]})):e.props=JSON.parse(JSON.stringify(o.props)):t in e||(e[t]=o[t])}))}e.ctx||(e.ctx=this.block.ctx||"view")}},initFields:function(){var e=this;if(this.resource&&this.resource.fields){var t={};Object.keys(this.resource.fields).forEach((function(i){var o=e.resource.fields[i],n=e.block.fields&&e.block.fields[i];if(!1!==n){n=n||{};var l={name:i,ctx:e.block.ctx||"view",props:{},on:{}};if($(l,o),$(l,n),e.initDefaultField(l),"list"===st.configs.baseBlockType[e.block.type]){e.block.sorts[i]&&(l.props.sortable="custom");var a=e.block.filters[i];if(a){var s=a.options||l.props.options;s&&(s=Array.isArray(s)?s.map((function(e){return{text:e.label,value:e.value}})):Object.keys(s).map((function(e){return{text:s[e],value:e}})),l.props.filters=s,l.props["filter-multiple"]=!!a.multiple,a.remote||(l.props["filter-method"]=function(e,t,o){return F(t[i],e)}))}}t[i]=l}})),this.fields=t,this.layout=this.getFieldsLayout(t,this.block.layout)}else this.fields=null},getFieldsLayout:function(e,t){var i={};for(var o in Object.keys(e).forEach((function(e){i[e]=e})),t)if(t.hasOwnProperty(o)){var n=t[o];if(Array.isArray(n))for(var l=0;l<n.length;l++)n[l]!==o&&(i[n[l]]=!1);i[o]=n}return i},setBlockData:function(e){if(["form"].indexOf(this.block.type)>-1){var t=this.setFieldData(e,{type:"object",fields:this.fields});this.data=gt(gt(gt({},this.data),e),t)}else this.data=gt(gt(gt({},this.data),e),JSON.parse(JSON.stringify(e)))},setFieldData:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=st.configs.baseFieldType[t.type]||t.type;if("object"===n){var l={};return e=e||t.default||{},t.fields?Object.keys(t.fields).forEach((function(n){t.fields[n]&&(l[n]=i.setFieldData(e[n],t.fields[n],o?"".concat(o,".").concat(n):n))})):l=JSON.parse(JSON.stringify(e)),this.emitEvent("fieldChange",{field:t,name:t.name,value:e,path:o}),l}if("array"===n){var a=[];if((e=e||t.default)&&t.field)for(var s=0;s<e.length;s++)a.push(this.setFieldData(e[s],t.field,"".concat(o,"[").concat(s,"]")));return this.emitEvent("fieldChange",{field:t,name:t.name,value:e,path:o}),a}return"union"===n&&t.fields&&t.current&&t.fields[t.current]?(e=e||t.default,this.setFieldData(e,t.fields[t.current],o)):(void 0===e&&(e="function"==typeof t.set&&"function"==typeof t.get?t.set(t.get(t.default,t),t):t.default),void 0!==e&&this.emitEvent("fieldChange",{field:t,name:t.name,value:e,path:o}),e)},fieldChange:function(e,t,i){st.utils.set(this.data,i,e)||console.warn("set ".concat(i," fail")),this.emitEvent("fieldChange",{field:t,name:t.name,value:e,path:i})},emitEvent:(vt=Object(c.a)(regeneratorRuntime.mark((function e(t,i){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(o=this.block.events[t],i=i||{},!o){e.next=9;break}return e.next=7,this.callAction(o,i);case 7:e.next=11;break;case 9:return e.next=11,this.callAction("@".concat(t),i);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return vt.apply(this,arguments)}),callAction:function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(){var t,i,o,n,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i),n=0;n<i;n++)o[n]=l[n];return e.next=3,(t=st.callAction).call.apply(t,[this].concat(o));case 3:return e.abrupt("return",st.$prevReturn);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}};function jt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Ct(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):jt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var St=function(){var e=this,t={};return this.field&&this.field.on&&Object.keys(this.field.on).forEach((function(i){t[i]=function(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(t=e.field.on[i]).call.apply(t,[e.$block].concat(n,[e]))}})),t},Et=function(){var e;return this.operation&&this.operation.tooltip?e=this.operation.tooltip:this.field&&this.field.tooltip&&(e=this.field.tooltip),e?"string"==typeof e?{effect:"dark",placement:"bottom",content:e}:"object"===Object(d.a)(e)?e:null:null},Tt=function(){var e;if(this.operation&&this.operation.badge?e=this.operation.badge:this.field&&this.field.badge&&(e=this.field.badge),e){if("function"==typeof e.value){var t=e.value.call(this.$block||this,this.context);return Ct(Ct({},e),{},!0===t?{value:"1",hidden:!1}:!1===t?{value:"",hidden:!0}:{value:t})}return e}},Pt=function(){var e=this.block.props||{},t=this.block.options||{},i=e["operations-width"]||t.operationsWidth;return t.operationsWidth&&console.warn("options.operationsWidth即将废弃，请使用props['operations-width']配置操作列宽度"),i},At={blockMixin:_t,fieldEditArrayMixin:{computed:{ctx:function(){return st.blocks[this.name]&&st.blocks[this.name].ctx||"edit"},on:St},inject:["fieldChange","$block"],props:["field","path","value","name","context"]},fieldButtonMixin:{computed:{on:St,tooltip:Et,badge:Tt},inject:["fieldChange","$block"],props:["field","path","value","name","context"],methods:{emit:function(){st.$prevReturn=this.context;var e=this.field;e.props&&e.props.emitFieldChange&&this.fieldChange(e.props.text||e.label,e,this.path),this.$block.emitEvent(e.event)}}},fieldEditOptionsMixin:{data:function(){return{loading:!1,isInitRemoteOptions:!1}},computed:{isSelectAll:{set:function(e){var t=this;this.localValue=e?this.options.filter((function(e){return!e.disabled})).map((function(e){return e.value})):[],this.$nextTick((function(){t.on&&"function"==typeof t.on.change&&t.on.change(t.localValue)}))},get:function(){var e=this;return!(!this.localValue||0===this.localValue.length||!this.isShowSelectAllCheck)&&this.options.filter((function(e){return!e.disabled})).map((function(e){return e.value})).every((function(t){return e.localValue.indexOf(t)>=0}))}},isShowSelectAllCheck:function(){var e=this.field;return("checkbox"===e.type||e.props.multiple)&&e.props["select-all"]},indeterminate:function(){return Boolean(this.localValue.length&&this.localValue.length<this.options.filter((function(e){return!e.disabled})).length)},options:function(){var e=this,t=[];return Array.isArray(this.field.props.options)?(!1===this.field.useStringValue||this.isSingleOptions(this.field)||this.field.props.options.forEach((function(e){e.value=String(e.value)})),t=this.field.props.options):"object"===Object(d.a)(this.field.props.options)&&Object.keys(this.field.props.options).forEach((function(i){t.push({value:i,label:e.field.props.options[i]})})),t}},methods:{isSingleOptions:function(e){return"radio"===e.type||"select"===e.type&&!1===e.props.multiple},initRemoteOptions:function(e){var t=this.field.remoteConfig;(e||t.isInitEmpty)&&t.isInitRemoteOptions&&(this.isInitRemoteOptions=!0,t.remoteMethod.call(this.$block,this,e,!0))},queryRemoteOptions:function(e){var t=this.field.remoteConfig;t&&t.remoteMethod.call(this.$block,this,e,!0)},initStyle:function(){this.$refs.select&&this.$refs.select.$el&&(this.$refs.select.$el.style.width="".concat(this.$refs.select.$el.offsetWidth-55,"px"))}},watch:{value:function(e){this.field.remoteConfig&&!this.isInitRemoteOptions&&this.initRemoteOptions(e)}},created:function(){var e=this;this.field.remoteConfig&&this.initRemoteOptions(this.value),this.isShowSelectAllCheck&&this.$nextTick((function(){e.initStyle()}))}},fieldEditMixin:{computed:{on:St,tooltip:Et,localValue:{get:function(){return this.field.get?this.field.get(this.value,this.field):this.value},set:function(e){var t=this.field.set?this.field.set(e,this.field):e;(this.field.equals?this.field.equals(t,this.value,this.field):te(t,this.value,this.field))||this.fieldChange(t,this.field,this.path)}}},inject:["fieldChange","$block"],props:["field","path","value","name"]},fieldViewArrayMixin:{computed:{ctx:function(){return st.blocks[this.name]&&st.blocks[this.name].ctx||"view"}},props:["field","path","value","name","context"]},fieldViewOptionsMixin:{data:function(){return{loading:!1,isInitRemoteOptions:!1}},computed:{selectOptions:function(){var e=[],t=this.field||{},i=t.props||{};if(void 0!==this.value){var o=t.view?t.view(this.value,this.field,this.context):this.value,n="",l=i.splitBy;n=o&&l&&o===l?[l]:String(o).split(l||",");var a={};Array.isArray(i.options)?i.options.forEach((function(e){a[e.value]=e.label})):a=i.autoOptions&&n.filter((function(e){return e})).length?n.map((function(e){return{label:e,value:e}})):i.options||{},n.forEach((function(t){e.push(a.hasOwnProperty(t)?a[t]:t)}))}return e},showOptionsLimit:function(){var e=this.field.collapseLimit;return e?"number"==typeof e?e:1:this.selectOptions.length},showMoreIcon:function(){return this.field.collapseLimit&&this.selectOptions.length>this.showOptionsLimit},actualSelectOptionsText:function(){return this.showMoreIcon?this.selectOptions.slice(0,this.showOptionsLimit).join("，"):this.selectOptions.join("，")},dropdownOptions:function(){return this.selectOptions.slice(this.field.collapseLimit)}},methods:{initRemoteOptions:function(e){var t=this.field.remoteConfig;(e||t.isInitEmpty)&&t.isInitRemoteOptions?(this.isInitRemoteOptions=!0,t.remoteMethod.call(this.$block,this,e,!0)):this.isInitRemoteOptions=!0}},watch:{value:function(e){this.field.remoteConfig&&!this.isInitRemoteOptions&&this.initRemoteOptions(e)}},created:function(){this.field.remoteConfig&&this.initRemoteOptions(this.value)}},fieldViewMixin:{computed:{on:St,viewValue:function(){var e=this.field.view;return"string"==typeof e?Ge(e,{fieldValue:this.value,filed:this.field,context:this.context}):e?e(this.value,this.field,this.context):this.value}},inject:["$block"],props:["field","path","value","name","context"]},operationMixin:{props:{name:{type:String,default:"",required:!0},path:{type:String,default:""},operationKey:{type:String,default:"",required:!0},operation:{type:Object,required:!0},context:{type:[String,Object,Array],default:"",required:!1}},inject:["$block"],methods:{emit:function(){st.$prevReturn=this.context;var e=this.operation.props&&this.operation.props.allowNoSelect;"list"!==this.$block.block.type||"multipleSelect"!==this.path||e||!Array.isArray(this.context)||this.context.length?this.$block.emitEvent(this.operation.event||this.operationKey,{operation:this.operation}):this.$message("已选择的数据项为空")}},computed:{tooltip:Et,badge:Tt}},getShowState:{methods:{getShowState:function(e,t){if(!e||e.hidden)return!1;var i=Object(d.a)(e.show);return"undefined"===i||("string"===i?!e.show||L(t,e.show):"object"===i?!e.show.name||L(t,e.show.name)==e.show.value:"function"===i?e.show.call(this.$block||this,t):"boolean"===i?e.show:void 0)}}},getField:{methods:{getField:function(e,t){return t&&e.changeConfig?e.changeConfig($({},e),t,this):e}}}};function Bt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Rt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Bt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function $t(e,t){var i=t.$arg,o=t.$prevReturn,n="",l=m(e);return this.data[e]?(n=this.data[e],console.log("this.data[key]",n)):o&&o[e]?(n=o[e],console.log("$prevReturn",n)):o&&Array.isArray(o)&&o.length?(n=o.map((function(t){return t[e]})).filter((function(e){return e})).join(","),console.log("$prevReturn",n)):!this.data.hasOwnProperty(e)&&o&&"function"==typeof o.hasOwnProperty&&!o.hasOwnProperty(e)&&l?(n=l,console.log("getQueryString",n)):i&&(n=i,console.log("$arg",n)),n}function Dt(e){var t=this,i={},o=this.resource&&this.resource.foreignKeys;return o&&o.forEach((function(o){i[o]=$t.call(t,o,e)})),i}function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,n={};e.path&&(n.url="".concat(e.prefix||i).concat(e.path)),"string"===O(e.requestDataParse)&&(e.requestDataParse=new Function("return ".concat(e.requestDataParse))());var l=C(e.requestDataParse)?e.requestDataParse(o):o;return n.method=(e.method||t).toUpperCase(),H.indexOf(n.method)>=0?n.data=l:n.params=l,n}var Mt,zt=st.createApiAction({getOptions:function(e){if(this.resource){var t=this.resource.key,i=$t.call(this,t,e),o=this.resource.api,n=o.read,l=o.prefix,a=this.resource.api.method||"get";return"object"===Object(d.a)(n)?Vt(n,a,l,Rt(Object(r.a)({},t,i),Dt.call(this,e))):{url:"".concat(l).concat(n),method:a,params:Rt(Object(r.a)({},t,i),Dt.call(this,e))}}console.error("resource参数配置有误，请检查")},success:function(e){var t=this.getConfig("resource.api.read.successCode")||this.getConfig("resource.api.successCode");if(e.data.code!==t)throw this.$message.error("".concat(e.data.msg,"(").concat(e.data.code,")")),"@read:"+e.data.code;var i=this.resource.api.read;return"object"===Object(d.a)(i)&&"function"==typeof i.transform?this.setBlockData(i.transform(e.data.data)):"object"===Object(d.a)(i)&&"function"==typeof i.responseDataParse?this.setBlockData(i.responseDataParse(e.data)):this.setBlockData(e.data.data),e}}),It=st.createApiAction({getOptions:function(e){var t=this.resource.key,i=$t.call(this,t,e),o=this.resource.api,n=o.update,l=o.prefix,a=this.resource.api.method||"post";return"object"===Object(d.a)(n)?Vt(n,a,l,Rt(Rt(Object(r.a)({},t,i),Dt.call(this,e)),this.data)):{url:"".concat(l).concat(n),method:a,params:Rt(Object(r.a)({},t,i),Dt.call(this,e)),data:this.data}},success:function(e){var t=this.getConfig("resource.api.update.successCode")||this.getConfig("resource.api.successCode");if(e.data.code!==t)throw this.$message.error("".concat(e.data.msg,"(").concat(e.data.code,")")),"@update:"+e.data.code;return this.$message.success("更新成功"),"function"==typeof this.on["update-success"]&&this.on["update-success"](e.data),e}}),Ft=st.createApiAction({getOptions:function(e){var t=this.resource.key,i=$t.call(this,t,e),o=this.resource.api.prefix,n=this.resource.api.delete,l=this.resource.api.method||"post";return"object"===Object(d.a)(n)?Vt(n,l,o,Rt(Object(r.a)({},t,i),Dt.call(this,e))):{url:"".concat(o).concat(n),method:l,params:Rt(Object(r.a)({},t,i),Dt.call(this,e))}},success:function(e){var t=this.getConfig("resource.api.delete.successCode")||this.getConfig("resource.api.successCode");if(e.data.code!==t)throw this.$message.error("".concat(e.data.msg,"(").concat(e.data.code,")")),"@delete:"+e.data.code;return this.$message.success("删除成功"),"function"==typeof this.on["delete-success"]&&this.on["delete-success"](e.data),e}}),qt=st.createApiAction({getOptions:function(e){var t=this.resource.api,i=t.create,o=t.prefix,n=this.resource.api.method||"post";return"object"===Object(d.a)(this.resource.api.create)?Vt(i,n,o,Rt(Rt({},Dt.call(this,e)),this.data)):{url:"".concat(o).concat(i),method:n,params:Rt({},Dt.call(this,e)),data:this.data}},success:function(e){var t=this.getConfig("resource.api.create.successCode")||this.getConfig("resource.api.successCode");if(e.data.code!==t)throw this.$message.error("".concat(e.data.msg,"(").concat(e.data.code,")")),"@create code:"+e.data.code;return this.$message.success("创建成功"),"function"==typeof this.on["create-success"]&&this.on["create-success"](e.data),e}}),Lt=st.createApiAction({getOptions:function(e){var t=this;if(e.$arg){var i=Number(e.$arg);isNaN(i)||(this.data.page=i)}var o=Rt({page:this.data.page,pageSize:this.data.pageSize},Dt.call(this,e));this.sortField&&(o.sortField=this.sortField,"ascending"===this.sortOrder?o.sortOrder="asc":"descending"===this.sortOrder&&(o.sortOrder="desc")),Object.keys(this.filters).forEach((function(e){o[e]=t.filters[e]})),this.data.searchs&&Object.keys(this.data.searchs).forEach((function(e){var i=t.data.searchs[e];(i||0===i)&&(o[e]=i)})),this.data.rightTop&&Object.keys(this.data.rightTop).forEach((function(e){var i=t.data.rightTop[e];(i||0===i)&&(o[e]=i)})),this.data.leftBottom&&Object.keys(this.data.leftBottom).forEach((function(e){var i=t.data.leftBottom[e];(i||0===i)&&(o[e]=i)})),this.data.rightBottom&&Object.keys(this.data.rightBottom).forEach((function(e){var i=t.data.rightBottom[e];(i||0===i)&&(o[e]=i)}));var n=this.resource.api,l=n.list,a=n.prefix,s=this.resource.api.method||"get";return"object"===Object(d.a)(l)?Vt(l,s,a,o):{url:"".concat(a).concat(l),method:s,params:o}},success:function(e){var t=this.getConfig("resource.api.list.successCode")||this.getConfig("resource.api.successCode");if(e.data.code!==t||!e.data.data)throw this.$message.error("".concat(e.data.msg,"(").concat(e.data.code,")")),"@list:"+e.data.code;var i=this.resource.api.list;if(this.data.total=e.data.data.total,"object"===Object(d.a)(i)&&"function"==typeof i.transform)this.data.list=i.transform(e.data.data.list)||[];else if("object"===Object(d.a)(i)&&"function"==typeof i.responseDataParse){var o=i.responseDataParse(e.data);"object"!==O(o)?(console.error("responseDataParse中需要返回object类型，如{ list: [] }"),this.data.list=[]):Object.assign(this.data,o)}else this.data.list=e.data.data.list||[];return"function"==typeof this.on["list-success"]&&this.on["list-success"](e.data),e}});function Nt(){st.$router=dt({routes:[]})}function Kt(e){return new Promise((function(t,i){st.$router||Nt(),st.$router.push(e.$arg||e,(function(){t()}),(function(){i(new Error("cancel"))}))}))}function Ut(e){return new Promise((function(t,i){st.$router||Nt(),st.$router.replace(e.$arg||e,(function(){t()}),(function(){i(new Error("cancel"))}))}))}function Ht(e){return new Promise((function(t,i){st.$router||Nt(),st.$router.go(e.$arg||e.step),setTimeout((function(){t()}),0)}))}function Wt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Yt(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Wt(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Jt="$amsWrapItemBlock",Xt="".concat(Jt,"Form"),Zt={add:"添加",edit:"修改",view:"查看"},Gt={view:"view",edit:"edit",add:"edit"};function Qt(e){var t=this,i=e.blockConfig,o=e.type,n=e.resource,l=e.insertType,a=(e.$prevReturn,e.operation||{}),s=a.fields,c=a.formProps,p=a.dialogProps;return new Promise((function(e,a){var u=t;if(Mt){var d=st.blocks[Mt];d&&q(d.blocks,Jt)}i=$({type:["dialog","drawer"].includes(l)?l:"component",data:{title:Zt[o]},options:{is:"div"},props:Yt({id:Jt,"append-to-body":!0},p),style:{padding:["dialog","drawer"].includes(l)?"0":"20px 0"},events:{cancel:"@hide @remove",submit:"@".concat(Xt,".validate @").concat(Xt,".").concat("add"===o?"create":"update"," @").concat(Mt,".list @hide @remove")},actions:{remove:function(){q(u.block.blocks,Jt),e()}},blocks:Object(r.a)({},Xt,{type:"form",ctx:Gt[o],resource:n||t.resource,fields:s,props:c,actions:{init:function(e){var t=e.$prevReturn;this.setBlockData(t)}}}),operations:{submit:{type:"button",label:Zt[o],props:{type:"primary"}},cancel:{type:"button",label:"取消"}},on:{closed:function(){console.log("closed"),q(u.block.blocks,Jt),e()}}},i),"view"===o&&delete i.operations.submit,st.block(Jt,i),Mt=t.name,setTimeout((function(){t.block.blocks?t.block.blocks.push(Jt):t.$set(t.block,"blocks",[Jt]),t.callAction("@wait @".concat(Jt,".show")),setTimeout((function(){var e=document.getElementById(Jt);e&&e.scrollIntoViewIfNeeded(!1)}),0)}),0)}))}function ei(e){return ti.apply(this,arguments)}function ti(){return(ti=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"add",insertType:"after"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ii(e){return oi.apply(this,arguments)}function oi(){return(oi=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"add",insertType:"dialog"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ni(e){return li.apply(this,arguments)}function li(){return(li=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"add",insertType:"drawer"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ai(e){return si.apply(this,arguments)}function si(){return(si=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"edit",insertType:"after"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ri(e){return ci.apply(this,arguments)}function ci(){return(ci=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"edit",insertType:"dialog"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function pi(e){return ui.apply(this,arguments)}function ui(){return(ui=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"edit",insertType:"drawer"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function di(e){return fi.apply(this,arguments)}function fi(){return(fi=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"view",insertType:"dialog"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function hi(e){return mi.apply(this,arguments)}function mi(){return(mi=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt.call(this,Yt({type:"view",insertType:"drawer"},t));case 2:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function bi(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function gi(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bi(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var yi,vi,ki=gi(gi(gi({},l),a),{},{read:zt,create:qt,update:It,list:Lt,delete:Ft,validate:function(){var e=this;return new Promise((function(t,i){e.$refs.amsForm.validate((function(o,n){o?t():(e.$message.error("表单校验失败，请检查！"),i(new Error("validate fail:",n)))}))}))},confirm:(vi=Object(c.a)(regeneratorRuntime.mark((function e(t){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.$arg,o=t.message,e.next=3,this.$confirm(i||o);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return vi.apply(this,arguments)}),alert:(yi=Object(c.a)(regeneratorRuntime.mark((function e(t){var i,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.$arg,o=t.message,n=t.options,e.next=3,this.$alert(i||o,n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return yi.apply(this,arguments)}),show:function(){return this.data.visible=!0,this.ready=!0,new Promise((function(e){return setTimeout(e,100)}))},hide:function(){this.data.visible=!1,this.ready=!1},clearReturn:function(){st.$prevReturn=""},resetData:function(){this.setBlockData(this.block.data)},clear:function(){this.setBlockData(this.block.data)},wait:function(e){var t=e.$arg,i=void 0===t?0:t;return new Promise((function(e){return setTimeout(e,i)}))},showBatch:function(){this.showBatchOperations=!0},hideBatch:function(){this.showBatchOperations=!1}}),xi={mixins:[At.blockMixin],computed:{props:function(){return this.block&&this.block.props?this.block.props:{}}}},wi=(i("254e"),Object(ht.a)(xi,(function(){var e=this.$createElement,t=this._self._c||e;return this.ready?t("div",{staticClass:"ams-block-alert",style:this.block.style},[t("el-alert",this._g(this._b({},"el-alert",this.props,!1),this.on))],1):this._e()}),[],!1,null,null,null).exports),Oi={type:"alert",install:function(e){e.component("ams-block-".concat(this.type),wi)}},_i={props:{name:{type:String,default:"",required:!0}},data:function(){return{block:null}},created:function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.getBlock(this.name);case 2:(t=e.sent)&&(this.block=t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},ji=Object(ht.a)(_i,(function(){var e=this.$createElement,t=this._self._c||e;return this.block&&this.block.type?t("ams-block-"+this.block.type,{tag:"component",staticClass:"ams-block",attrs:{name:this.name}}):this.block?t("ams-blocks",{attrs:{blocks:this.block.blocks}}):this._e()}),[],!1,null,null,null).exports,Ci={props:["blocks"]},Si=(i("6502"),Object(ht.a)(Ci,(function(){var e=this.$createElement,t=this._self._c||e;return this.blocks?t("div",{staticClass:"ams-blocks"},this._l(this.blocks,(function(e){return t("ams-block",{key:e,attrs:{name:e}})})),1):this._e()}),[],!1,null,null,null).exports);function Ei(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Ti(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ei(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Pi=["button","dropdown","icon","reset","text","filter"],Ai={mixins:[At.getShowState,At.getField],props:{name:{type:String,default:"",required:!0},slotName:{type:String,default:""},slotFieldKey:{type:String,default:""},context:{type:[String,Object,Array],default:"",required:!1}},inject:["$block"],computed:{path:function(){return this.slotName||this.slotFieldKey||"defaultOperations"},operations:function(){var e=this,t=st.blocks[this.name]&&st.blocks[this.name].operations||{},i={};return Object.keys(t).forEach((function(o){var n=t[o],l=e.slotName||"";n.slot=n.slot||"",l===n.slot&&(i[o]=n)})),this.getDefaultValue(i),i}},methods:{setFieldDefaultValue:function(e,t,i){var o=this;Object.keys(e).forEach((function(n){var l,a,s=Object(d.a)(e[n]);(l="object"===s?Ti({name:n},e[n]):"string"===s?o.$block.fields[e[n]]:o.$block.fields[n]?o.$block.fields[n]:Ti({name:n},e[n]))&&(o.$block.block.data&&o.$block.block.data[t]&&void 0!==o.$block.block.data[t][n]&&(a=o.$block.block.data[t][n]),i[n]=o.$block.setFieldData(a,l,"".concat(t,".").concat(n)))}))},getDefaultValue:function(e){var t=this,i=!0,o={},n=this.path;e=e||this.operations,Object.keys(e).forEach((function(l){var a=e[l];Pi.indexOf(a.type)<0&&(i=!1,t.setFieldDefaultValue(Object(r.a)({},l,a.field),n,o)),"dropdown"===a.type&&a.fields&&(i=!1,t.setFieldDefaultValue(a.fields,n,o))})),i||this.$set(this.$block.data,n,o)},getOpType:function(e){return Pi.indexOf(e)>=0?e:"field"}}},Bi=(i("f4ad"),Object(ht.a)(Ai,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return Object.keys(e.operations).length?i("div",{staticClass:"ams-operations el-form--inline"},[e._l(e.operations,(function(t,o){return[e.getShowState(t,e.context)?i("div",{key:o,staticClass:"el-form-item",class:t.props&&!1===t.props.inline?"el-form-item--block":""},[t.info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-info ams-form-label-info el-form-item__label"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(t.info)},slot:"content"})]):e._e(),t.label&&!/^(?:button|reset|icon|text|filter)$/.test(t.type)?i("label",{staticClass:"el-form-item__label"},[e._v(e._s(t.label))]):e._e(),i("div",{staticClass:"el-form-item__content"},[i("ams-operation-"+e.getOpType(t.type),{tag:"component",staticClass:"ams-operation",attrs:{name:e.name,"operation-key":o,context:e.context,path:e.path,operation:e.getField(t,e.context)}}),t.desc?i("div",{staticClass:"ams-form-item-desc",domProps:{innerHTML:e._s(t.desc)}}):e._e()],1)],1):e._e()]}))],2):e._e()}),[],!1,null,null,null).exports),Ri={install:function(e){e.component("ams-block",ji),e.component("ams-blocks",Si),e.component("ams-operations",Bi)}},$i={mixins:[At.blockMixin]},Di=(i("c62a"),Object(ht.a)($i,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("el-card",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:"ams-block-card "+(e.block.slotBlocks.header?"ams-block-card-slot-header":""),style:e.block.style},"el-card",e.block.props,!1),e.on),[e.block.slotBlocks.header||e.block.options.headerTitle?i("template",{slot:"header"},[e.block.slotBlocks.header?i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.header}}):e.block.options.headerTitle?i("span",[e._v(e._s(e.block.options.headerTitle))]):e._e(),i("ams-operations",{staticClass:"ams-card-operations",style:e.block.options.style,attrs:{name:e.name}})],1):e._e(),i("ams-blocks",{attrs:{blocks:e.block.blocks}})],2):e._e()}),[],!1,null,null,null).exports),Vi={type:"card",install:function(e){e.component("ams-block-".concat(this.type),Di)}},Mi={mixins:[At.blockMixin]},zi=Object(ht.a)(Mi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i(e.block.options.is||"div",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"amsComponent",tag:"component",staticClass:"ams-block-component",style:e.block.style},"component",e.block.props,!1),e.on),[i("div",{domProps:{innerHTML:e._s(e.block.options.html)}}),e._v("\n    "+e._s(e.block.options.text)+"\n    "),e.block?i("ams-blocks",{attrs:{blocks:e.block.blocks}}):e._e(),i("ams-operations",{attrs:{name:e.name,context:e.data}})],1):e._e()}),[],!1,null,null,null).exports,Ii={type:"component",install:function(e){e.component("ams-block-".concat(this.type),zi)}},Fi={props:{name:{type:String,default:"",required:!0},option:{type:[String,Object],required:!0},active:{type:[String,Array],default:""}},data:function(){return{load:!1}},computed:{computedLoad:function(){return!0===this.load||("string"==typeof this.option?(this.load=!0,!0):"object"!==Object(d.a)(this.option)||!0!==this.option.lazy||-1!==this.active.indexOf(this.name)&&(this.load=!0,!0))}}},qi={components:{CollapsePane:Object(ht.a)(Fi,(function(){var e=this.$createElement,t=this._self._c||e;return this.computedLoad?t("ams-block",{attrs:{name:this.name}}):this._e()}),[],!1,null,null,null).exports},mixins:[At.blockMixin],computed:{isAccordion:function(){return this.block.props&&this.block.props.accordion}}},Li=(i("ed2b"),Object(ht.a)(qi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-collapse",style:e.block.style},[i("el-collapse",e._g({attrs:{accordion:e.block.props.accordion||!1},model:{value:e.data.active,callback:function(t){e.$set(e.data,"active",t)},expression:"data.active"}},e.on),[e._l(e.block.options,(function(t,o){return[i("el-collapse-item",{key:o,attrs:{name:o}},[i("template",{slot:"title"},[i("div",{staticClass:"ams-block-collapse-title",domProps:{innerHTML:e._s("string"==typeof t?t:t.title)}})]),i("CollapsePane",{attrs:{name:o,active:e.data.active,option:t}})],2)]}))],2),i("ams-operations",{staticClass:"operations",attrs:{operations:e.block.operations,name:e.name}})],1):e._e()}),[],!1,null,null,null).exports),Ni={type:"collapse",install:function(e){e.component("ams-block-".concat(this.type),Li)}},Ki={mixins:[At.blockMixin]},Ui=Object(ht.a)(Ki,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-dialog"},[i("el-dialog",e._g(e._b({style:e.block.style,attrs:{title:e.data.title,visible:e.data.visible},on:{"update:visible":function(t){return e.$set(e.data,"visible",t)}}},"el-dialog",e.block.props,!1),e.on),[e.data.visible?i("ams-blocks",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{blocks:e.block.blocks}}):e._e(),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("ams-operations",{attrs:{name:e.name}})],1)],1)],1):e._e()}),[],!1,null,null,null).exports,Hi={type:"dialog",install:function(e){e.component("ams-block-".concat(this.type),Ui)}},Wi={mixins:[At.blockMixin]},Yi=(i("9e41"),Object(ht.a)(Wi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-drawer"},[i("el-drawer",e._g(e._b({style:e.block.style,attrs:{title:e.data.title,visible:e.data.visible},on:{"update:visible":function(t){return e.$set(e.data,"visible",t)}}},"el-drawer",e.block.props,!1),e.on),[i("div",{staticClass:"ams-block-drawer-body"},[e.data.visible?i("ams-blocks",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{blocks:e.block.blocks}}):e._e()],1),i("div",{staticClass:"ams-block-drawer-footer"},[i("ams-operations",{attrs:{name:e.name}})],1)])],1):e._e()}),[],!1,null,null,null).exports),Ji={type:"drawer",install:function(e){e.component("ams-block-".concat(this.type),Yi)}},Xi={mixins:[At.blockMixin]},Zi=(i("01c2"),Object(ht.a)(Xi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",e._g(e._b({staticClass:"ams-block-error",style:e.block.style},"div",e.block.props,!1),e.on),[i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.top}}),i("img",{staticClass:"ams-error-img",attrs:{src:e.data.img||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKcAAACACAYAAABuv3liAAAgAElEQVR4Xu19C5gcVZX/71RPT2aqel0eyURBJAgiARQQUfAFARVcdcFgcBWBABqTvtVAEBAVNSwLiEaT0Lc6MSAEFYQFMQjoyoqJiLDqf+UlIgshiSCQSfCBXTXJdHed/3erq4aaTk+me6aqumfS5/vyDR99+95zz/31vefe8yJ0aEQJcC43xS6X36hp2oEMzATRwWB+NQCdAZ2Iqn8BA0AazA4DDgEOE1X/Ai8T89MEPOEy/0EDntALhWc7Yh9dAjR6k52jBQM0KMSBZeAYAMcBeBOIXg9Ai1wCzEUAjzPwIAFr9VJpLa1c+ffIx5ngHe7U4NwqxP4u0fHMfDQDxxLRri1ZT2YG0aMMrCXXvVcvl++llSudlvDSRoPudODcmsvtW3Hdj4HoFACHjLoWzH8G0ePM/HsCHtc0bZ1bLhe7UinbTaWcnnLZhm3bmDFjEP39up1OG6lKRdfKZaOSShkM7M5EBxLzQZ5aABwEoHeUcQfAfDcx39LrOHfRqlVbR+VzEjbYKcBpm+YezHwaAaeA6C0jK5m8kYFfa0T/Q677255U6lHK51+Oct2V+rBtwYJ93FTqcGY+jomOJeANOxjDZuAuAm7Sp069ixYtcqPkp537mtTg3JrN7lfRtIvAPBdE6ToL8Twz30zAfTpwP1nWS61YLCeb3cslOhZE7wdwAgG7jcDHOgBf04luoHx+Wyt4TXLMSQnOYjZ7KDTtYgLm1F5omPmvRHSbBtzUI+UvCOAkBT7aWLxokTawZctRLnASAScD2KfOd15g4JtGT89yWrzYHq3Pifr5pAKnM3/+nm5X11cJ+GSdBfkpmJfrpdKPaeXK0kRZsG3Z7Mwy0RwmyhIwPcw3A5uJ6It6Pn9tu/3IopDvpAAnz53b42QynwXzF0CkhwSj9LMfgOhKI59/KAqBtaoP9ebqMJ8B4OI6u+kjBAhdyl+1ir84xp3w4HSy2Y8y0WIQ7R0S0CCYv5NivqqnUHg6DsG1qk+eMyc10Nc3xyX6Aqm32BAxcItGdIGezz/XKv6iHHfCgnObEAeVib4F4J3DFoj53hRwdq9lbYxSUO3Wl7r126Y5F8BVBEwL8Teg/p9eLF410Z+gJiQ4HdM8l4HFALpCi7IOzOcZlnVXuwEpTn543rx/drq7/wNANnz5Y+YnulKpE3uuvvqpOMePs+8JBU4+66x/cnT9ewD+dUgozMqScqWuaV/fGZ5XRgJDccGCN5OmLQfRO0JtbHLduXqhcFucIIqr7wkDTu/Wqml3hy8DzPx4l+ue3LN8+ZNxCWgi9auO+oFs9nzWtK/WnCp5ferU82nRovJEms+EAOdANjvL1bQ7UfX+qRLzt3RNO3dn3i1HApq9YMHh0LTbQDQj1OZXek/P8RPpXbTtwenkcrPZdW8OLDzM/HcimmtIuXoi7QJJ88rZbMbRtO8COCk09kM68/taZQlrVgZtDc6iEGcQcD2IAj6VzfuUjj9k48ts53KfhuteDaIe/8R5GqXSe4yVK19ovJfWtGxbcBaF+DwRXRE6xu/SS6XZE8m605ol3X5UJ5c70mX+CQG7+J8+l3LdWe3+BtyW4Cya5jcJWBgC5g36tGln7UweOVEDe1sud2DJddcQUV9VZeeXSNPe186Ws7YDpy3EZSC6JFgcYv66blkXRb1YO2N/A6a5jwvcG7x4MPC3rkrlyHZ97WgrcBaz2bmkade/ciHnizOWddXOCKS45szz5/fZqdRaIprpj/E8gCMMKdXftqK2AactxIdAdMeQlYP5CsOyvthW0pokzBTPPXc6VSq/AfA6/4h/0hgYOIKuu+4f7TTFtgCnk82+gzVtDYBuT1jA9zNSfqKdBDXZeFHhKmXX/TUR7e7f4u/X+/uPo1tvHWyXubYcnL4PporPqd4kme/S+/tPoltvrbSLkCYrH3YudxiYfxkYN5j5PzOW9bF2mW9Lwcnz5qWd7u4HARzuA/MBvb9/Vjv9ettloeLiY8A0j3WBnwbmTgbOykg5pPfHNW4j/bYUnEUhlhHROf5RvslgPmiiWC8aEe5EaeOYZo6Bq/0NYmuXph0+JZ//Q6v5bxk47Wz2w9C0H/kCcAl4z2Tz5G714jYzvi3E7SD6iA/Qp/VS6ZBWx863BJwDQuztAr8HUcYX4CWGlJc3I8xO22gl4Lkj9vY+GjiLtIP+2RJw2kI8AKKj/GeMNYZlHTcZA7SihU/8vamoVdK03wb6JxGdrOfzt8c/cv0REgfngGl+0gWUt4x6Muroma1a+RHGdYQ4j4mW+B+/oA8O7teq4z1RcCo3LptoQ/C2Rsyzdcv6YZutz07Pjm2a9wexWa00HycKTts0LT/WRTkerMlY1rE7PRLaUADbTPOAMrO6E6TAXOkiOniKlH9MmtXEwOl7Z//W881kLqVc94Ce5cufSXrCnfEak4BtmuppKee3/pUh5bsa+2Z0rRIBpx/G+igBKsuasgJ17ObRrWFDPfG8eVPt7u5lKebrei1LeSbtkNTt3e7tfYaIpvoX19MzluXdFZKiRMDpJT7QtFt9YD6rd3e/kZYsUfHVHUpIAkXTVLmjrlT6FBMtNTZtunA0E3HRNM8k4Dp/3f6sT5s2I8kguUTAWTTNx0K75qcNy7o2oTXpDONLIPx854PtAapUTtFXrPjzSELyTjwh/khE+3u7J9EZmXz+O0kJNXZwbs3l3lth/m9/Qi/oU6e+LslfX1KCbOdxWIjdHWAzAIJS+V2XSdOIgb9oQE6X8qaR+B/29Mf8pGFZM5N6k44dnEUhfkZEKsc6CDhPl3JZOy/kZOTNNs2zAQw/rVjti/7yM/9aA77Y09+/FtOm9Q4QHcSAKsywO6dS0+G6FymvMdWamT+cVFaVWMFpm+ZbASiLg5rUFqO7+3UdXTN5+NtC/AhEHx42sgJn1RASCm4dnTdmLhHRTwBcr2/adOdoeuvoPY7cIlZwFoX4PhH9mw/OL2Qs68rxMNv5bvMS4Dlzup3p0/8B5m7vFa9OF/6O+ApQQ7uq117VU/COvhq4MD8Lokv1TZu+G4ebY2zg5AsuMJyBgb/6yRBs3XVfTYWCKnHSoQQlYJumyit1hwLYduAaAx8ekGu+x0oX7e09POpsIrGB0xbiLBB92z86vpeR8rQxyKLzlXFKwBbi2yA6a5zdjPz1qnrAejq9Gy1d+rcox4kNnEUhfk5Es3xwnpCRUnlbdyhBCfhPQSo19+71drwIWYnFghQLOFVpFTA/pzRtZu43+vv3iFNxjlDIk6orP3Aw9lTcDHwuI+XXohZeLOAsCvE5IlJp+JR+siwj5XlRMz6Z+lOlXuLI/+QI8VUm+ly1QFz0S+3d9KvOnzPjcAyJnmMARdO8j4B3+wBSAfv/r13A5DvUfkXv6jqzVkfysgSn09drwNJey7ovCZ4DhxgGzsxY1g21Y9qmOQ/AYYaUC5rlp2iaTxBwQKxHOvMGw7LqlaNplt3t2kcOTr/qg7qVd6kjPWNZw8qTjJvjcXbA5523i10qbSBgvZ5OzwoA6qevXsPAa/0ULYl4TCm90DHNApg/ozGf1lso3BhMcehSOQZHmYH582e4XV3rg91tnGKrCxzVt0p/npHywqj7V/1FDs6iaR5PwH/5R/pNGSlPjYPx8fTpFdEiWhsAFI7DTnf3GmaekSZ6RxxH1I749QH6bVVpjphVisfbPGAC13pqkWW9ktSswYkXTfMCAr4e1RNS7bCBqqC57rt7CwXlnBw5RQ5OR4ivMVH1l8Tctk4eIYD+qfrMjL3SREdPkfKxyKXcQIchgJ4OYCWA+QBWGJalChE0TbYQ61RJ7jiO9GGP9qXSHnHl+owcnLZpKv3SS5KQItqvJ59X9RrbkrzbLNF96niakkq9J3311Q+0klEfoA+A+UgAPzUs64Sx8MNnn72b09v7kvrJqblpI1iGxtJ3cNwGD/EacFqvlKqIROQUKTiVPueUSn8JnpDaTd8MS89LS030MwZmaoDGwNNhHTRySTfQ4UA2e6pL9F0GniJgXxDNNqQMYvsb6KHaxDnnnI+w695edd30r+kRXtlr9NjrDSljeeSPFJyOEB9homooKfMNhmWpIk5tRyFgHpAmenfJdVNhHTRqS0cjAgiAqY5yfdo00968+TtEpPIWndwsQG0hVKpyVSn5S1SpDKi6meqIry5LCLCNMFanzTBwMm80LCtcGGGMvW7/tUjBaQtxKYi+7G39zOfqllVNcdJGxPPm6U46/XOuPrEca1jW7xR7tZekJAE6BEyiVcEupKoHO5s33wIiVXCgYYCGrUJaubxP74oVG9T8vJxIzOeA6ESF0LE+fAY6LAEOA16dUZ15ahxphCIFZ9E0byTAS13IrvuBTKHg3drbiWzTnM/MqrLwEDAD/gKAasAi3bKWJsV3UYiXVZltXcqzw468qs6l09d3MwOzMpblxfKMRo5pvpOB+5n50YxlHVLb3jbNk5h5FRH9M5hdBjSlk4ZJVbP1PJHqPNyHdk2VS+lAbyMieruez6t8n5FSpOC0TfPXAN6mOExVKvu2Y3Sl2pG2vvji64IdpVaaSm9Octf0d7V9eqRUb6/bebQpgG7t63tto7U8Q68llxlSeqdYLanQ3xJgqR9oo2gKdswAnBrztS7Rpzxwuu4n9ELh+4321Wi7SMFZNM2XCNhNxToblhWuS9koP51245RAsRrz80ZUKm81li//3x11p4oYVFz3dCY6jIEpXpgQ89OkaT/pLZfXOJqmduGPg+gUqhpVggvWb4j5RiaqRjUwf8mwLFV/M1KKDJycy73KYf67xyvwh4yUB0XKaaezUSUQWIUAvGBIuceoX2iwgWdVK5fng/lipQ6wqmvP/JACsQ/OWC6/kYHTzmaPgKYFesdqQ8pqOr0OJSaBohAXEpHyDioYUoqoB/YdyD+ml0o3b5sy5TUV5mote+b7DcsKfCkiGzY6cJrmBwD82OfsGkNK5bDQoQQlYAvxSxC9i133+EyhcE+cQ/PChb1OqaQqNquT8qmMlF74cJQUGTjDiRMYWJKR8vwoGe30tWMJhMJ/B/T+/lcl4T9rm2ZwgXvekHLPqNcoMnB6dSqJVvkMjnhTjHoCnf6qEghqODFwS0ZKL6gwbrKF+IdKAKyKbWWk3DXq8SIDpy2EAJH0t/lYPKOjnvxk6s82TZVK8qS4nnXqycoW4gUQvVolZjMsyyvTEyVFBs6iaarA+6DamjCkLETJaKevkSXghf/29f1V+a/omrYb5fMvJyEv2zTVhWhfNZY+dWo66kwukYEzbLpMOqdOEgvRzmP41e/uZOBnGSnflxSvRSEeIaI3e+AcHNyFVq70nhKjoujAaZpfAbDIO9Zd98xMoRDon1Hx2ulnBAnYpqn8Pz9NrpvTCwVPtUqCbCEeAtGhHjgrld1o+XK1e3vku/99GMwKvM9zV9fdmWXLNjXDV2TgdLLZz7KmLVaDJy2kZiY82dqGHT0wOBib4289udlCPAWi/fxjPRUuOV4UYgkRhQMbt+lEfc2oHJGB085mPwNNW+H/aj6fkdKLvuxQvBJwhHg7E/0PgIcMKd8S72jDey+a5osEqBixbYaUPUO7ZrUyn3oDHWbCJte9QC8UvtEoj5GB03P70rTAI/pyQ8qhmumNMtNp17wEbCEuB9EXlEplSHlp8z2M/Ru2EDaIdJWkLWNZ04bAOXduj2MYTq1bU7O1jSIDpy3EiSBa7e+cbRerruzOSKf3rl2K3nz+F2NfnuS/OZDLHR0eteK6yv1tBrvuYZlC4eGkOPL8TbdsCYrnrjek9JyZAxpWEc7/n80aZyID54AQx7lEP/P5+LYhpedO1Qryw0WOZuAYX2E/dKgqcR2GGFibAi7tlXJtK/gdbUzPBxM4l9R86pGKFSJSeYoeJmCtRrQ27h9djaPPYxkpvVt7QNuEOKhE9H0C3uT9P+YNVKm8a0eZlGunFhk4t2WzM8uaVi3myfxfhmUpW3tipHbGSip1NFU9x9W/WnpEWTKIeQOINoB5BhPNAPOhnuNtlVbXS7aQ2CRqBvK9gX4YgJKV1xfRw6E5HEZEM13l6gbUs22vZubVRjp9R9Q+qlvPOecNFdf9P5/lewwpj68nJz9pBOvTpj3a7DtoZOD0vLanTy/7DK4zpPRucXGTbzYdBki1iGoHUf9c5rWjHXdqZwLzUhCpY79tPKqKprnGAybzRhCdZ0jpqU0j0YBpHsPMh/onxok17VaDeZVhWXdEsSZ2LvdBMN/lb0aWYVlmFP2G+4gMnKpTWwi1K+2tnI31/v4pcTkf+LvkuSqIKziufUCuVnrvaItYT4i+KvCw4p+YFyYZplGPn1CZv0cMKb23xGbJ/9EpleCkodOhenKs0ru6lo1nN3VMcyED31Q8xZVOPVJwhvO/pyoVVQTryWYFOlr7kENt9UcL/AKuuyqKR38/j9JDYH7YsKzDRuMlzs9tIdarCr5RXHQ89WBw8CRomvoxD12owgFwzc7FNs3lfuIHpcZ90LCswF2y2a5GbB8pOG0hVoDoM/5WH1tie1uI1Uy0IVUuLx0pFmisEgp2f0PKSGXTDD/eLl4uK2vLmHfNEY9+lUMplVKWvF0My6qnmzfEatE07w1ikFKatn/P1Vc/1dAXm2gU6QIMsxIB5+tSBtVnm2CptU2Lpql01aM1YFarbu9Kd3SBNWC+YzwAilOSthB/AtFecapwkYJzIJud5Wraz73jlvnmjGV9PE4BxdF3cJzqXV27jkcnGw9vQ6pLG6gXI+rn1Z1dUd3dfZtpvqnMrPwrVHjy8yrZRrN5WiMFJyvLQCbzD89sxfyiYVmvGc8iJf3dkD4b+XHa7FwC9aKVP5KReHaEOIWJbvE/zxtSnlPbNmx3Dz7TiI5p5v01UnAqJsJl7OLKeNvsQjfa3hZiFYjOAHCpIaXnYdUqCnhpx8zQ4csQAR/VpfxBWE5eVpXubruO7JoyzkQOziDVs8/YAkNKzxmk3cl7dgF+qJ6kjHR6RquO9EBO/nPZw+oJqJX6b711G4qNV65y6fTutGTJX4aBs2rafBbAsPDkZlW9yMFpC/EvILpbMdusob9VAPbS0GiaevDeBcBHxvJOGgfvobigv8F1Z41mTIiDh9o+ef78Pqery/PLZOYnMpblpaSppdA77dBHzYaQRA5OVafb0XVl59WY+a8Zy9otCaGNdYwaYLb8OK+dR+h4bwuADvM+Y/6WYVkqye125DuGfEglEPaeo4nuMKT06lI1SpGDUw0c9pAm5iN1y1I5lNqO1M4ETVvi7ZhtnLKxBqALozA4jHUxwsnamt0JRxpTOUwP5nIzK8y79qbTvwvqo8YDzlDIBoC6t7mxCieK7/mmyiVeDstqusaWmytHm1f4mGTmpUY6fWnSerH3GmMYqmRkj4q41NPpvvHy4CdnUCXP3+nLYBsBF+pS5mMB59YFC15fSaW8dNsMbDI2bdozLjv7aIta+7n3wM2skqvO8OzxRHPbRcccbS416Qs3aERnJmkoCNdeB/MPDcuaPRrPo30e6NXD2jG/qFvWHrGA0z/avdQoPkBbXl7Qf8NUFquqyY75Dj2dnjveX/5owo/6c3/XV09egdfRaq1cXhi1Gbce37ZpqnyrnmscMc/WLUvFyo+LbCEuAdFldTrZMz5w5nKfBrOKClS3uu9mLEtViUic/LpDXwmCrSbabjmSwIbtolUZx3rUe7f0VOp5EKWUX6wxONhHK1eWxrugA0K8xyXaLhpBL5enxwZOP++6Kl6QVnck3XFeQ9ddp6xHiVCtW50PyqV6V9fSibZbjiQw30FERTiqsGylQv1N+WymKpVlUe+kYRe5qLPYFU3zvwl4bzBPFZmQkXJWbOBUAxVN8yZSyUerv+yLM5YVZASJDaCe2xuR5+s5NAjzDVqlsijqBYttEk127KksytOoat2qEvMqZl4WxdsoL1rU5WzZouo1BeboyEtGqtgo13WP1pjX9UyZcru6sccLzgUL3kyp1CP+r3qzsWnTa+nWWweblH3DzYe8eao/BuUNv3oyg7JWMAFIw87FUfiDFnO504nZq8vJzGsyltVwuu6GF69Ow1jB6e2eQtxDREGKlNjNmb7L29rJdHw3u8DBca/CNTJS1g+Ka7BTL2mDaT5JwBt8cL4/Y1nq6Sd2ih2cXokR4F7/qNmgT5u2bzgzROwz7AwwLgnU1Jb6nWFZXnW+JCh2cKpJ2EL8BkRHqP8m4FRdypuSmFxnjPFLwBbif0HkZRIhopP1fL5aBC0BSgScTi43m5mrblXMz+il0gFRPEMkIJ+deoiaRBlPGVK+sV45mriElAg4vd0zVKMIwCWGlJfHNalOv+OXAOdyUxzXVYm69vJ2Tdedo0ptj7/nxntIDJz+E8/vvPw5zA4xH6AXCsrnr0NtKAFbiMtA5OW7SvKGHhbFmMHpxYgAC5lZFeVUSURvNKRU5axHpGHRmcDthpQnt+G67PQseb4RmvZHz4DCXEq5rgrzfiZpwYwJnMoN3+7uftar1vYK/UmfOnWfHd3EecGCXW1NW0dEXnJ7jfm9vZZVvcl3qG0kUBTi50Q0y9s1gcUZKS9sBXNjAmcxmz1hqHrXsH2YPmTk854X/EikCqMCUAH5ip7THefAJM2arRDyRBpzWPCa8g7q7n594F+Z9DzGBE4nm30Ha9qvtmOWOWtYVgC8unPx0jELoXTPaoqViFyvkhbcZBxvaza7X4XoEZVzU82v1c9+YwKnYrxomo8RcPDwjZOO0vN5lWV3h6QKgpZdV72fBdlwO9U3RhNazJ/zvHlpO51Wd4eZ/qZxp2FZ/xrzsDvsfszg3DZ//sHlrq4vg3k2iDaBWWUau6LRydhCfApE1/jtB7uY3zLFsh5v9PuddtFKwBaiAKIFPjA36swHU6FQjHaU5nobMzibG6Z+66IQtxDRKd7pDjxlDA4eSitXevUUO5ScBMKP7ep2zq771szy5Y8mx0H9kVoKTi/4Pp1WOk6Qy/MeferUDzabZLTVQpzI4xdzuUPIdR8I9EwAbaNiRQ5OLyR082bJwL9RNZn9fZqmXaLn80G562FruZ3+yfwD3bLmJGkmm8jgGg/vW4XYvww8QES7+8f5bYZlzRlPn1F+l/z4YouZP0ZE3WD+DlUqlzeTuzvMUN2AJeAnhpT/MhLjXgUyQCV+TfltVhhSVvWfDsUiASeb3Ys1TV1eq1k5mH+rl0rHtJNaRbYQZ4FoWLA7AzdlpDx1LFKxTTMPYHgKZmbWNW065fObR+rTyWY/zpr2ircS878bluWFH3QoWgn4WTsUMPep4pL/z0in395u4SsKnBJEomb6rl6pTA2Xi2tUPI5pnsvA0tr2Wiq1d++yZcrVf0Sq890vG1LWi8xrlJ1OuxoJcC43zXbdNUR0kL9jPguiIw0pn283YVFNtd8wf3uOhWEVJG+XSs+HS6sw8PuMlNWSH6OQLcQVIPp8qJnUpTyno4OOJrnRPx8QYm9XpSmvFmZQO+ZLXa77tlbYzUfnVoUfC7G7Q/TisFJwzOPyeLZNcw9mVvbYQ4jocb1cvoxWrOhvhCHVpijEYiL6bNBeZSczpk07rXOLb1SC27fz6wKpZGVepTUGNoPofZl83ovxakfybuu+rfwUBlQljN8b3d2X1qa1S5r5ohAXEtHXQuPeo/f0zKbFi+vlfUyavQk1nopsrLjunUT0T/5RvlEDju61rI3tPJHIn5KinKxfY+jaYFdXKfe6UqkT40iOHyXf7dSXY5o5Zv6Gnz9AHeWPG5o2a0eX03bhv63B6e/q7ydNU8When2h2eS6c5P2ym6XBWuUDz8VpSqUO2QfV2/OxsDAhyaKF1jbg1Mthu/YrCqPeU8f/tG0XO/vPy/OOPhGgdBu7exc7jBUY7YmtLwmBDg9Bb6alHbYTqBqjGvAyb1Srm83gLSKH9s0s36pRJUGSNGEPWkmDDiDxfZz9qiLUlBo3mbgP4xNm765M++iqlBq2XWvCVdom+g6+oQDpwKpk8u9jV33dhDtGdqh1jEgMlL+tFW7VivGVQnTBjTtSwycH34OVFY+I53+VKu82KOQxYQEp3fMV0vwXQ7mBV5E5yu0mlz3nJ0hstMxzU+4zEuIqC+kizdUYTgK8MTdR6TgdHK517LrnggiVfzzDxpwQ9z6oC2EykZxTZCVwheYShZ2gwZcGff4cS9Qbf/KUWdgy5aTGVBWtHDx2EEwf0O37X+nVau2Js1XHONFBk573rzXcDqt6ua88isGfmRIWVv3O/J5+J5V8xi4Mmw2BeAycGsauHyKlI9FPnCCHfKcOd1OX59KwPu5kP+r/3DB93Vp2lk9+byX6nyyUGTgrEkuGsjHZdfdM1MoKPNo7KRCjx1NU2bTHIgyNQPeDeZr9FLpxxMpFY5nCgZOJ0CV8BtWrlElOwDRVZNVz44MnEXTvJiAK2sRSERvH8nROC608rx5UwfS6Yu4CtIgiK66ywB/IeA/CfieLuX2EaRxMdVEv5zLvcpx3Y8y0anEPGuYTs3Mnu+rpl1m5PMPNdHthGsaGTj9ggDqWNFCUtimE/VRPv9yKySj/BbtVOrzVA3cmlKHh/VgvjHFfENPofB0K3gMxlTRj0539weY+VSqFiMYzi9zCUTfS7nuFa3mNSk5RQZOxbDnfsf8JQAGEz1NwEXtUEZF6cNIp89k4Awi2n8E4a5n4EHNdR9k5gf1LVsejrM8jecNpmlHgvkoBo5SxcRCcTxhFn9DzDf2lko30cqVW5ICRjuMEyk4vWPzgguMgW3bdtXz+efaYYK1PCjTHrvuJwF8subyNrxpdaf6EwPriXkDqn/XE9GfXde1u1Ip202lnJ5y2YZt25gxYxD9/bqdThupSkXXymWjkkoZLtEu5LozSNNmuMA+xDyD1d/hF8fasZ8B0Y0acP1ke21oBhORg7OZwVvZ1nuS2bz5CCY6AYD697YalSRJ9gYA/JJc956Upt0z0V8WomiKvLIAAAB+SURBVBLcTgvOWgHywoW7DQwOvp+BExRgCZgelZCH9aMuNMq5m3kdKTVCgVEBM5/fFst4E7jTDjhHWDx143dSqb0plZoBZhXesDcR7QtmlSFPZ0D3Qp/VX8AAs7oIvsREm8G8hYi2qL9+NpRnNWAjMW+cUi5vnEhPWa3E9v8HxeRoH+GqY4YAAAAASUVORK5CYII="}}),i("div",{staticClass:"ams-error-title"},[e._v("\n        "+e._s(e.data.title||"Error")+"\n    ")]),i("div",{staticClass:"ams-error-subtitle"},[e._v("\n        "+e._s(e.data.subtitle||"Opps，some error happen !")+"\n    ")]),i("div",{staticClass:"ams-error-operations"},[i("ams-operations",{attrs:{name:e.name}})],1),i("ams-blocks",{attrs:{blocks:e.block.blocks}})],1):e._e()}),[],!1,null,null,null).exports),Gi={type:"error",install:function(e){e.component("ams-block-".concat(this.type),Zi)}},Qi={props:["field","value","name","path","context"]},eo=Object(ht.a)(Qi,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("ams-field-"+e.field.type+"-"+e.field.ctx,{tag:"component",class:"ams-field ams-field-"+e.field.type+"-"+e.field.ctx,attrs:{field:e.field,value:e.value,name:e.name,path:e.path,context:e.context}}),e.field.desc&&"edit"===e.field.ctx?i("div",{staticClass:"ams-form-item-desc",domProps:{innerHTML:e._s(e.field.desc)}}):e._e()],1)}),[],!1,null,null,null).exports;function to(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function io(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?to(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):to(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var oo,no={components:{field:eo},mixins:[At.blockMixin,At.getField,At.getShowState],data:function(){return{defaultListFieldWidth:we,filters:{},sortField:null,sortOrder:null,batchSelected:[],headerSelected:[],height:null,headerSelectedDialog:{show:!1,headers:[],labelWidth:"100px"}}},computed:{isDrag:function(){return this.block.options&&this.block.options.drag},isSimulatePagination:function(){return this.block.props&&"simulate"===this.block.props.pagination},isMultiTableColumn:function(){var e=this.block.options;return e&&e["table-column"]&&e["table-column"].length},pageTotal:function(){return this.isSimulatePagination?this.data.list&&this.data.list.length:this.data.total},listData:function(){return this.isSimulatePagination?this.data.list&&this.data.list.slice((this.data.page-1)*this.data.pageSize,this.data.page*this.data.pageSize):this.data.list},operationsWidth:Pt,operationsAlign:function(){var e=this.block.props||{};return e&&e["operations-align"]?e["operations-align"]:"center"},selectionProps:function(){var e=this.block.props||{};return e&&e["selection-props"]?e["selection-props"]:{}},expandFields:function(){var e=this;if(this.block.expand&&Object.keys(this.block.expand).length>0){var t={};return Object.keys(this.block.expand).forEach((function(i){e.fields[i]&&(t[i]=e.fields[i])})),t}return!1},columnAttrs:function(){return this.block.props&&this.block.props.column||{}},tableColumn:function(){var e=this,t=this.block.options;return this.isMultiTableColumn?this.handleTableColumn(t["table-column"]):"object"===O(this.fields)?Object.keys(this.fields).map((function(t){return e.fields[t]})):[]},tableColumnSelected:function(){var e=this.headerSelected;return this.isMultiTableColumn?JSON.parse(JSON.stringify(this.tableColumn)).filter((function(t){var i=t.children;return i&&i.length?(t.children=i.filter((function(t){return e.indexOf(t.name)>=0})),i.length):e.indexOf(t.name)>=0})):this.tableColumn.filter((function(t){return e.indexOf(t.name)>=0}))},tableColumnOptions:function(){var e=this.tableColumn;return this.isMultiTableColumn?e.reduce((function(e,t){var i=t.children;return i&&i.length?e=e.concat(t.children.map((function(e){return{label:e.label,name:e.name}}))):t.name&&e.push({label:t.label,name:t.name}),e}),[]):e}},created:function(){var e=this;this.$nextTick((function(){e.headerSelected=e.handerGetHeaderSelected()}))},methods:{afterReady:function(){var e=this;if(this.isDrag){var t=this.block&&this.block.dragOptions||{};this.loadSortable(t)}this.block.options&&this.block.options.tableHeightFit?(this.heightFit(),this.events.push(k(window,"resize",S((function(){e.heightFit()}),100)))):this.block.props&&this.block.props.height&&(this.height=this.block.props.height)},loadSortable:(oo=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.Sortable){e.next=7;break}return e.next=3,I("http://h5rsc.vipstatic.com/ams/sortable@1.10.0.js");case 3:0===e.sent.code?this.drag(t):console.warn("fail: 列表拖拽插件加载失败"),e.next=8;break;case 7:this.drag(t);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return oo.apply(this,arguments)}),handleDragOptions:function(e){var t=this,i={onStart:function(e){t.on["drag-start"]&&t.on["drag-start"](e)},onEnd:function(e){var i=e.oldIndex,o=e.newIndex,n=JSON.parse(JSON.stringify(t.data.list)),l=n.splice(i,1)[0];n.splice(o,0,l);var a=t.$refs.amsTable.$el.scrollHeight;t.$refs.amsTable.$el.style.height=a+"px",t.data.list=[],t.$nextTick((function(){t.data.list=n,t.$refs.amsTable.$el.style.height="",t.on["drag-end"]&&t.on["drag-end"](e)}))},onChoose:function(e){t.on["drag-choose"]&&t.on["drag-choose"](e)},onUnchoose:function(e){t.on["drag-unchoose"]&&t.on["drag-unchoose"](e)},onAdd:function(e){t.on["drag-add"]&&t.on["drag-choose"](e)},onUpdate:function(e){t.on["drag-update"]&&t.on["drag-update"](e)},onSort:function(e){t.on["drag-sort"]&&t.on["drag-choose"](e)},onRemove:function(e){t.on["drag-remove"]&&t.on["drag-choose"](e)},onFilter:function(e){t.on["drag-filter"]&&t.on["drag-choose"](e)},onMove:function(e,i){t.on["drag-move"]&&t.on["drag-choose"](e,i)},onClone:function(e){t.on["drag-clone"]&&t.on["drag-choose"](e)},onChange:function(e){t.on["drag-change"]&&t.on["drag-choose"](e)},setData:function(e,i){t.on["drag-set-data"]&&t.on["drag-choose"](e,i)}};return io(io(io({},{sort:!0,revert:!0,disabled:!1,handle:".drag-column",ghostClass:"sortable-ghost"}),e),i)},drag:function(e){if(window.Sortable&&this.$refs.amsTable){var t=this.$refs.amsTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];window.Sortable.create(t,this.handleDragOptions(e))}},heightFit:function(){if(this.$refs.amsTable){var e=document.documentElement.clientHeight||document.body.clientHeight,t=x(this.$refs.amsTable.$el).top,i=this.$refs.amsPagination&&this.$refs.amsPagination.$el||null,o=0;i&&(o=i.offsetHeight+parseInt(w(i,"marginTop"),10)+parseInt(w(i,"marginBottom"),10)),this.height=e-t-o-25}},handlerSearch:function(){if(this.block.props&&!1===this.block.props["enterkey-search"])return!1;this.data.page=1,this.emitEvent("list")},handleSizeChange:function(){console.log("handleSizeChange"),this.data.page=1,this.on&&this.on["size-change"]&&this.on["size-change"](this.data.page),this.emitEvent("list")},handleCurrentChange:function(e){console.log("handleCurrentChange"),this.on&&this.on["current-change"]&&this.on["current-change"](this.data.page),this.isSimulatePagination||this.emitEvent("list")},handleSortChange:function(e){e.column;var t=e.prop,i=e.order;console.log("handleSortChange",t,i),this.sortField=t,this.sortOrder=i,this.data.page=1,this.isSimulatePagination?this.data.list=A(this.data.list,Object(r.a)({},t,i)):this.emitEvent("list")},handleFilterChange:function(e){var t=this;console.log("handleFilterChange",e);var i=!1;Object.keys(e).forEach((function(o){if(t.block.filters[o].remote){i=!0;var n=e[o].join(",");n?t.filters[o]=n:delete t.filters[o]}})),i&&(this.data.page=1,this.emitEvent("list"))},handleSelectionChange:function(e){this.batchSelected=e},handleSelectAll:function(e){this.batchSelected=e},handleTableColumn:function(e){var t=this,i=[],o=[];if(i=e.map((function(e,i,o){var n={ctx:"view",default:"",hidden:!1,label:"",name:"",props:{},children:[],type:"text"};return t.fields[e.name]&&$(n,t.fields[e.name]),$(n,e),n.children&&n.children.length>0&&(n.children=t.handleTableColumn(n.children)),n})),o.length>0)for(var n=0;n<i.length;n++)o.indexOf(i[n].name)>=0&&i.splice(n--,1);return i},showHeaderSelectedDialog:function(){this.headerSelectedDialog.show=!0,this.headerSelectedDialog.headers=this.handerGetHeaderSelected()},handerGetHeaderSelected:function(){var e=this.name,t=z.get("BLOCK_".concat(e)),i=Object.keys(this.resource.fields);return t=t&&t.split(","),i&&t&&t.length&&(t=t.filter((function(e){return i.indexOf(e)>=0}))),t&&t.length?t:this.isMultiTableColumn?this.tableColumn.reduce((function(e,t){var i=t.children;return i&&i.length?e=e.concat(t.children.map((function(e){return e.name}))):t.name&&e.push(t.name),e}),[]):"object"===O(this.fields)?this.tableColumn.map((function(e){return e.name})):void 0},handleHeaderSelectedChange:function(){var e=this;z.set("BLOCK_".concat(this.name),this.headerSelectedDialog.headers.join(",")),this.headerSelected=this.headerSelectedDialog.headers,this.headerSelectedDialog.show=!1;var t=JSON.parse(JSON.stringify(this.data.list));this.data.list=[],this.$nextTick((function(){e.data.list=t}))}}},lo=(i("7ad8"),Object(ht.a)(no,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",e._b({staticClass:"ams-block-list",style:e.block.style},"div",e.block.props,!1),[i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.top}}),i("ams-operations",{staticClass:"left-operations",attrs:{name:e.name,"slot-name":"searchs"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}}),i("ams-operations",{staticClass:"right-operations",attrs:{name:e.name,"slot-name":"rightTop"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}}),i("div",{staticClass:"clearfix"}),i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.tableTop}}),e.batchSelected.length>0||e.block.options.multipleSelectAffixShow?i("ams-operations",{attrs:{name:e.name,context:e.batchSelected,"slot-name":"multipleSelect"}}):e._e(),i("el-form",{ref:"amsForm",attrs:{model:e.data}},[i("el-table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"amsTable",class:[e.isDrag?"ams-block-list-drag":""],attrs:{data:e.listData,height:e.height,"highlight-current-row":""},on:{"sort-change":e.handleSortChange,"filter-change":e.handleFilterChange,"selection-change":e.handleSelectionChange,"select-all":e.handleSelectAll}},"el-table",e.block.props,!1),e.on),[e.expandFields?[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"ams-block-list-expand",attrs:{"label-width":e.block.props&&e.block.props["label-width"]||"100px"}},e._l(e.expandFields,(function(o,n){return i("el-form-item",{key:n,attrs:{label:o.label,"label-width":o.labelWidth,prop:"array"!==o.type&&"object"!==o.type?n:""}},[o.label?i("template",{slot:"label"},[o.info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-info ams-form-label-info"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(o.info)},slot:"content"})]):e._e(),e._v("\n                                    "+e._s(o.label)+"\n                                ")],1):e._e(),i("ams-field-"+o.type+"-view",{ref:"$"+n,refInFor:!0,tag:"component",class:"ams-field ams-field-"+o.type+"-view",attrs:{field:o,value:t.row[n],name:e.name,path:n,context:t.row}})],2)})),1)]}}],null,!1,3645510467)})]:e._e(),e.isDrag&&!1!==e.block.options.showDragIcon?i("el-table-column",{attrs:{label:"#拖拽",width:"70",align:"center"}},[i("div",{staticClass:"drag-column"},[i("i",{staticClass:"el-icon-thumb"})])]):e._e(),e.block.options.multipleSelect?i("el-table-column",e._b({attrs:{type:"selection",selectable:e.columnAttrs.selectable,"reserve-selection":e.columnAttrs["reserve-selection"],width:e.selectionProps.width||50}},"el-table-column",e.selectionProps,!1)):e._e(),"index"===e.block.props.type?i("el-table-column",{attrs:{type:"index",align:"center"}}):e._e(),e.tableColumnSelected.length?e._l(e.tableColumnSelected,(function(t,o){return t.hidden?e._e():i("el-table-column",e._b({key:t.name||o,attrs:{prop:t.name,label:t.label,"column-key":t.name,fit:"","min-width":t.props["min-width"]||e.defaultListFieldWidth[t.type]||"90px",align:t.props.align||"center"},scopedSlots:e._u([{key:"default",fn:function(o){return t.name?[e.getShowState(t,o.row)?i("field",{attrs:{field:e.getField(t,o.row),value:o.row[t.name],name:e.name,context:o.row,path:"list["+((e.isSimulatePagination?(e.data.page-1)*e.data.pageSize:0)+o.$index)+"]."+t.name}}):e._e()]:void 0}}],null,!0)},"el-table-column",t.props,!1),[t.name?i("template",{slot:"header"},[e._v("\n                        "+e._s(t.label)+"\n                        "),t.info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{class:t.info.icon||"el-icon-info"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(t.info.content||t.info)},slot:"content"})]):e._e()],1):e._e(),t.children&&t.children.length>0?[e._l(t.children,(function(t){return[e.fields[t.name].hidden?e._e():i("el-table-column",e._b({key:t.name,attrs:{label:e.fields[t.name].label,prop:t.name,type:"","column-key":t.name,fit:"","min-width":e.fields[t.name].props["min-width"]||e.defaultListFieldWidth[e.fields[t.name].type]||"90px",align:e.fields[t.name].props.align||"center"},scopedSlots:e._u([{key:"default",fn:function(o){return[e.getShowState(e.fields[t.name],o.row)?i("field",{attrs:{field:e.getField(e.fields[t.name],o.row),value:o.row[t.name],name:e.name,context:o.row,path:"list["+((e.isSimulatePagination?(e.data.page-1)*e.data.pageSize:0)+o.$index)+"]."+t.name}}):e._e()]}}],null,!0)},"el-table-column",e.fields[t.name].props,!1),[i("template",{slot:"header"},[e._v("\n                                    "+e._s(e.fields[t.name].label)+"\n                                    "),e.fields[t.name].info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{class:e.fields[t.name].info.icon||"el-icon-info"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.fields[t.name].info.content||e.fields[t.name].info)},slot:"content"})]):e._e()],1)],2)]}))]:e._e()],2)})):e._e(),e.block.operationsCounts.operations?i("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"140px",width:e.operationsWidth,align:e.operationsAlign,"class-name":"ams-list-row-operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("ams-operations",{attrs:{name:e.name,"slot-field-key":"defaultOperations"+t.$index,context:Object.assign({},{__index:t.$index},t.row)}})]}}],null,!1,4074233714)}):e._e()],2)],1),i("div",{staticClass:"clearfix bottom-operations"},[i("ams-operations",{staticClass:"left-operations",attrs:{name:e.name,"slot-name":"leftBottom"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}}),i("ams-operations",{staticClass:"right-operations",attrs:{name:e.name,"slot-name":"rightBottom"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}})],1),e.pageTotal?i("el-pagination",{ref:"amsPagination",attrs:{disabled:e.loading,"current-page":e.data.page,"page-size":e.data.pageSize,"page-sizes":e.data.pageSizes,layout:e.data.layout,background:"",align:"right",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.data,"page",t)},"update:current-page":function(t){return e.$set(e.data,"page",t)},"update:pageSize":function(t){return e.$set(e.data,"pageSize",t)},"update:page-size":function(t){return e.$set(e.data,"pageSize",t)}}}):e._e(),i("ams-blocks",{attrs:{blocks:e.block.blocks}}),i("el-dialog",{attrs:{title:"表头管理",visible:e.headerSelectedDialog.show,width:"50%"},on:{"update:visible":function(t){return e.$set(e.headerSelectedDialog,"show",t)}}},[i("el-checkbox-group",{model:{value:e.headerSelectedDialog.headers,callback:function(t){e.$set(e.headerSelectedDialog,"headers",t)},expression:"headerSelectedDialog.headers"}},e._l(e.tableColumnOptions,(function(t){return i("el-checkbox",{key:t.name,style:{width:e.headerSelectedDialog.labelWidth},attrs:{label:t.name}},[e._v(e._s(t.label)+"\n            ")])})),1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.headerSelectedDialog.show=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.handleHeaderSelectedChange}},[e._v("确 定")])],1)],1)],1):e._e()}),[],!1,null,null,null).exports),ao={type:"list",install:function(e){e.component("ams-block-".concat(this.type),lo)}},so={props:{image:{type:Object,default:{},required:!0},name:{type:String,default:"",required:!0},block:{type:Object,default:{},required:!0},index:{type:Number,default:null,required:!0},showCheckbox:{type:Boolean,default:!1,required:!0},batchSelected:{type:Array,default:[],required:!0}},data:function(){return{isSelect:!1}},computed:{imageItemClass:function(){var e="list-item";return this.block.props&&this.block.props.shadow&&(e+="  is-".concat(this.block.props.shadow,"-shadow")),e},subtitleClass:function(){var e="list-item-subtitle";return this.block.props&&this.block.props.subtitle&&(e+=" is-".concat(this.block.props.subtitle,"-subtitle")),e},imageSrc:function(){return this.block.options&&this.block.options.imageSrc&&this.block.options.imageSrc.field?this.image[this.block.options.imageSrc.field]:this.image.image},imageText:function(){return this.block.options&&this.block.options.imageText&&this.block.options.imageText.field?this.image[this.block.options.imageText.field]:this.image.imageText},title:function(){return this.block.options&&void 0!==this.block.options.title?this.block.options.title.field?this.image[this.block.options.title.field]:"function"==typeof this.block.options.title?this.block.options.title(this.image):this.block.options.title:this.image.title},titlePrefixIcon:function(){if(this.block.options&&this.block.options.title){var e=this.block.options.title["prefix-icon"];if(e)return'<i class="'.concat(e,'"></i>')}return""},titlePrefixTag:function(){if(this.block.options&&this.block.options.title){var e=this.block.options.title["prefix-tag"];return{type:e.type||"",label:e.label?e.label(this.image):""}}return null},subtitle:function(){return this.block.options&&this.block.options.subtitle&&this.block.options.subtitle.field?this.image[this.block.options.subtitle.field]:this.image.subtitle},info:function(){return this.block.options&&void 0!==this.block.options.info?this.block.options.info.field?this.image[this.block.options.info.field]:this.block.options.info:this.image.info},subscript:function(){return this.block.options&&void 0!==this.block.options.subscript?this.block.options.subscript.field?this.image[this.block.options.subscript.field]:this.block.options.subscript:this.image.subscript}},watch:{batchSelected:function(e){JSON.stringify(e).indexOf(JSON.stringify(this.image))>-1?this.isSelect=!0:this.isSelect=!1}}},ro=(i("c190"),{components:{listitem:Object(ht.a)(so,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("figure",{class:e.imageItemClass,on:{click:function(t){return e.$emit("clickImageItem",t)}}},[i("div",{class:"list-item-con "+(e.imageSrc?"is-image":"")},[e.imageSrc?i("img",{staticClass:"el-image__inner",attrs:{src:e.imageSrc}}):e.imageText?i("div",{staticClass:"list-item-con-text"},[e._v(e._s(e.imageText))]):e._e(),i("div",{staticClass:"list-item-topright-operations"},[i("ams-operations",{attrs:{name:e.name,context:e.image}})],1),e.subtitle?i("div",{class:e.subtitleClass},[e._v(e._s(e.subtitle))]):e._e(),e.subscript?i("div",{staticClass:"list-item-subscript"},[e._v(e._s(e.subscript))]):e._e()]),e.title||e.info?i("figcaption",[i("div",{staticClass:"s-left"},[e.showCheckbox?i("el-checkbox",{key:e.index,on:{change:function(t){return e.$emit("selectionChange")}},model:{value:e.isSelect,callback:function(t){e.isSelect=t},expression:"isSelect"}}):e._e(),e.titlePrefixIcon?i("span",{staticClass:"s-left-prefix",domProps:{innerHTML:e._s(e.titlePrefixIcon)}}):e.titlePrefixTag?i("el-tag",{attrs:{size:"small",type:e.titlePrefixTag.type}},[e._v(e._s(e.titlePrefixTag.label))]):e._e(),e._v("\n            "+e._s(e.title)+"\n        ")],1),e.info?i("div",{staticClass:"s-right",domProps:{innerHTML:e._s(e.info)}}):e._e()]):e._e()])}),[],!1,null,null,null).exports},mixins:[At.blockMixin],data:function(){return{filters:{},sortField:null,sortOrder:null,batchSelected:[],height:null,isIndeterminate:!1,showBatchOperations:!1}},computed:{isSimulatePagination:function(){return this.block.props&&"simulate"===this.block.props.pagination},pageTotal:function(){return this.isSimulatePagination?this.data.list&&this.data.list.length:this.data.total},listData:function(){return this.isSimulatePagination?this.data.list&&this.data.list.slice((this.data.page-1)*this.data.pageSize,this.data.page*this.data.pageSize):this.data.list},operationsWidth:Pt,indeterminate:function(){return this.batchSelected.length>0&&this.batchSelected.length<this.listData.length},isSelectAll:{set:function(e){this.batchSelected=e?$([],this.listData):[]},get:function(){return this.batchSelected.length===this.listData.length}}},methods:{clickImageItem:function(e,t,i){e&&e.target&&("el-checkbox__original"===e.target.className||"el-checkbox__inner"===e.target.className)||(st.$prevReturn=t,st.$prevReturn.__index=i,this.emitEvent("clickImageItem"))},handlerSearch:function(){this.data.page=1,this.batchSelected=[],this.emitEvent("list")},handleSizeChange:function(){console.log("handleSizeChange"),this.data.page=1,this.batchSelected=[],this.emitEvent("list")},handleCurrentChange:function(e){console.log("handleCurrentChange"),this.batchSelected=[],this.isSimulatePagination||this.emitEvent("list")},handleSortChange:function(e){var t=e.prop,i=e.order;console.log("handleSortChange",t,i),this.sortField=t,this.sortOrder=i,this.data.page=1,this.batchSelected=[],this.emitEvent("list")},handleFilterChange:function(e){var t=this;console.log("handleFilterChange",e);var i=!1;Object.keys(e).forEach((function(o){if(console.log("this.block.filters[key].remote",t.block.filters[o].remote),t.block.filters[o].remote){i=!0;var n=e[o].join(",");n?t.filters[o]=n:delete t.filters[o]}})),i&&(this.data.page=1,this.batchSelected=[],this.emitEvent("list"))},handleSelectionChange:function(e){e&&(this.batchSelected.some((function(t,i,o){return JSON.stringify(t)===JSON.stringify(e)&&(o.splice(i,1),!0)}))||this.batchSelected.push(e))}}}),co=(i("c5cc"),Object(ht.a)(ro,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ams-block-imagelist",style:e.block.style},"div",e.block.props,!1),e.on),[i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.top}}),i("ams-operations",{staticClass:"left-operations",attrs:{name:e.name,"slot-name":"searchs"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}}),i("ams-operations",{staticClass:"right-operations",attrs:{name:e.name,"slot-name":"rightTop"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}}),i("div",{staticClass:"clearfix"}),i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.tableTop}}),e.showBatchOperations?i("el-checkbox",{staticClass:"select-all-operations",attrs:{indeterminate:e.indeterminate},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}},[e._v("全选")]):e._e(),i("ams-operations",{staticClass:"clearfix",attrs:{name:e.name,context:e.batchSelected,"slot-name":"multipleSelect"}}),e.listData&&e.listData.length?i("div",{staticClass:"ams-block-imagelist-box clearfix"},[e._l(e.listData,(function(t,o){return[e.block.options&&e.block.options.categorys?[e._l(e.block.options.categorys,(function(t,n){return[o===t.index?i("div",{key:o+"-"+n,staticClass:"categorys-title",domProps:{innerHTML:e._s(t.title)}}):e._e()]}))]:e._e(),i("listitem",{key:t.id,attrs:{image:t,block:e.block,name:e.name,index:o,batchSelected:e.batchSelected,showCheckbox:e.showBatchOperations},on:{clickImageItem:function(i){return e.clickImageItem(i,t,o)},selectionChange:function(i){return e.handleSelectionChange(t)}}})]}))],2):i("div",{staticClass:"el-table__empty-block"},[i("span",{staticClass:"el-table__empty-text"},[e._v(e._s(e.block.props["empty-text"]))])]),i("div",{staticClass:"clearfix bottom-operations"},[i("ams-operations",{staticClass:"left-operations",attrs:{name:e.name,"slot-name":"leftBottom"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}}),i("ams-operations",{staticClass:"right-operations",attrs:{name:e.name,"slot-name":"rightBottom"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handlerSearch.apply(null,arguments)}}})],1),e.pageTotal?i("el-pagination",{ref:"amsPagination",attrs:{"current-page":e.data.page,"page-size":e.data.pageSize,"page-sizes":e.data.pageSizes,layout:"total, prev, sizes, pager, next, jumper",background:"",align:"right",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.data,"page",t)},"update:current-page":function(t){return e.$set(e.data,"page",t)},"update:pageSize":function(t){return e.$set(e.data,"pageSize",t)},"update:page-size":function(t){return e.$set(e.data,"pageSize",t)}}}):e._e(),i("ams-blocks",{attrs:{blocks:e.block.blocks}})],1):e._e()}),[],!1,null,null,null).exports),po={type:"imagelist",install:function(e){e.component("ams-block-".concat(this.type),co)}},uo={mixins:[At.blockMixin,At.getField,At.getShowState],methods:{keyEnter:function(){if(this.block.on&&this.block.on.keyupEnter&&"function"===O(this.block.on.keyupEnter)){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];(e=this.block.on.keyupEnter).call.apply(e,[this].concat(i))}}}},fo=(i("96d3"),Object(ht.a)(uo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{class:"ams-block-form "+(e.block.props["label-bold"]?"ams-block-form-label-bold":""),style:e.block.style},[i("el-form",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{model:e.data},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.keyEnter.apply(null,arguments)}}},"el-form",e.block.props,!1),e.on),[i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.top}}),e._l(e.layout,(function(t,o){return[t&&e.getShowState(e.fields[o],e.data)?["string"==typeof t?i("el-form-item",{key:o,class:e.fields[o].props&&(e.fields[o].props.class?e.fields[o].props.class:"")+(e.fields[o].props.inline?" el-form-item-inline":""),style:"width: "+(e.fields[o].props&&e.fields[o].props.formItemWidth),attrs:{"label-width":e.fields[o].labelWidth,rules:"view"===e.fields[o].ctx?void 0:e.fields[o].rules,prop:"array"!==e.fields[o].type&&"object"!==e.fields[o].type?o:""}},[e.fields[o].label&&"0"!==e.fields[o].labelWidth?i("template",{slot:"label"},[e.fields[o].info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{class:(e.fields[o].info.icon||"el-icon-info")+" ams-form-label-info"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.fields[o].info.content||e.fields[o].info)},slot:"content"})]):e._e(),e._v("\n                        "+e._s(e.fields[o].label)+"\n                    ")],1):e._e(),i("ams-field-"+e.fields[o].type+"-"+e.fields[o].ctx,{ref:"$"+o,refInFor:!0,tag:"component",class:"ams-field ams-field-"+e.fields[o].type+"-"+e.fields[o].ctx,attrs:{field:e.getField(e.fields[o],e.data),value:e.data[o],name:e.name,path:o,context:e.data}}),e.fields[o].desc&&"edit"===e.fields[o].ctx?i("div",{staticClass:"ams-form-item-desc",domProps:{innerHTML:e._s(e.fields[o].desc)}}):e._e()],2):i("el-form-item",{key:o,staticClass:"ams-form-inline",attrs:{"label-width":e.fields[o].labelWidth}},[e.fields[o].label&&"0"!==e.fields[o].labelWidth?i("template",{slot:"label"},[e.fields[o].info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-info ams-form-label-info"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.fields[o].info)},slot:"content"})]):e._e(),e._v("\n                        "+e._s(e.fields[o].label)+"\n                    ")],1):e._e(),e._l(t,(function(t){return i("el-form-item",{key:t,attrs:{label:t===o&&"0"!==e.fields[t].labelWidth?"":e.fields[t].label,"label-width":t===o?"0":e.fields[t].labelWidth,rules:e.fields[t].rules,prop:"array"!==e.fields[t].type&&"object"!==e.fields[t].type?t:""}},[i("ams-field-"+e.fields[t].type+"-"+e.fields[t].ctx,{ref:"$"+t,refInFor:!0,tag:"component",class:"ams-field ams-field-"+e.fields[t].type+"-"+e.fields[t].ctx,attrs:{field:e.getField(e.fields[t],e.data),value:e.data[t],name:e.name,path:t,context:e.data}})],1)})),e.fields[o].desc&&"edit"===e.fields[o].ctx?i("div",{staticClass:"ams-form-item-desc",domProps:{innerHTML:e._s(e.fields[o].desc)}}):e._e()],2)]:e._e(),e.block.slotBlocks["field:"+o]?i("ams-blocks",{key:o+"Slot",attrs:{blocks:e.block.slotBlocks["field:"+o]}}):e._e()]})),e.block.operationsCounts.operations?i("el-form-item",[i("ams-operations",{attrs:{name:e.name,context:e.data}})],1):e._e(),i("ams-blocks",{attrs:{blocks:e.block.blocks}})],2)],1):e._e()}),[],!1,null,null,null).exports),ho={type:"form",install:function(e){e.component("ams-block-".concat(this.type),fo)}},mo={mixins:[At.blockMixin],data:function(){return{routerReady:!1}}},bo=(i("7d2a"),Object(ht.a)(mo,(function(){var e=this.$createElement,t=this._self._c||e;return this.ready&&this.routerReady?t("ams-router",this._b({directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],staticClass:"ams-block-router"},"ams-router",this.block.props,!1)):this._e()}),[],!1,null,null,null).exports),go={name:"Hamburger",props:{isActive:{type:Boolean,default:!1},toggleClick:{type:Function,default:null}}},yo=(i("c110"),{components:{Hamburger:Object(ht.a)(go,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"hamburger",class:{"is-active":this.isActive},on:{click:this.toggleClick}},[t("i",{staticClass:"ams-icon-fold"})])}),[],!1,null,"08ab1d04",null).exports},inject:["$block"],props:["sidebar"],computed:{handleLogoClassNames:function(){var e=this.$block.data.logoPath;return{"ams-logo--has-path":""!==(void 0===e?"":e)}}},methods:{toggleSideBar:function(){this.$parent.toggleSideBar()},handleCommand:function(e){"login-out"===e&&st.callAction.call(this.$block,"@loginOut")},handleLogoClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e&&this.$router.push({path:e})}}}),vo=(i("d77c"),Object(ht.a)(yo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ams-navbar"},[i("hamburger",{attrs:{"toggle-click":e.toggleSideBar,"is-active":e.sidebar.opened}}),i("div",{staticClass:"ams-logo",class:e.handleLogoClassNames,on:{click:function(t){return e.handleLogoClick(e.$block.data.logoPath)}}},[e.$block.data.logo?i("img",{staticClass:"ams-logo__img",attrs:{src:e.$block.data.logo}}):e._e(),i("h1",{staticClass:"ams-logo__title"},[e._v(e._s(e.$block.data.title))])]),i("ams-blocks",{staticClass:"ams-navbar-slot-left",attrs:{blocks:e.$block.block.slotBlocks["nav-left"]}}),i("div",{staticClass:"right-menu"},[i("ams-blocks",{attrs:{blocks:e.$block.block.slotBlocks.nav}}),e.$block.data.userName?[i("img",{staticClass:"avatar-img",attrs:{src:e.$block.data.userImg||"//a.vpimg4.com/upload/upimg2/u/30ebcd58722a1fef7412f9e6431d6565.png"}}),i("el-dropdown",{attrs:{trigger:"hover"},on:{command:e.handleCommand}},[i("span",{staticClass:"avatar-name"},[e._v(e._s(e.$block.data.userName)+" "),i("i",{staticClass:"el-icon-caret-bottom"})]),i("el-dropdown-menu",{staticClass:"dropdown-menu-login-out",attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticClass:"dropdown-item-login-out",attrs:{command:"login-out"}},[e._v(e._s(e.$block.data.loginOutText||"退出"))])],1)],1)]:e._e()],2)],1)}),[],!1,null,null,null).exports),ko={props:{to:{type:Object,required:!0}},methods:{isExternalLink:function(e){return f(e)},linkProps:function(e){return this.isExternalLink(e.path)?{is:"a",href:e.path,target:e.target,rel:"noopener"}:{is:"router-link",to:e.path}}}},xo={name:"SidebarItem",components:{AppLink:Object(ht.a)(ko,(function(){var e=this.$createElement;return(this._self._c||e)("component",this._b({},"component",this.linkProps(this.to),!1),[this._t("default")],2)}),[],!1,null,null,null).exports},props:{item:{type:Object,required:!0}},inject:["$block"],methods:{resolvePath:function(e){var t={target:e.target||"_blank"};return this.isExternalLink(e.path)?(t.path=e.path,t):(t.path=e.redirect||e.meta.path,t.replace=e.replace,t)},isExternalLink:function(e){return f(e)},iconClassName:function(e){return e&&!/^(el\-icon|ams-icon).+/.test(e)?(console.warn('路由icon的简写已在ams@0.15.11+废弃，请使用 el-icon-iconName 的完整类名替代，如：  \nmeta: {icon: "el-icon-menu"}'),"el-icon-".concat(e)):e},clickItem:function(e){this.$block.block.router&&!this.$block.block.router.forcedRefresh||e.meta.path!==this.$route.path||this.isExternalLink(e.path)||this.$router.push({path:"/amsblankpage",query:{url:this.$route.fullPath}})}}};function wo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Oo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?wo(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var _o={components:{SidebarItem:Object(ht.a)(xo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"menu-wrapper"},[e.item.children&&e.item.children.length?i("el-submenu",{ref:"submenu",attrs:{index:e.resolvePath(e.item).path}},[i("template",{slot:"title"},[e.item.meta.icon?i("i",{class:e.iconClassName(e.item.meta.icon)}):e._e(),e.item.name?i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.name))]):e._e()]),e._l(e.item.children,(function(t){return[t.children&&t.children.length>0?i("sidebar-item",{key:t.path,staticClass:"nest-menu",attrs:{"is-nest":!0,item:t}}):i("app-link",{key:t.name,attrs:{to:e.resolvePath(t)}},[i("el-menu-item",{attrs:{index:e.resolvePath(t).path},on:{click:function(i){return e.clickItem(t)}}},[t.meta.icon?i("i",{class:e.iconClassName(t.meta.icon)}):e._e(),t.name?i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))]):e._e()])],1)]}))],2):i("app-link",{attrs:{to:e.resolvePath(e.item)}},[i("el-menu-item",{attrs:{index:e.resolvePath(e.item).path},on:{click:function(t){return e.clickItem(e.item)}}},[e.item.meta.icon?i("i",{class:e.iconClassName(e.item.meta.icon)}):e._e(),e.item.name?i("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.item.name))]):e._e()])],1)],1)}),[],!1,null,null,null).exports},props:{router:{type:Object,required:!0},sidebar:{type:Object,required:!0}},inject:["$block"],computed:{uniqueOpened:function(){return!(!this.$block.block.router||!this.$block.block.router.uniqueOpened)},isCollapse:function(){return!this.sidebar.opened},routes:function(){var e=this.getRoutes(this.router.routes,this.$block.data.roles);return e}},methods:{checkRoles:function(e,t){if(e.meta.roles){if(!t||!t.length)return!1;for(var i=0;i<e.meta.roles.length;i++)if(t.indexOf(e.meta.roles[i])>=0)return!0;return!1}return!0},getRoutes:function(e,t){var i=[];if(e){for(var o=0;o<e.length;o++)if(!e[o].meta.hidden&&this.checkRoles(e[o],t)){var n=Oo(Oo({},e[o]),{},{children:this.getRoutes(e[o].children,t)});i.push(n)}return i}}}},jo=Object(ht.a)(_o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[i("el-menu",{attrs:{"show-timeout":e.router.showTimeout||200,"hide-timeout":e.router.hideTimeout||100,"default-active":e.$route.path,collapse:e.isCollapse,"unique-opened":e.uniqueOpened,mode:"vertical","background-color":e.router.backgroundColor,"text-color":e.router.textColor,"active-text-color":e.router.activeTextColor}},[i("ams-blocks",{attrs:{blocks:e.$block.block.slotBlocks.menuTop}}),e._l(e.routes,(function(e){return i("sidebar-item",{key:e.path,attrs:{item:e}})})),i("ams-blocks",{attrs:{blocks:e.$block.block.slotBlocks.menuBottom}})],2)],1)}),[],!1,null,null,null).exports,Co={data:function(){return{levelList:null}},inject:["$block"],watch:{$route:function(){this.getBreadcrumb()}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=this.$block.block.router,t=[];if(this.$route.meta.index)for(var i=this.$route.meta.index.split("."),o=e.routes,n=0;n<i.length;n++)t.push(o[i[n]]),o=o[i[n]].children;!1!==e.defaultBreadcrumb&&t[0]!==e.routes[0]&&t.unshift(e.routes[0]),this.levelList=t}}},So=(i("366e"),{components:{Navbar:vo,Sidebar:jo,Breadcrumb:Object(ht.a)(Co,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-breadcrumb",{staticClass:"app-breadcrumb",attrs:{separator:"/"}},[i("transition-group",{attrs:{name:"breadcrumb"}},e._l(e.levelList,(function(t,o){return i("el-breadcrumb-item",{key:"key"+o},[e.levelList.length>1&&o===e.levelList.length-1||!t.block&&!t.component&&!t.redirect||t.meta.noRedirect?i("span",{staticClass:"no-redirect"},[e._v(e._s(t.name))]):i("router-link",{attrs:{to:t.redirect||t.meta.path}},[e._v(e._s(t.name))])],1)})),1)],1)}),[],!1,null,"d8b23bec",null).exports},inject:["$block"],data:function(){return{type:"router",cachedViews:[],sidebar:{opened:!0,withoutAnimation:!1}}},computed:{classObj:function(){return Object(r.a)({hideSidebar:!this.sidebar.opened,openSidebar:this.sidebar.opened,withoutAnimation:this.sidebar.withoutAnimation},this.currentRouter.class,!!this.currentRouter.class)},key:function(){return this.$route.fullPath},currentRouter:function(){var e=this.$block.block.router,t=[];if(this.$route.meta.index)for(var i=this.$route.meta.index.split("."),o=e.routes,n=0;n<i.length;n++)t.push(o[i[n]]),o=o[i[n]].children;var l={};return t.length&&(l=t[t.length-1]),l},showMenu:function(){var e=this.$block.block.router;return!e||!1!==e.showMenu},shwoBreadcrumb:function(){return!(!this.$block.block.router||void 0!==this.$block.block.router.showBreadcrumb)||this.$block.block.router.showBreadcrumb}},methods:{toggleSideBar:function(){this.sidebar.opened=!this.sidebar.opened}}}),Eo=Object(ht.a)(So,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return!1!==e.$route.meta.hasMenu&&e.showMenu?i("div",{class:e.classObj},[i("navbar",{attrs:{sidebar:e.sidebar}}),i("sidebar",{staticClass:"sidebar-container",attrs:{router:e.$block.block.router,sidebar:e.sidebar}}),e.shwoBreadcrumb?i("breadcrumb",{staticClass:"breadcrumb-container"}):e._e(),i("div",{staticClass:"main-container",class:e.shwoBreadcrumb?"":"main-container-nobreadcrumb"},[i("section",{staticClass:"ams-router-main"},[i("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[i("router-view",{key:e.key})],1)],1)])],1):i("router-view",{key:e.key})}),[],!1,null,null,null).exports,To={type:"router",install:function(e){"undefined"!=typeof window&&window.Vue&&(window.VueRouter=rt.a),e.component("ams-router",Eo),e.component("RouterView")||e.component("router-view")||e.use(rt.a),e.component("ams-block-".concat(this.type),bo)}},Po={mixins:[At.blockMixin],methods:{afterReady:function(){var e=this,t=[];this.block.options&&(t=Object.keys(this.block.options)),"0"===this.data.active&&t.length&&(this.data.active=this.block.blocks[0]),this.events.push(k(window,"resize",S((function(){e.setBlockData({})}),100)))}}},Ao=(i("ac9f"),Object(ht.a)(Po,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ams-block-tabs",style:e.block.style},[i("el-tabs",e._g(e._b({model:{value:e.data.active,callback:function(t){e.$set(e.data,"active",t)},expression:"data.active"}},"el-tabs",e.block.props,!1),e.on),e._l(e.block.options,(function(t,o){return i("el-tab-pane",e._b({key:o,attrs:{name:o}},"el-tab-pane","string"!=typeof e.block.options[o]&&e.block.options[o],!1),[i("span",{attrs:{slot:"label"},domProps:{innerHTML:e._s("string"==typeof e.block.options[o]?e.block.options[o]:e.block.options[o].label)},slot:"label"}),i("ams-block",{attrs:{name:o}})],1)})),1),e.block.operationsCounts.operations?i("span",{staticClass:"operations"},[i("ams-operations",{attrs:{name:e.name}})],1):e._e()],1):e._e()}),[],!1,null,null,null).exports),Bo={type:"tabs",install:function(e){e.component("ams-block-".concat(this.type),Ao)}},Ro=(i("f49d"),i("009d"),{props:["column"],data:function(){return{}},computed:{},methods:{handleCollapse:function(e){this.$emit("handleCollapse",this.column),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}}});i("2200f");function $o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Do(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Vo,Mo={components:{SlotHeader:Object(ht.a)(Ro,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cell-div"},[e.column["slot-header"]&&"tooltip"===e.column["slot-header"].type?[e._v("\n        "+e._s(e.column.label)+"\n        "),i("el-tooltip",{staticClass:"tooltip",attrs:{effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-question slot-header-icon"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.column["slot-header"].content)},slot:"content"})])]:e.column["slot-header"]&&"collapse"===e.column["slot-header"].type&&e.column["slot-header"].collapseColumn&&e.column["slot-header"].collapseColumn.length?[e._v("\n        "+e._s(e.column.label)+"\n        "),e.column.collapseOpen?i("i",{staticClass:"el-icon-remove-outline slot-header-icon",on:{click:function(t){return e.handleCollapse(t)}}}):i("i",{staticClass:"el-icon-circle-plus-outline slot-header-icon",on:{click:function(t){return e.handleCollapse(t)}}})]:[e._v("\n        "+e._s(e.column.label)+"\n    ")]],2)}),[],!1,null,null,null).exports},mixins:[At.blockMixin],data:function(){return{defaultListFieldWidth:we,filters:{},searchs:{},options:{},sortField:null,sortOrder:null,height:null,loading:!1,tableList:[],collapseColumn:{},spanMergeData:{}}},computed:{isBorder:function(){var e=this.block.props;return!e||void 0===e.border||e.border},tableColumn:function(){return this.block.options&&this.block.options["table-column"]&&this.block.options["table-column"].length?this.handleTableColumn(this.block.options["table-column"]):this.handleTableColumn(Object.values(this.fields))},expandRow:function(){return!(!this.block.options||!this.block.options["expand-row"])&&this.block.options["expand-row"]},operationsWidth:Pt},watch:{"data.list":function(e,t){this.tableList=this.treeTableXcode(JSON.parse(JSON.stringify(this.data.list))),this.handleSpanMergeData()}},methods:{afterReady:function(){var e=this;this.block.options&&this.block.options.tableHeightFit?(this.heightFit(),this.events.push(k(window,"resize",S((function(){e.heightFit()}),100)))):this.block.props&&this.block.props.height&&(this.height=this.block.props.height)},handleRowClick:(Vo=Object(c.a)(regeneratorRuntime.mark((function e(t,i){var o,n,l,a,s,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t[this.expandRow.valueKey]&&t[this.expandRow.valueKey].length>0)){e.next=4;break}t.open?this.rowCollapse(t,i):this.rowExpand(t,i),e.next=16;break;case 4:if((o=this.expandRow.remoteConfig)&&o.action){e.next=7;break}return e.abrupt("return",console.warn("no remote action"));case 7:return n={url:o.action,method:"get"},o.queryName&&(n.params={},n.params[o.queryName]=t[o.queryValue]),this.loading=!0,l=this.$ams,e.next=13,l.request(n);case 13:a=e.sent,s=this.getConfig("resource.api.successCode"),a.data.code===s&&a.data.data&&a.data.data.list&&(r=this.treeTableXcode(a.data.data.list,"".concat(t.xCode,"-")),t[this.expandRow.valueKey]=r||{},this.rowExpand(t,i));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return Vo.apply(this,arguments)}),handleTableColumn:function(e){var t=this,i=[],o=[];if(i=e.map((function(e,i,n){var l={ctx:"view",default:"",hidden:!1,label:"",name:"",props:{},children:[],type:"text"};return t.fields[e.name]&&$(l,t.fields[e.name]),$(l,e),l["slot-header"]&&"collapse"===l["slot-header"].type&&(t.collapseColumn[l.name]?!1===t.collapseColumn[l.name].collapseOpen?(o=o.concat(l["slot-header"].collapseColumn),l.collapseOpen=!1):l.collapseOpen=!0:(t.collapseColumn[l.name]=Do(Do({},l["slot-header"]),{},{collapseOpen:!1}),l.collapseOpen=!1,o=o.concat(l["slot-header"].collapseColumn))),l.children&&l.children.length>0&&(l.children=t.handleTableColumn(l.children)),l})),o.length>0)for(var n=0;n<i.length;n++)o.indexOf(i[n].name)>=0&&i.splice(n--,1);return i},handleSpanMethod:function(e){e.row;for(var t=e.column,i=e.rowIndex,o=(e.columnIndex,Object.keys(this.spanMergeData)),n=0;n<o.length;n++){var l=o[n];if(t.columnKey===l){var a=this.spanMergeData[l].spanArr[i];return{rowspan:a,colspan:a>0?1:0}}}},handleSpanMergeData:function(){var e=this;if(this.block.options&&this.block.options["span-merge"]){Object.keys(this.block.options["span-merge"]).forEach((function(t,i){e.spanMergeData[t]={pos:0,spanArr:[1]}}));for(var t=function(t){var i=e.tableList[t];Object.keys(e.spanMergeData).forEach((function(o,n){i[o]&&i[o]===e.tableList[t-1][o]?(e.spanMergeData[o].spanArr[e.spanMergeData[o].pos]+=1,e.spanMergeData[o].spanArr.push(0)):(e.spanMergeData[o].spanArr.push(1),e.spanMergeData[o].pos=t)}))},i=1;i<this.tableList.length;i++)t(i)}},treeTableXcode:function(e,t){for(var i=t||"",o=0;o<e.length;o++){var n=e[o];n.xCode=i+o,n.rowchildren&&n.rowchildren.length>0&&this.treeTableXcode(n.rowchildren,"".concat(n.xCode,"-"))}return e},handleColumnCollapse:function(e){var t=e.name||"";this.collapseColumn[t]&&(this.collapseColumn[t].collapseOpen=!this.collapseColumn[t].collapseOpen,this.block.options["table-column"]=JSON.parse(JSON.stringify(this.block.options["table-column"])))},rowExpand:function(e,t){if(!e.rowchildren)return t;for(var i=0;e.rowchildren&&i<e.rowchildren.length;i++){var o=e.rowchildren[i];this.tableList.splice(++t,0,o),o.rowchildren&&o.rowchildren.length>0&&o.open&&(t=this.rowExpand(o,t))}return this.handleSpanMergeData(),e.open=!0,this.loading=!1,t},rowCollapse:function(e,t){if(!e.rowchildren)return t;for(var i=0,o=t+1;o<this.tableList.length-1;o++){if(!this.tableList[o].xCode.startsWith(e.xCode+"-"))break;i++}this.tableList.splice(t+1,i),e.open=!1,this.loading=!1,this.handleSpanMergeData()},handlerSearch:function(){console.log("handlerSearch",this.searchs),this.data.page=1,this.emitEvent("list")},handleSizeChange:function(){console.log("handleSizeChange"),this.data.page=1,this.emitEvent("list")},handleCurrentChange:function(e){console.log("handleCurrentChange"),this.emitEvent("list")},handleSortChange:function(e){var t=e.prop,i=e.order;console.log("handleSortChange",t,i),this.sortField=t,this.sortOrder=i,this.data.page=1,this.emitEvent("list")},handleFilterChange:function(e){var t=this;console.log("handleFilterChange",e);var i=!1;Object.keys(e).forEach((function(o){if(console.log("this.block.filters[key].remote",t.block.filters[o].remote),t.block.filters[o].remote){i=!0;var n=e[o].join(",");n?t.filters[o]=n:delete t.filters[o]}})),i&&(this.data.page=1,this.emitEvent("list"))}}},zo=(i("e7b9"),Object(ht.a)(Mo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-table",style:e.block.style},[i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.top}}),i("ams-operations",{attrs:{name:e.name,"slot-name":"searchs"}}),i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.tableTop}}),i("el-form",{attrs:{model:e.data}},[i("el-table",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:e.isBorder,data:e.tableList,"span-method":e.handleSpanMethod,height:e.height,"highlight-current-row":""},on:{"sort-change":e.handleSortChange,"filter-change":e.handleFilterChange}},"el-table",e.block.props,!1),e.on),[e.expandRow&&e.expandRow.valueKey?i("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row[e.expandRow.valueKey]?i("div",{on:{click:function(i){return e.handleRowClick(t.row,t.$index)}}},[t.row.open?i("i",{staticClass:"slot-header-icon el-icon-caret-bottom"}):i("i",{staticClass:"slot-header-icon el-icon-caret-right"})]):e._e()]}}],null,!1,908749237)}):e._e(),e.tableColumn?["index"===e.block.props.type?i("el-table-column",{attrs:{type:"index",align:"center"}}):e._e(),e._l(e.tableColumn,(function(t,o){return t.hidden?e._e():i("el-table-column",e._b({key:t.name||o,attrs:{prop:t.name,label:t.label,width:t.width,"column-key":t.name,fit:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(o){return t.name&&e.fields[t.name]?[i("ams-field-"+t.type+"-"+t.ctx,{tag:"component",class:"ams-field ams-field-"+t.type+"-"+t.ctx,attrs:{field:e.fields[t.name],value:o.row[t.name],name:e.name,path:"list["+o.$index+"]."+t.name,context:o.row}})]:void 0}}],null,!0)},"el-table-column",t.props,!1),[i("template",{slot:"header"},[i("SlotHeader",{attrs:{column:t},on:{handleCollapse:e.handleColumnCollapse}})],1),t.children&&t.children.length>0?e._l(t.children,(function(t,o){return t.hidden?e._e():i("el-table-column",e._b({key:t.name||o,attrs:{prop:t.name,label:t.label,width:t.width,"column-key":t.name,fit:"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(o){return t.name&&e.fields[t.name]?[i("ams-field-"+t.type+"-"+t.ctx,{tag:"component",class:"ams-field ams-field-"+t.type+"-"+t.ctx,attrs:{field:e.fields[t.name],value:o.row[t.name],name:e.name,path:"list["+o.$index+"]."+t.name,context:o.row}})]:void 0}}],null,!0)},"el-table-column",t.props,!1),[i("template",{slot:"header"},[i("SlotHeader",{attrs:{column:t},on:{handleCollapse:e.handleColumnCollapse}})],1)],2)})):e._e()],2)}))]:e._e(),e.block.operationsCounts.operations?i("el-table-column",{attrs:{label:"操作",fit:"",fixed:"right","min-width":"140px",width:e.operationsWidth,align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("ams-operations",{attrs:{name:e.name,"slot-field-key":"defaultOperations"+t.$index,context:t.row}})]}}],null,!1,1341976620)}):e._e()],2)],1),e.data.total?i("el-pagination",{attrs:{"current-page":e.data.page,"page-size":e.data.pageSize,layout:e.data.layout||"prev, sizes, pager, next, jumper",background:"",align:"right",total:e.data.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.data,"page",t)},"update:current-page":function(t){return e.$set(e.data,"page",t)},"update:pageSize":function(t){return e.$set(e.data,"pageSize",t)},"update:page-size":function(t){return e.$set(e.data,"pageSize",t)}}}):e._e(),i("ams-blocks",{attrs:{blocks:e.block.blocks}})],1):e._e()}),[],!1,null,null,null).exports),Io={type:"table",install:function(e){e.component("ams-block-".concat(this.type),zo)}},Fo={mixins:[At.blockMixin],data:function(){return{suffixInfoClass:""}},computed:{suffixInfo:function(){var e=this.block.props["suffix-info"],t=this.block.props["suffix-info-warning"],i=this.block.props["suffix-info-danger"];return this.suffixInfoClass=t?"warning":i?"danger":"",e||t||i}}},qo=(i("bb07"),Object(ht.a)(Fo,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",e._g(e._b({staticClass:"ams-block-title",style:e.block.style},"div",e.block.props,!1),e.on),[i("div",{staticClass:"ams-title"},[i("span",{domProps:{innerHTML:e._s(e.block.options.title)}}),e.block.options.subTitle?i("div",{staticClass:"sub-title"},[e._v(e._s(e.block.options.subTitle))]):e._e(),e.suffixInfo?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{class:"el-icon-info ams-field-suffix-info "+e.suffixInfoClass}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.suffixInfo)},slot:"content"})]):e._e(),i("ams-blocks",{staticClass:"ams-blocks-inline",attrs:{blocks:e.block.slotBlocks.append}})],1),i("ams-blocks",{attrs:{blocks:e.block.blocks}}),i("ams-operations",{attrs:{name:e.name}})],1):e._e()}),[],!1,null,null,null).exports),Lo={type:"title",install:function(e){e.component("ams-block-".concat(this.type),qo)}},No={mixins:[At.blockMixin]},Ko=Object(ht.a)(No,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-steps",style:e.block.style},[i("el-steps",e._b({attrs:{active:e.data.active,"finish-status":"success"}},"el-steps",e.block.props,!1),e._l(e.block.blocks,(function(t){return i("el-step",{key:t,attrs:{name:t,title:e.block.options[t]&&e.block.options[t].title||e.block.options[t],description:e.block.options[t]&&e.block.options[t].description}})})),1),e._l(e.block.blocks,(function(t,o){return[e.data.active===o?i("ams-block",{key:o,attrs:{name:e.block.blocks[o]}}):e._e()]})),i("ams-operations",{staticClass:"batch-operations",attrs:{operations:e.block.operations,name:e.name}})],2):e._e()}),[],!1,null,null,null).exports,Uo={type:"steps",install:function(e){e.component("ams-block-".concat(this.type),Ko)}},Ho={mixins:[At.blockMixin]},Wo=Object(ht.a)(Ho,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-dropdown",style:e.block.style},[i("el-dropdown",e._g(e._b({},"el-dropdown",e.block.props,!1),e.on),[e.block.props&&e.block.props.button&&!e.block.props["split-button"]?i("el-button",e._b({staticClass:"el-dropdown-link"},"el-button",e.block.props,!1),[e._v("\n            "+e._s(e.block.options.menu)+"\n            "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]):i("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s(e.block.options.menu)+"\n            "),e.block.props&&e.block.props["split-button"]?e._e():i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e.block.options.menuItems?i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.block.options.menuItems,(function(t,o){return i("el-dropdown-item",e._b({key:o},"el-dropdown-item",t.props,!1),[e._v("\n                "+e._s(void 0!==t.text?t.text:t)+"\n            ")])})),1):e._e()],1),i("ams-blocks",{attrs:{blocks:e.block.blocks}}),i("ams-operations",{attrs:{name:e.name}})],1):e._e()}),[],!1,null,null,null).exports,Yo={type:"dropdown",install:function(e){e.component("ams-block-".concat(this.type),Wo)}};function Jo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Xo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Jo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Zo={mixins:[At.blockMixin],computed:{gridStyle:function(){var e={"grid-gap":"20px 20px"},t=this.block.blocks&&Object.keys(this.block.blocks).length;return t&&(e["grid-template-columns"]="repeat(".concat(t,", 1fr)")),Xo(Xo({},e),this.block.style)}}},Go=Zo,Qo=(i("b1d9"),Object(ht.a)(Go,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",e._g(e._b({staticClass:"ams-block-grid",style:e.gridStyle},"div",e.block.props,!1),e.on),e._l(e.block.blocks,(function(e){return i("ams-block",{key:e,staticClass:"ams-block-grid-item",attrs:{name:e}})})),1):e._e()}),[],!1,null,null,null)),en=Qo.exports,tn={type:"grid",install:function(e){e.component("ams-block-".concat(this.type),en)}},on={mixins:[At.blockMixin],computed:{height:function(){var e=this.block;return e.style&&e.style.height?e.style.height:e.props&&e.props.height?e.props.height:"150px"}},methods:{setActiveItem:function(e){return this.$refs.amsCarousel.setActiveItem(e)},next:function(){return this.$refs.amsCarousel.next()},prev:function(){return this.$refs.amsCarousel.prev()}}},nn=on,ln=(i("a0e8"),Object(ht.a)(nn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-carousel"},[i("el-carousel",e._g(e._b({ref:"amsCarousel",style:e.block.style,attrs:{height:e.height}},"el-carousel",e.block.props,!1),e.on),["block"===e.block.props["item-type"]?e._l(e.block.blocks,(function(e,t){return i("el-carousel-item",{key:t},[i("ams-block",{attrs:{name:e}})],1)})):e._l(e.block.options,(function(t,o){return i("el-carousel-item",{key:o,style:{"line-height":e.height}},[e._v("\n        "+e._s(t)+"\n      ")])}))],2),e.block.operationsCounts.operations?i("ams-operations",{staticClass:"operations",attrs:{name:e.name}}):e._e()],1):e._e()}),[],!1,null,null,null).exports),an={type:"carousel",install:function(e){e.component("ams-block-".concat(this.type),ln)}},sn={mixins:[At.blockMixin],computed:{props:function(){return this.block&&this.block.props?this.block.props:{}}}},rn=Object(ht.a)(sn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-backtop"},[i("el-backtop",e._g(e._b({ref:"amsBacktop",style:e.block.style},"el-backtop",e.props,!1),e.on),[e.block.blocks?e._l(e.block.blocks,(function(e,t){return i("ams-block",{key:t,attrs:{name:e}})})):e._e()],2)],1):e._e()}),[],!1,null,null,null).exports,cn={type:"backtop",install:function(e){e.component("ams-block-".concat(this.type),rn)}},pn={mixins:[At.blockMixin],computed:{slot:function(){return this.block.slots||{}}}},un=Object(ht.a)(pn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-popover",style:e.block.style},[i("el-popover",e._g(e._b({},"el-popover",e.block.props,!1),e.on),[e.slot.content?i("span",{domProps:{innerHTML:e._s(e.slot.content)}}):e._e(),i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.content}}),i("template",{slot:"reference"},[e.slot.reference?i("span",{domProps:{innerHTML:e._s(e.slot.reference)}}):e._e(),i("ams-blocks",{attrs:{blocks:e.block.slotBlocks.reference}})],1)],2)],1):e._e()}),[],!1,null,null,null).exports,dn={type:"popover",install:function(e){e.component("ams-block-".concat(this.type),un)}},fn={mixins:[At.blockMixin],computed:{slot:function(){return this.block.slots||{}}}},hn=Object(ht.a)(fn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("div",{staticClass:"ams-block-popconfirm",style:e.block.style},[i("el-popconfirm",e._g(e._b({attrs:{title:e.slot.title||e.slot.content}},"el-popconfirm",e.block.props,!1),e.on),[e.slot.reference&&"string"==typeof e.slot.reference?i("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(e.slot.reference))]):e._e()],1)],1):e._e()}),[],!1,null,null,null).exports,mn={type:"popconfirm",install:function(e){e.component("ams-block-".concat(this.type),hn)}},bn={mixins:[At.fieldViewArrayMixin]},gn=(i("460b"),Object(ht.a)(bn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.value&&e.value.length&&e.field.field?i("div",{style:e.field.style},e._l(e.value,(function(t,o){return i("el-form-item",{key:o,staticClass:"ams-array-item",attrs:{"label-width":e.field.field.labelWidth,label:e.field.field.label&&e.field.field.label+(o+1),rules:e.field.field.rules,prop:"array"!==e.field.field.type&&"object"!==e.field.field.type?e.path+"["+o+"]":""}},[i("ams-field-"+e.field.field.type+"-"+e.field.field.ctx,{tag:"component",class:"ams-field ams-field-"+e.field.field.type+"-"+e.field.field.ctx,attrs:{field:e.field.field,value:t,name:e.name,path:e.path+"["+o+"]",context:e.context}})],1)})),1):e._e()}),[],!1,null,null,null).exports),yn={mixins:[At.fieldEditArrayMixin],data:function(){return{showOperationIndex:-1}},inject:["fieldChange"],computed:{maxLimit:function(){return this.field.props&&this.field.props.max},minLimit:function(){return this.field.props&&this.field.props.min},sortable:function(){return!(this.field.props&&!1===this.field.props.sortable)}},methods:{emitChangeEvent:function(){this.$block.emitEvent("fieldChange",{field:this.field,value:this.value,path:this.path})},addArrayField:function(){this.maxLimit&&this.value.length>=this.maxLimit?this.$alert("已超过最大限制长度"):(this.value.push(this.$block.setFieldData(void 0,this.field.field,"".concat(this.path,"[").concat(this.value.length,"]"))),this.emitChangeEvent())},removeArrayField:function(e){this.minLimit&&this.value.length<=this.minLimit?this.$alert("不能低于最小限制长度"):(this.value.splice(e,1),this.emitChangeEvent())},toggleOperation:function(e){this.showOperationIndex=e===this.showOperationIndex?-1:e},moveUp:function(e){this.showOperationIndex=e-1,this.swap(e-1)},moveDown:function(e){this.showOperationIndex=e+1,this.swap(e)},swap:function(e){var t=[this.value[e],this.value[e+1]];this.value.splice(e,2,t[1],t[0]),this.emitChangeEvent()}}},vn=(i("8d48"),Object(ht.a)(yn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.field.style},[i("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-plus"},on:{click:e.addArrayField}}),i("div",e._l(e.value,(function(t,o){return i("el-form-item",{key:o,staticClass:"ams-array-item",attrs:{label:e.field.field.label&&e.field.field.label+(o+1),"label-width":e.field.field.labelWidth,rules:e.field.field.rules,prop:"array"!==e.field.field.type&&"object"!==e.field.field.type?e.path+"["+o+"]":""}},[i("div",{staticClass:"ams-field-array-label",attrs:{slot:"label"},slot:"label"},[i("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-more"},on:{click:function(t){return e.toggleOperation(o)}}}),e.showOperationIndex===o?[i("el-button",{attrs:{type:"danger",size:"mini",circle:"",icon:"el-icon-minus"},on:{click:function(t){return e.removeArrayField(o)}}}),o&&e.sortable?i("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-caret-top"},on:{click:function(t){return e.moveUp(o)}}}):e._e(),o<e.value.length-1&&e.sortable?i("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-caret-bottom"},on:{click:function(t){return e.moveDown(o)}}}):e._e()]:e._e(),e._v("\n                "+e._s(e.field.field.label&&e.field.field.label+(o+1))+"\n            ")],2),i("ams-field-"+e.field.field.type+"-"+e.field.field.ctx,{tag:"component",class:"ams-field ams-field-"+e.field.field.type+"-"+e.field.field.ctx+" "+(e.field.field.label?"":"ams-field-no-label"),attrs:{field:e.field.field,value:t,name:e.name,context:e.context,path:e.path+"["+o+"]"}})],1)})),1)],1)}),[],!1,null,null,null).exports),kn={type:"array",install:function(e){e.component("ams-field-".concat(this.type,"-view"),gn),e.component("ams-field-".concat(this.type,"-edit"),vn)}},xn={mixins:[At.fieldViewMixin]},wn=(i("97c4"),Object(ht.a)(xn,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:this.field.style},[t("audio",{staticClass:"audio",attrs:{controls:"controls",src:this.viewValue}},[t("p",[this._v("你的浏览器不支持html5音频播放")])])])}),[],!1,null,null,null).exports),On={mixins:[At.fieldEditMixin],methods:{beforeUpload:function(e){var t=this;return new Promise(function(){var i=Object(c.a)(regeneratorRuntime.mark((function i(o,n){var l,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.field.check){i.next=2;break}return i.abrupt("return",o());case 2:if(!((l=t.field.check.maxSizeInKB)&&e.size/1024>l)){i.next=6;break}return t.$message.error("上传音频大小不能超过 "+(l/1024).toFixed(2)+"MB!"),i.abrupt("return",n());case 6:if("function"!=typeof(a=t.field.props||{})["before-upload"]){i.next=10;break}return i.next=10,a["before-upload"](e);case 10:o();case 11:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())},handleUploadSuccess:function(e,t){console.log("handleUploadSuccess",e,t);var i,o=this.field.props||{};if(i=o&&void 0!==o.successCode?o.successCode:this.$block.getConfig("resource.api.successCode"),e.code===i){var n=this.field.successUrlKey||"url";e.data&&(this.localValue=this.field.get(e.data[n]||e.data,this.field)),"function"==typeof o["on-success"]&&o["on-success"](e,t)}else"function"==typeof o["on-error"]?o["on-error"](e,t):this.$message.error("".concat(e.msg,"(").concat(e.code,")"))},handleRemove:function(){this.localValue=[]}}},_n=Object(ht.a)(On,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-upload",e._g(e._b({style:e.field.style,attrs:{"on-remove":e.handleRemove,"on-success":e.handleUploadSuccess,"before-upload":e.beforeUpload,"file-list":e.localValue}},"el-upload",e.field.props,!1),e.on),[i("el-button",{attrs:{size:e.field.props.size,disabled:e.field.props.disabled,type:"primary"}},[e._v(e._s(e.field.props&&e.field.props["button-label"]||"点击上传"))]),e.field.tip?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.field.tip))]):e._e()],1)],1)}),[],!1,null,null,null).exports,jn={type:"audio",install:function(e){e.component("ams-field-".concat(this.type,"-view"),wn),e.component("ams-field-".concat(this.type,"-edit"),_n)}},Cn={mixins:[At.fieldEditMixin]},Sn=(i("5f04"),Object(ht.a)(Cn,(function(){var e=this.$createElement;return(this._self._c||e)("el-cascader",this._b({style:this.field.style,attrs:{value:this.localValue,disabled:""}},"el-cascader",this.field.props,!1))}),[],!1,null,null,null).exports),En={mixins:[At.fieldEditMixin]},Tn=Object(ht.a)(En,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-cascader",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,Pn={type:"cascader",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Sn),e.component("ams-field-".concat(this.type,"-edit"),Tn)}},An={mixins:[At.fieldViewMixin,At.fieldViewOptionsMixin]},Bn=(i("45cf"),Object(ht.a)(An,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ams-options-view",style:e.field.style},[i("span",{domProps:{innerHTML:e._s(e.actualSelectOptionsText)}}),e.showMoreIcon?i("el-popover",{attrs:{placement:e.field.collapsePlacement||"bottom-end",title:e.field.collapseTitle||"",width:e.field.collapseWidth||200,trigger:"hover"}},[i("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("\n      ...\n      "),i("el-tag",{attrs:{size:"mini",type:"info"}},[e._v("\n        +"+e._s(e.selectOptions.length-e.showOptionsLimit)+"\n      ")])],1),i("ul",{staticClass:"el-scrollbar__view el-select-dropdown__list ams-popover-content-view"},e._l(e.dropdownOptions,(function(t,o){return i("li",{key:o,staticClass:"el-select-dropdown__item"},[i("span",{domProps:{innerHTML:e._s(t)}})])})),0)]):e._e()],1)}),[],!1,null,null,null).exports),Rn={mixins:[At.fieldEditMixin,At.fieldEditOptionsMixin]},$n=Object(ht.a)(Rn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e.isShowSelectAllCheck?i("el-checkbox",{staticClass:"select-all",attrs:{indeterminate:e.indeterminate},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}},[e._v("全选")]):e._e(),i("el-checkbox-group",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-checkbox-group",e.field.props,!1),e.on),[e.field.props&&"button"===e.field.props.type?e._l(e.options,(function(t){return i("el-checkbox-button",e._b({key:t.value,attrs:{label:t.value}},"el-checkbox-button",t,!1),[e._v(e._s(t.label))])})):e._l(e.options,(function(t){return i("el-checkbox",e._b({key:t.value,attrs:{border:e.field.props&&"border"===e.field.props.type,label:t.value}},"el-checkbox",t,!1),[e._v(e._s(t.label))])}))],2)],1)}),[],!1,null,null,null).exports,Dn={type:"checkbox",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Bn),e.component("ams-field-".concat(this.type,"-edit"),$n)}},Vn={mixins:[At.fieldViewMixin]},Mn=(i("83c7"),Object(ht.a)(Vn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ams-field-color-view"},[e.field.input?i("el-input",e._b({staticStyle:{width:"95px","vertical-align":"middle","margin-right":"5px"},style:{color:e.value},attrs:{value:e.value,type:"text",disabled:""}},"el-input",e.field.props,!1)):e._e(),i("el-color-picker",e._b({staticStyle:{"vertical-align":"middle"},style:e.field.style,attrs:{value:e.value,disabled:""}},"el-color-picker",e.field.props,!1))],1)}),[],!1,null,null,null).exports),zn={mixins:[At.fieldEditMixin]},In=(i("c1fc"),Object(ht.a)(zn,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ams-field-color-edit"},[e.field.input?i("el-input",e._b({staticStyle:{width:"95px","vertical-align":"middle","margin-right":"5px"},style:{color:e.localValue},attrs:{type:"text",placeholder:"#000000"},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-input",e.field.props,!1)):e._e(),i("el-color-picker",e._g(e._b({staticStyle:{"vertical-align":"middle"},style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-color-picker",e.field.props,!1),e.on))],1)}),[],!1,null,null,null).exports),Fn={type:"color",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Mn),e.component("ams-field-".concat(this.type,"-edit"),In)}},qn={mixins:[At.fieldViewMixin]},Ln=Object(ht.a)(qn,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,Nn={mixins:[At.fieldEditMixin]},Kn=Object(ht.a)(Nn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-date-picker",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,Un={type:"date",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Ln),e.component("ams-field-".concat(this.type,"-edit"),Kn)}},Hn={mixins:[At.fieldViewMixin]},Wn=Object(ht.a)(Hn,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,Yn={mixins:[At.fieldEditMixin]},Jn=Object(ht.a)(Yn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-date-picker",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,Xn={type:"datetime",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Wn),e.component("ams-field-".concat(this.type,"-edit"),Jn)}},Zn={mixins:[At.fieldViewMixin]},Gn=Object(ht.a)(Zn,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,Qn={mixins:[At.fieldEditMixin]},el=Object(ht.a)(Qn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-date-picker",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-date-picker",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,tl={type:"datetimerange",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Gn),e.component("ams-field-".concat(this.type,"-edit"),el)}},il={mixins:[At.fieldViewMixin]},ol=(i("0943"),Object(ht.a)(il,(function(){var e=this.$createElement,t=this._self._c||e;return this.value?t("a",{style:this.field.style,attrs:{href:this.value,download:""}},[t("i",{staticClass:"el-icon-document"}),this._v(this._s(this.viewValue))]):this._e()}),[],!1,null,null,null).exports),nl={mixins:[At.fieldEditMixin],methods:{beforeUpload:function(e){var t=this,i=this.field.props||{};return"function"==typeof i["before-upload"]?i["before-upload"].call(this,e):new Promise((function(i,o){if(!t.field.check)return i();var n=t.field.check.maxSizeInKB;if(n&&e.size/1024>n)return t.$message.error("上传文件大小不能超过 "+(n/1024).toFixed(2)+"MB!"),o();i()}))},handleUploadSuccess:function(e,t){console.log("handleUploadSuccess",e,t);var i,o=this.field.props||{};if(i=void 0!==o.successCode?o.successCode:this.$block.getConfig("resource.api.successCode"),e.code===i){var n=this.field.successUrlKey||"url";e.data&&(this.localValue=this.field.get(e.data[n]||e.data,this.field)),"function"==typeof o["on-success"]&&(console.warn("0.25.20版本之前，on-success的this指向自身方法，之后指向vue实例"),o["on-success"].call(this,e,t))}else"function"==typeof o["on-error"]?(console.warn("0.25.20版本之前，on-error的this指向自身方法，之后指向vue实例"),o["on-error"].call(this,e,t)):this.$message.error("".concat(e.msg,"(").concat(e.code,")"))},handleRemove:function(){this.localValue=[]}}},ll=Object(ht.a)(nl,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-upload",e._g(e._b({style:e.field.style,attrs:{"on-remove":e.handleRemove,"on-success":e.handleUploadSuccess,"before-upload":e.beforeUpload,"file-list":e.localValue}},"el-upload",e.field.props,!1),e.on),[i("el-button",{attrs:{size:e.field.props.size,disabled:e.field.props.disabled,type:"primary"}},[e._v(e._s(e.field.props&&e.field.props["button-label"]||"点击上传"))]),e.field.tip?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.field.tip))]):e._e()],1)}),[],!1,null,null,null).exports,al={type:"file",install:function(e){e.component("ams-field-".concat(this.type,"-view"),ol),e.component("ams-field-".concat(this.type,"-edit"),ll)}},sl={mixins:[At.fieldViewMixin],computed:{srcList:function(){return this.field.props&&this.field.props["preview-src-list"]||[this.viewValue]},isHeadimage:function(){return this.field.props&&this.field.props.headimage}}},rl=(i("438d"),Object(ht.a)(sl,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.viewValue?i("el-image",{class:e.isHeadimage?"ams-field-headimage":"",style:e.field.style,attrs:{src:e.viewValue,"preview-src-list":e.isHeadimage?[]:e.srcList,fit:e.field.props&&e.field.props.fit}}):i("i",{staticClass:"el-icon-picture"})}),[],!1,null,null,null).exports),cl={mixins:[At.fieldEditMixin],computed:{handleClassName:function(){var e={"ams-field-headimage":this.field.props.headimage};return this.field.props.fit&&(e["ams-field-image-fit-".concat(this.field.props.fit)]=!0),e}},methods:{beforeUpload:function(e){var t=this;return new Promise((function(i,o){if(!t.field.check)return i();var n=t.field.props||{},l=t.field.check,a=l.maxSizeInKB,s=l.imgMaxWidth,r=l.imgMaxHeight,p=l.imgMinWidth,u=l.imgMinHeight,d=l.imgWidth,f=l.imgHeight;if(a&&e.size/1024>a)return t.$message.error("上传图片大小不能超过 "+(a/1024).toFixed(2)+"MB!"),o();if(s||r||p||u||d||f){var h=new Image;h.onload=Object(c.a)(regeneratorRuntime.mark((function l(){var a,c;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:a=!0,c=!0,s&&h.width>s&&(a=!1,t.$message("图片宽度不能超过"+s+"px")),r&&h.height>r&&(c=!1,t.$message("图片高度不能超过"+r+"px")),p&&h.width<p&&(a=!1,t.$message("图片宽度不能小于"+p+"px")),u&&h.height<u&&(c=!1,t.$message("图片高度不能小于"+u+"px")),d&&h.width!==d&&(a=!1,t.$message("图片宽度必须为"+d+"px")),f&&h.height!==f&&(c=!1,t.$message("图片高度必须为"+f+"px")),a&&c?("function"==typeof n["before-upload"]&&i(n["before-upload"](e)),i()):o();case 9:case"end":return l.stop()}}),l)}))),h.src=URL.createObjectURL(e)}else"function"==typeof n["before-upload"]&&i(n["before-upload"](e)),i()}))},handleUploadSuccess:function(e,t){console.log("handleUploadSuccess",e,t);var i,o=this.field.props||{};if(i=o&&void 0!==o.successCode?o.successCode:this.$block.getConfig("resource.api.successCode"),e.code===i){var n=this.field.successUrlKey||"url";e.data&&(this.localValue=e.data[n]||e.data,window.test=this.$refs.upload,this.emitFormItemChange()),"function"==typeof o["on-success"]&&o["on-success"](e,t)}else"function"==typeof o["on-error"]?o["on-error"](e,t):this.$message.error("".concat(e.msg,"(").concat(e.code,")"))},handleRemove:function(){this.localValue="",this.emitFormItemChange()},emitFormItemChange:function(){this.field.rules&&this.$parent&&this.$parent.$options&&this.$parent.$options.componentName&&this.$parent.$emit("el.form.change",this.localValue)},handleChoseFromList:function(e){this.localValue=e}}},pl=(i("5413"),Object(ht.a)(cl,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.handleClassName,style:e.field.style},[i("el-upload",e._g(e._b({attrs:{"on-success":e.handleUploadSuccess,"before-upload":e.beforeUpload}},"el-upload",e.field.props,!1),e.on),[e.localValue?i("el-image",{attrs:{src:e.localValue,fit:e.field.props&&e.field.props.fit}}):i("i",{staticClass:"el-icon-plus"}),i("p",{directives:[{name:"show",rawName:"v-show",value:e.localValue,expression:"localValue"}],staticClass:"edit-text"},[e._v("修改")])],1),i("i",{directives:[{name:"show",rawName:"v-show",value:e.localValue,expression:"localValue"}],staticClass:"el-icon-error",on:{click:e.handleRemove}}),e.field.tip?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.field.tip))]):e._e(),e.field.props["default-image-list"]?[e._v("\n        可供选择的图片有：\n        "),e.field.props["default-image-list"].length?i("ul",{staticClass:"el-upload-list el-upload-list--picture-card el-default-list--picture-card"},e._l(e.field.props["default-image-list"],(function(t,o){return i("li",{key:o,class:"el-upload-list__item "+(e.localValue===t.url?"is-success":""),attrs:{title:t.name},on:{click:function(i){return e.handleChoseFromList(t.url)}}},[i("el-image",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,fit:e.field.props&&e.field.props.fit}}),i("span",{staticClass:"el-upload-list__item-name"},[e._v(e._s(t.name))]),e._m(0,!0)],1)})),0):i("div",{staticClass:"red"},[e._v("暂无图片可选，请自行上传！")])]:e._e()],2)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{staticClass:"el-upload-list__item-status-label"},[t("i",{staticClass:"el-icon-upload-success el-icon-check"})])}],!1,null,null,null).exports),ul={type:"image",install:function(e){e.component("ams-field-".concat(this.type,"-view"),rl),e.component("ams-field-".concat(this.type,"-edit"),pl)}},dl={mixins:[At.fieldViewMixin]},fl=Object(ht.a)(dl,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,hl={mixins:[At.fieldEditMixin]},ml=Object(ht.a)(hl,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input-number",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-input-number",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,bl={type:"inputnumber",install:function(e){e.component("ams-field-".concat(this.type,"-view"),fl),e.component("ams-field-".concat(this.type,"-edit"),ml)}},gl={components:{field:eo},mixins:[At.fieldEditArrayMixin,At.getShowState,At.getField],data:function(){return{layout:null,collapseStatus:!0}},computed:{collapseKeys:function(){return this.field.props&&this.field.props.collapseKeys||[]}},created:function(){this.field.fields&&(this.layout=this.$block.getFieldsLayout(this.field.fields,this.field.layout)),this.collapseKeys.length&&(this.collapseStatus=!1)}},yl=(i("124b"),Object(ht.a)(gl,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.value&&e.field.fields?i("div",{style:e.field.style},[e.collapseKeys.length?i("i",{staticClass:"el-icon icon-collapse",class:e.collapseStatus?"el-icon-caret-top":"el-icon-caret-bottom",on:{click:function(t){e.collapseStatus=!e.collapseStatus}}}):e._e(),e._l(e.layout,(function(t,o){return[!t||!e.getShowState(e.field.fields[o],e.value)||!e.collapseStatus&&e.collapseKeys.indexOf(o)>=0?e._e():["string"==typeof t?i("el-form-item",{key:o,staticClass:"ams-array-item",class:e.field.fields[o].props&&e.field.fields[o].props.inline?"el-form-item-inline":"",style:"width: "+(e.field.fields[o].props&&e.field.fields[o].props.formItemWidth),attrs:{label:"0"!==e.field.fields[o].labelWidth?e.field.fields[o].label:"","label-width":e.field.fields[o].labelWidth,rules:e.field.fields[o].rules,prop:"array"!==e.field.fields[o].type&&"object"!==e.field.fields[o].type?e.path+"."+o:""}},[e.field.fields[o].label&&"0"!==e.field.fields[o].labelWidth?i("template",{slot:"label"},[e.field.fields[o].info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-info ams-form-label-info"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.field.fields[o].info)},slot:"content"})]):e._e(),e._v("\n                    "+e._s(e.field.fields[o].label)+"\n                ")],1):e._e(),i("field",{attrs:{field:e.getField(e.field.fields[o],e.value),value:e.value[o],context:e.context,name:e.name,path:e.path+"."+o}})],2):i("el-form-item",{key:o,staticClass:"ams-form-inline ams-array-item",attrs:{label:"0"!==e.field.fields[o].labelWidth?e.field.fields[o].label:"","label-width":e.field.fields[o].labelWidth}},[e.field.fields[o].label&&"0"!==e.field.fields[o].labelWidth?i("template",{slot:"label"},[e.field.fields[o].info?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{staticClass:"el-icon-info ams-form-label-info"}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.field.fields[o].info)},slot:"content"})]):e._e(),e._v("\n                    "+e._s(e.field.fields[o].label)+"\n                ")],1):e._e(),e._l(t,(function(t){return i("el-form-item",{key:t,attrs:{label:t===o&&"0"===e.field.fields[t].labelWidth?"":e.field.fields[t].label,"label-width":e.field.fields[t].labelWidth,rules:e.field.fields[t].rules,prop:"array"!==e.field.fields[t].type&&"object"!==e.field.fields[t].type?e.path+"."+t:""}},[i("field",{attrs:{field:e.getField(e.field.fields[t],e.value),value:e.value[t],context:e.context,name:e.name,path:e.path+"."+t}})],1)}))],2)]]}))],2):e._e()}),[],!1,null,"494ea1e6",null).exports),vl={type:"object",install:function(e){e.component("ams-field-".concat(this.type,"-view"),yl),e.component("ams-field-".concat(this.type,"-edit"),yl)}},kl={mixins:[At.fieldViewMixin]},xl=Object(ht.a)(kl,(function(){var e=this.$createElement,t=this._self._c||e;return this.value?t("a",{style:this.field.style,attrs:{href:this.value,download:""}},[t("i",{staticClass:"el-icon-document"}),this._v(this._s(this.viewValue))]):this._e()}),[],!1,null,null,null).exports,wl={mixins:[At.fieldEditMixin],methods:{willPreviewFiles:function(e){this.localValue=e.target.files[0]},willResetUploadFiles:function(){this.localValue="",this.$refs.inputFile.value=""}}},Ol=(i("4241"),Object(ht.a)(wl,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("input",e._b({ref:"inputFile",style:e.field.style,attrs:{type:"file"},on:{change:e.willPreviewFiles}},"input",e.field.props,!1)),!1!==e.field.isShowResetButton?i("el-button",{attrs:{type:"button",size:"mini"},on:{click:e.willResetUploadFiles}},[e._v("移除")]):e._e()],1)}),[],!1,null,null,null).exports),_l={type:"originfile",install:function(e){e.component("ams-field-".concat(this.type,"-view"),xl),e.component("ams-field-".concat(this.type,"-edit"),Ol)}};"undefined"!=typeof window&&window.Vue&&_l.install(window.Vue);var jl=_l,Cl={mixins:[At.fieldViewMixin]},Sl=Cl,El=Object(ht.a)(Sl,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null),Tl=El.exports,Pl={mixins:[At.fieldEditMixin]},Al=Pl,Bl=Object(ht.a)(Al,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-input",e.field.props,!1),e.on))}),[],!1,null,null,null),Rl=Bl.exports,$l={type:"password",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Tl),e.component("ams-field-".concat(this.type,"-edit"),Rl)}},Dl={mixins:[At.fieldViewMixin]},Vl=Dl,Ml=(i("551a"),Object(ht.a)(Vl,(function(){var e=this.$createElement;return(this._self._c||e)("el-progress",this._b({style:this.field.style,attrs:{percentage:this.value}},"el-progress",this.field.props,!1))}),[],!1,null,null,null)),zl=Ml.exports,Il={mixins:[At.fieldEditMixin]},Fl=Il,ql=Object(ht.a)(Fl,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-slider",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-slider",e.field.props,!1),e.on))}),[],!1,null,null,null),Ll=ql.exports,Nl={type:"progress",install:function(e){e.component("ams-field-".concat(this.type,"-view"),zl),e.component("ams-field-".concat(this.type,"-edit"),Ll)}},Kl={mixins:[At.fieldEditMixin,At.fieldEditOptionsMixin]},Ul=Kl,Hl=Object(ht.a)(Ul,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.field.style},[i("el-radio-group",e._g(e._b({model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-radio-group",e.field.props,!1),e.on),[e.field.props&&"button"===e.field.props.type?e._l(e.options,(function(t){return i("el-radio-button",e._b({key:t.value,attrs:{label:t.value}},"el-radio-button",t,!1),[e._v(e._s(t.label))])})):e._l(e.options,(function(t){return i("el-radio",e._b({key:t.value,attrs:{label:t.value,border:e.field.props&&"border"===e.field.props.type}},"el-radio",t,!1),[e._v(e._s(t.label))])}))],2)],1)}),[],!1,null,null,null),Wl=Hl.exports,Yl={type:"radio",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Bn),e.component("ams-field-".concat(this.type,"-edit"),Wl)}},Jl={mixins:[At.fieldViewMixin]},Xl=Jl,Zl=Object(ht.a)(Xl,(function(){var e=this.$createElement;return(this._self._c||e)("el-rate",this._b({style:this.field.style,attrs:{value:this.value,disabled:""}},"el-rate",this.field.props,!1))}),[],!1,null,null,null),Gl=Zl.exports,Ql={mixins:[At.fieldEditMixin]},ea=Ql,ta=Object(ht.a)(ea,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-rate",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-rate",e.field.props,!1),e.on))}),[],!1,null,null,null),ia=ta.exports,oa={type:"rate",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Gl),e.component("ams-field-".concat(this.type,"-edit"),ia)}},na={mixins:[At.fieldEditMixin,At.fieldEditOptionsMixin]},la=na,aa=(i("b3de"),Object(ht.a)(la,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"ams-select-edit"},[i("el-select",e._g(e._b({ref:"select",style:e.field.style,attrs:{loading:e.loading},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-select",e.field.props,!1),e.on),[e._l(e.options,(function(t){return[t.options?i("el-option-group",{attrs:{label:t.label}},e._l(t.options,(function(t){return i("el-option",e._b({key:t.value,attrs:{label:t.label,value:t.value}},"el-option",t,!1),[t.html?[i("div",{domProps:{innerHTML:e._s(t.html)}})]:e._e()],2)})),1):i("el-option",e._b({attrs:{label:t.label,value:t.value}},"el-option",t,!1),[t.html?[i("div",{domProps:{innerHTML:e._s(t.html)}})]:e._e()],2)]}))],2),e.isShowSelectAllCheck?i("el-checkbox",{staticClass:"select-all",model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}},[e._v("全选")]):e._e()],1)}),[],!1,null,"ad1ae006",null)),sa=aa.exports,ra={type:"select",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Bn),e.component("ams-field-".concat(this.type,"-edit"),sa)}},ca={mixins:[At.fieldViewMixin]},pa=ca,ua=Object(ht.a)(pa,(function(){var e=this.$createElement;return(this._self._c||e)("el-slider",this._b({style:this.field.style,attrs:{value:this.value,disabled:""}},"el-slider",this.field.props,!1))}),[],!1,null,null,null),da=ua.exports,fa={mixins:[At.fieldEditMixin]},ha=fa,ma=Object(ht.a)(ha,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-slider",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-slider",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,ba={type:"slider",install:function(e){e.component("ams-field-".concat(this.type,"-view"),da),e.component("ams-field-".concat(this.type,"-edit"),ma)}},ga={mixins:[At.fieldViewMixin]},ya=Object(ht.a)(ga,(function(){var e=this.$createElement;return(this._self._c||e)("el-switch",this._b({style:this.field.style,attrs:{value:this.value,disabled:""}},"el-switch",this.field.props,!1))}),[],!1,null,null,null).exports,va={mixins:[At.fieldEditMixin]},ka=Object(ht.a)(va,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-switch",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-switch",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,xa={type:"switch",install:function(e){e.component("ams-field-".concat(this.type,"-view"),ya),e.component("ams-field-".concat(this.type,"-edit"),ka)}},wa={mixins:[At.fieldViewMixin],data:function(){return{suffixInfoClass:""}},computed:{viewText:function(){return null==this.viewValue?"":String(this.viewValue)},showOptionsLimit:function(){var e=this.field.collapseLimit;return e?"number"==typeof e?e:1:this.viewText.length},showMoreIcon:function(){return this.field.collapseLimit&&this.viewText.length>this.showOptionsLimit},actualViewText:function(){return this.showMoreIcon?this.viewText.slice(0,this.showOptionsLimit):this.viewText},suffixIcon:function(){return this.field.props&&this.field.props["suffix-icon"]||"el-icon-info"},suffixInfo:function(){var e=this.field.props["suffix-info"],t=this.field.props["suffix-info-warning"],i=this.field.props["suffix-info-danger"];return this.suffixInfoClass=t?"warning":i?"danger":"",e||t||i}}},Oa=(i("7579"),Object(ht.a)(wa,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._g(e._b({style:e.field.style},"div",e.field.props,!1),e.on),[e._v(e._s(e.actualViewText)),e.showMoreIcon?i("el-popover",{attrs:{placement:e.field.collapsePlacement||"right",title:e.field.collapseTitle||"",width:e.field.collapseWidth||200,trigger:"hover"}},[i("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("... "),i("el-tag",{attrs:{size:"mini",type:"info"}},[e._v("...")])],1),i("div",{domProps:{innerHTML:e._s(e.viewText)}})]):e._e(),e.suffixInfo?i("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[i("i",{class:e.suffixIcon+" ams-field-suffix-info "+e.suffixInfoClass}),i("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.suffixInfo)},slot:"content"})]):e._e()],1)}),[],!1,null,null,null).exports),_a={mixins:[At.fieldEditMixin],data:function(){return{slots:["prefix","suffix","prepend","append"]}}},ja=Object(ht.a)(_a,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tooltip",e._b({attrs:{disabled:!e.tooltip}},"el-tooltip",e.tooltip,!1),[i("el-input",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-input",e.field.props,!1),e.on),[e._l(e.slots,(function(t){return i("template",{slot:t},[e.field.slots&&e.field.slots[t]?[e._v(e._s(e.field.slots[t]))]:e._e()],2)}))],2)],1)}),[],!1,null,null,null).exports,Ca={type:"text",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Oa),e.component("ams-field-".concat(this.type,"-edit"),ja)}},Sa={mixins:[At.fieldEditMixin]},Ea=Object(ht.a)(Sa,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-input",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,Ta={type:"textarea",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Oa),e.component("ams-field-".concat(this.type,"-edit"),Ea)}},Pa={mixins:[At.fieldViewMixin]},Aa=Object(ht.a)(Pa,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,Ba={mixins:[At.fieldEditMixin]},Ra=Object(ht.a)(Ba,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-time-select",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-time-select",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,$a={type:"time",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Aa),e.component("ams-field-".concat(this.type,"-edit"),Ra)}},Da={mixins:[At.fieldViewMixin]},Va=Object(ht.a)(Da,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,Ma={mixins:[At.fieldEditMixin]},za=Object(ht.a)(Ma,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-time-picker",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-time-picker",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,Ia={type:"timepicker",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Va),e.component("ams-field-".concat(this.type,"-edit"),za)}},Fa={mixins:[At.fieldViewMixin]},qa=Object(ht.a)(Fa,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,La={mixins:[At.fieldEditMixin]},Na=Object(ht.a)(La,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-time-picker",e._g(e._b({style:e.field.style,model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-time-picker",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,Ka={type:"timerange",install:function(e){e.component("ams-field-".concat(this.type,"-view"),qa),e.component("ams-field-".concat(this.type,"-edit"),Na)}},Ua={mixins:[At.fieldViewMixin],computed:{selectOptions:function(){if(this.value&&this.field.props&&this.field.props.options){var e=this.value.split(",");return this.field.props.options.filter((function(t){return e.indexOf(String(t.value))>=0})).map((function(e){return e.label})).join("，")}return""}}},Ha=Object(ht.a)(Ua,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v("\n    "+this._s(this.selectOptions)+"\n")])}),[],!1,null,null,null).exports,Wa={mixins:[At.fieldEditMixin],computed:{slots:function(){var e=this.field&&this.field.slots||{},t={};return["left-footer","right-footer"].forEach((function(i){t[i]=e[i]||null})),t}}},Ya=(i("3418"),Object(ht.a)(Wa,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-transfer",e._g(e._b({staticClass:"ams-field-transfer",style:e.field.style,attrs:{data:e.field.props.options},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}},"el-transfer",e.field.props,!1),e.on),[e.slots["left-footer"]?i("template",{slot:"left-footer"},e._l(e.slots["left-footer"],(function(t,o){return i("el-button",e._b({key:o,staticClass:"ams-field-transfer-footer",style:t.style,on:{click:t.onClick}},"el-button",t.props,!1),[e._v(e._s(t.text))])})),1):e._e(),e.slots["right-footer"]?i("template",{slot:"right-footer"},e._l(e.slots["right-footer"],(function(t,o){return i("el-button",e._b({key:o,staticClass:"ams-field-transfer-footer",on:{click:t.onClick}},"el-button",t.props,!1),[e._v(e._s(t.text))])})),1):e._e()],2)}),[],!1,null,"10243cb6",null).exports),Ja={type:"transfer",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Ha),e.component("ams-field-".concat(this.type,"-edit"),Ya)}},Xa={mixins:[At.fieldViewMixin],computed:{current:function(){return this.field.current||Object.keys(this.field.fields)[0]}}},Za=Object(ht.a)(Xa,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.field.fields?i("div",{style:e.field.style},[i("el-radio-group",{attrs:{size:"mini",disabled:"",value:e.current}},e._l(e.field.fields,(function(t,o){return i("el-radio-button",{key:o,attrs:{label:o}},[e._v(e._s(t.label))])})),1),e.field.fields[e.current]?i("div",{staticClass:"ams-field-union-field"},[i("ams-field-"+e.field.fields[e.current].type+"-"+e.field.fields[e.current].ctx,{tag:"component",class:"ams-field ams-field-"+e.field.fields[e.current].type+"-"+e.field.fields[e.current].ctx,attrs:{field:e.field.fields[e.current],value:e.value,name:e.name,path:e.path}})],1):e._e()],1):e._e()}),[],!1,null,null,null).exports,Ga={mixins:[At.fieldEditMixin],computed:{current:{get:function(){return this.field.current||Object.keys(this.field.fields)[0]},set:function(e){var t=this.field.fields[e];this.fieldChange(this.$block.setFieldData(void 0,t,this.path),t,this.path),this.$set(this.field,"current",e)}}}},Qa=(i("1f88"),Object(ht.a)(Ga,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.field.fields?i("div",{style:e.field.style},[i("el-radio-group",{attrs:{size:"mini"},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}},[e._l(e.field.fields,(function(t,o){return[t?i("el-radio-button",{key:o,attrs:{label:o}},[e._v(e._s(t.label))]):e._e()]}))],2),e.field.fields[e.current]?i("div",{staticClass:"ams-field-union-field"},[i("ams-field-"+e.field.fields[e.current].type+"-"+e.field.fields[e.current].ctx,{tag:"component",class:"ams-field ams-field-"+e.field.fields[e.current].type+"-"+e.field.fields[e.current].ctx,attrs:{field:e.field.fields[e.current],value:e.value,name:e.name,path:e.path}})],1):e._e()],1):e._e()}),[],!1,null,null,null).exports),es={type:"union",install:function(e){e.component("ams-field-".concat(this.type,"-view"),Za),e.component("ams-field-".concat(this.type,"-edit"),Qa)}},ts={mixins:[At.fieldViewMixin]},is=Object(ht.a)(ts,(function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.field.style},[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports,os={mixins:[At.fieldEditMixin],data:function(){return{val:"",unit:""}},watch:{localValue:function(e,t){this.val=e.val,this.unit=e.unit}},mounted:function(){this.val=this.localValue.val,this.unit=this.localValue.unit},methods:{changeVal:function(e){this.localValue={val:this.val,unit:this.unit},this.on.change&&this.on.change(this.localValue)},changeUnit:function(e){this.localValue={val:this.val,unit:this.unit},this.on.change&&this.on.change(this.localValue)}}},ns=(i("0d31"),Object(ht.a)(os,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-input",e._g(e._b({style:e.field.style,on:{change:e.changeVal},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}},"el-input",e.field.props,!1),e.on),[i("el-select",{style:"width:"+e.field.props.unitWidth,attrs:{slot:e.field.props.slot||"append",placeholder:"选择"},on:{change:e.changeUnit},slot:e.field.props.slot||"append",model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}},e._l(e.field.units,(function(e){return i("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)}),[],!1,null,null,null).exports),ls={type:"unitselect",install:function(e){e.component("ams-field-".concat(this.type,"-view"),is),e.component("ams-field-".concat(this.type,"-edit"),ns)}},as=[{label:"0.25 倍",value:.25},{label:"0.5 倍",value:.5},{label:"0.75",value:.75},{label:"正常",value:1},{label:"1.25 倍",value:1.25},{label:"1.5 倍",value:1.5},{label:"1.75 倍",value:1.75},{label:"2 倍",value:2}],ss={directives:{playbackRate:function(e,t){e.playbackRate=t.value}},mixins:[At.fieldViewMixin],data:function(){return{videoRate:1,rateList:as}}},rs=(i("a038"),Object(ht.a)(ss,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.field.style},[i("video",e._b({directives:[{name:"playback-rate",rawName:"v-playback-rate",value:e.videoRate,expression:"videoRate"}],staticClass:"video",attrs:{controls:"controls",src:e.viewValue}},"video",e.field.props,!1),[i("p",[e._v("你的浏览器不支持html5视频播放")])]),e.field.props&&e.field.props.isShowPlaybackRate?i("div",{staticClass:"ams-video__actions"},[e._v("\n        播放速率：\n        "),i("el-select",{staticClass:"ams-video__action-rate",attrs:{size:"mini"},model:{value:e.videoRate,callback:function(t){e.videoRate=t},expression:"videoRate"}},e._l(e.rateList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e()])}),[],!1,null,"3930df62",null).exports),cs={mixins:[At.fieldEditMixin],methods:{beforeUpload:function(e){var t=this;return new Promise(function(){var i=Object(c.a)(regeneratorRuntime.mark((function i(o,n){var l,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.field.check){i.next=2;break}return i.abrupt("return",o());case 2:if(!((l=t.field.check.maxSizeInKB)&&e.size/1024>l)){i.next=6;break}return t.$message.error("上传视频大小不能超过 "+(l/1024).toFixed(2)+"MB!"),i.abrupt("return",n());case 6:if("function"!=typeof(a=t.field.props||{})["before-upload"]){i.next=10;break}return i.next=10,a["before-upload"](e,t.field);case 10:o();case 11:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}())},handleUploadSuccess:function(e,t){var i,o=this.field.props||{};if(i=o&&void 0!==o.successCode?o.successCode:this.$block.getConfig("resource.api.successCode"),e.code===i){var n=this.field.successUrlKey||"url";e.data&&(this.localValue=this.field.get(e.data[n]||e.data,this.field)),"function"==typeof o["on-success"]&&o["on-success"](e,t,this)}else"function"==typeof o["on-error"]?(this.handleRemove(),o["on-error"](e,t,this)):(this.$message.error("".concat(e.msg,"(").concat(e.code,")")),this.handleRemove())},handleUploadError:function(e,t,i){var o=this.field.props,n=void 0===o?{}:o;"function"==typeof n["on-error"]?n["on-error"](e,t,i,this):this.$message.error("".concat(e.message,"(").concat(e.status,")"))},handleRemove:function(){this.localValue=[],this.$refs.videoUploder.clearFiles()}}},ps=Object(ht.a)(cs,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-upload",e._g(e._b({ref:"videoUploder",style:e.field.style,attrs:{"on-remove":e.handleRemove,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError,"before-upload":e.beforeUpload,"file-list":e.localValue}},"el-upload",e.field.props,!1),e.on),[i("el-button",{attrs:{size:e.field.props.size,disabled:e.field.props.disabled,type:"primary"}},[e._v(e._s(e.field.props&&e.field.props["button-label"]||"点击上传"))]),e.field.tip?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.field.tip))]):e._e()],1)}),[],!1,null,null,null).exports,us={type:"video",install:function(e){e.component("ams-field-".concat(this.type,"-view"),rs),e.component("ams-field-".concat(this.type,"-edit"),ps)}},ds={mixins:[At.fieldEditMixin,At.fieldEditOptionsMixin],computed:{showOptions:function(){var e=this.localValue||[],t=this.field.props&&this.field.props.defaultProps&&this.field.props.defaultProps.children||"children",i=Object(r.a)({label:"",value:""},t,JSON.parse(JSON.stringify(this.field.props.options)));if(this.field.props&&this.field.props.options){var o=function e(i,o){if(!i)return null;if(i.value&&o.indexOf("".concat(i.value))>=0)return i;if(!i[t]||!i[t].length)return null;var n=[];return i[t].forEach((function(t){var i=e(t,o);i&&n.push(i)})),n.length?(i[t]=n,i):null}(i,e);return o&&o.children?o.children:[]}return[]}}},fs=Object(ht.a)(ds,(function(){var e=this.$createElement;return(this._self._c||e)("el-tree",this._g(this._b({style:this.field.style,attrs:{data:this.showOptions}},"el-tree",this.field.props,!1),this.on))}),[],!1,null,null,null).exports,hs={mixins:[At.fieldEditMixin,At.fieldEditOptionsMixin],computed:{showCheckBox:function(){return!this.field.props||void 0===this.field.props["show-checkbox"]||this.field.props["show-checkbox"]}},watch:{data:function(e){this.localValue=this.$refs.tree.getCheckedKeys()}},methods:{handleCheckChange:function(){this.localValue=this.$refs.tree.getCheckedKeys()}}},ms=Object(ht.a)(hs,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-tree",e._g(e._b({ref:"tree",attrs:{data:e.field.props&&e.field.props.options||[],"default-checked-keys":e.localValue,"show-checkbox":e.showCheckBox},on:{"check-change":e.handleCheckChange}},"el-tree",e.field.props,!1),e.on))}),[],!1,null,null,null).exports,bs={type:"tree",install:function(e){e.component("ams-field-".concat(this.type,"-view"),fs),e.component("ams-field-".concat(this.type,"-edit"),ms)}},gs={mixins:[At.fieldViewMixin],computed:{href:function(){return"function"==typeof this.field.props.href?this.field.props.href(this.value,this.field,this.context):this.field.props.href||this.value}}},ys=(i("c937"),Object(ht.a)(gs,(function(){var e=this.$createElement;return(this._self._c||e)("el-link",this._b({style:this.field.style,attrs:{href:this.href}},"el-link",this.field.props,!1),[this._v(this._s(this.viewValue))])}),[],!1,null,null,null).exports),vs={type:"link",install:function(e){e.component("ams-field-".concat(this.type,"-view"),ys),e.component("ams-field-".concat(this.type,"-edit"),ja)}},ks={mixins:[At.fieldButtonMixin]},xs=Object(ht.a)(ks,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tooltip",e._b({attrs:{disabled:!e.tooltip}},"el-tooltip",e.tooltip,!1),[i("el-badge",e._b({},"el-badge",e.badge,!1),[i("el-button",e._g(e._b({style:e.field.style,on:{click:function(t){return t.stopPropagation(),e.emit.apply(null,arguments)}}},"el-button",e.field.props,!1),e.on),[e._v(e._s(e.field.props.text||e.field.label))])],1)],1)}),[],!1,null,null,null).exports,ws={type:"button",install:function(e){e.component("ams-field-".concat(this.type,"-view"),xs),e.component("ams-field-".concat(this.type,"-edit"),xs)}},Os={mixins:[At.fieldViewMixin]},_s=Object(ht.a)(Os,(function(){var e=this.$createElement;return(this._self._c||e)("div",this._g(this._b({style:this.field.style,domProps:{innerHTML:this._s(this.viewValue)}},"div",this.field.props,!1),this.on))}),[],!1,null,null,null).exports,js={type:"html",install:function(e){e.component("ams-field-".concat(this.type,"-view"),_s),e.component("ams-field-".concat(this.type,"-edit"),_s)}},Cs={mixins:[At.operationMixin],methods:{beforeEmit:function(){var e=this,t=this.operation.confirmText;t?this.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.emit()})):this.emit()}}},Ss=(i("6422"),Object(ht.a)(Cs,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tooltip",e._b({attrs:{disabled:!e.tooltip}},"el-tooltip",e.tooltip,!1),[i("el-badge",e._b({},"el-badge",e.badge,!1),[i("el-button",e._b({style:e.operation.style,on:{click:function(t){return t.stopPropagation(),e.beforeEmit.apply(null,arguments)}}},"el-button",e.operation.props,!1),[e.operation.label?[e._v(e._s(e.operation.label))]:e._e()],2)],1)],1)}),[],!1,null,null,null).exports),Es={type:"button",install:function(e){e.component("ams-operation-".concat(this.type),Ss)}},Ts={mixins:[At.operationMixin],computed:{className:function(){var e="ams-operation-text";return this.operation.props&&this.operation.props.type&&(e+=" ams-operation-text--".concat(this.operation.props.type)),e}}},Ps=Object(ht.a)(Ts,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",e._b({class:e.className,style:e.operation.style,on:{click:function(t){return t.stopPropagation(),e.emit.apply(null,arguments)}}},"span",e.operation.props,!1),[e.operation.label?[e._v(e._s(e.operation.label))]:e._e()],2)}),[],!1,null,null,null).exports,As={type:"text",install:function(e){e.component("ams-operation-".concat(this.type),Ps)}},Bs={mixins:[At.operationMixin],methods:{reset:function(){this.$parent.getDefaultValue(),this.emit()}}},Rs=Object(ht.a)(Bs,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tooltip",e._b({attrs:{disabled:!e.tooltip}},"el-tooltip",e.tooltip,!1),[i("el-button",e._b({style:e.operation.style,on:{click:function(t){return t.stopPropagation(),e.reset.apply(null,arguments)}}},"el-button",e.operation.props,!1),[e.operation.label?[e._v(e._s(e.operation.label))]:e._e()],2)],1)}),[],!1,null,null,null).exports,$s={type:"reset",install:function(e){e.component("ams-operation-".concat(this.type),Rs)}},Ds={mixins:[At.operationMixin]},Vs=(i("d785"),Object(ht.a)(Ds,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tooltip",{attrs:{effect:"light",content:e.operation.label,placement:"bottom",disabled:!e.operation.label}},[i("i",e._b({class:"icon "+e.operation.icon,style:e.operation.style,on:{click:function(t){return t.stopPropagation(),e.emit.apply(null,arguments)}}},"i",e.operation.props,!1))])}),[],!1,null,"5c82adfd",null).exports),Ms={type:"icon",install:function(e){e.component("ams-operation-".concat(this.type),Vs)}};function zs(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Is(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(i),!0).forEach((function(t){Object(r.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):zs(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var Fs={mixins:[At.operationMixin],inject:["$block"],computed:{field:function(){var e=this.$block.fields;return!this.operation.field&&e[this.operationKey]?e[this.operationKey]:"string"==typeof this.operation.field?e[this.operation.field]:"object"===Object(d.a)(this.operation.field)?(this.$block.initDefaultField(this.operation.field),Is({name:this.operationKey},this.operation.field)):(this.$block.initDefaultField(this.operation),Is({name:this.operationKey},this.operation))}}},qs=(i("2b42"),Object(ht.a)(Fs,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"ams-operation-field",style:e.operation.style},"div",e.operation.props,!1),[i("ams-field-"+e.field.type+"-edit",{tag:"component",class:"ams-field ams-field-"+e.field.type+"-edit",attrs:{field:e.field,value:e.$block.data[e.path][e.operationKey],name:e.name,path:e.path+"."+e.operationKey}})],1)}),[],!1,null,null,null).exports),Ls={type:"field",install:function(e){e.component("ams-operation-".concat(this.type),qs)}},Ns={mixins:[At.operationMixin],inject:["$block"],computed:{fields:function(){return this.$block.fields},textValue:{get:function(){var e=this.path,t=[],i=this.$block&&this.$block.data&&this.$block.data[e]||{};return Object.keys(i).forEach((function(e){var o=i[e];o&&t.push(o)})),t.join(",")},set:function(e){}}},methods:{reset:function(){this.$parent.getDefaultValue&&this.$parent.getDefaultValue()}}},Ks=(i("02ec"),Object(ht.a)(Ns,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-popover",{staticClass:"ams-operation-dropdown",attrs:{placement:"top-start",trigger:"click"}},[i("el-input",e._b({style:e.operation.style,attrs:{slot:"reference"},slot:"reference",model:{value:e.textValue,callback:function(t){e.textValue=t},expression:"textValue"}},"el-input",e.operation.props,!1)),e.operation.fields?i("el-form",{staticClass:"ams-operation-dropdown-form",attrs:{"label-width":"130px"}},[e._l(e.operation.fields,(function(t,o){return i("el-form-item",{key:o,attrs:{label:e.fields[o].label,prop:"array"!==e.fields[o].type&&"object"!==e.fields[o].type?o:""}},[i("ams-field-"+e.fields[o].type+"-edit",{tag:"component",class:"ams-field ams-field-"+e.fields[o].type+"-edit",attrs:{field:e.fields[o],value:e.$block.data[e.path][o],name:e.name,path:e.path+"."+o,"hide-on-click":!1}})],1)})),i("el-form-item",{attrs:{align:"right"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.emit}},[e._v("搜索")]),i("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],2):e._e()],1)}),[],!1,null,null,null).exports),Us={type:"dropdown",install:function(e){e.component("ams-operation-".concat(this.type),Ks)}},Hs={mixins:[At.operationMixin],methods:{filter:function(){this.$parent&&this.$parent.$parent&&this.$parent.$parent.showHeaderSelectedDialog&&this.$parent.$parent.showHeaderSelectedDialog()}}},Ws=Object(ht.a)(Hs,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-tooltip",e._b({attrs:{disabled:!e.tooltip}},"el-tooltip",e.tooltip,!1),[i("el-button",e._b({style:e.operation.style,on:{click:function(t){return t.stopPropagation(),e.filter.apply(null,arguments)}}},"el-button",e.operation.props,!1),[e.operation.label?[e._v(e._s(e.operation.label))]:e._e()],2)],1)}),[],!1,null,null,null).exports,Ys={type:"filter",install:function(e){e.component("ams-operation-".concat(this.type),Ws)}};st.version="0.33.0",st.mixins=At,st.utils=o,st.install=function(e){st.bus=new e,st.registerBlock=function(t){t.install(e)},st.registerField=function(t,i){void 0!==i&&(st.configs.defaultFieldConfig[t.type]=i),t.install(e)},st.registerOperation=function(t){t.install(e)},Object.keys(ki).forEach((function(e){return st.action(e,ki[e])})),st.registerBlock(Oi),st.registerBlock(Ri),st.registerBlock(Vi),st.registerBlock(Ii),st.registerBlock(Ni),st.registerBlock(Hi),st.registerBlock(Ji),st.registerBlock(Gi),st.registerBlock(ho),st.registerBlock(ao),st.registerBlock(po),st.registerBlock(To),st.registerBlock(Bo),st.registerBlock(Io),st.registerBlock(Lo),st.registerBlock(Uo),st.registerBlock(Yo),st.registerBlock(tn),st.registerBlock(an),st.registerBlock(cn),st.registerBlock(dn),st.registerBlock(mn),st.registerField(kn),st.registerField(jn),st.registerField(Pn),st.registerField(Dn),st.registerField(Fn),st.registerField(Un),st.registerField(Xn),st.registerField(tl),st.registerField(al),st.registerField(ul),st.registerField(bl),st.registerField(vl),st.registerField(jl),st.registerField($l),st.registerField(Nl),st.registerField(Yl),st.registerField(oa),st.registerField(ra),st.registerField(ba),st.registerField(xa),st.registerField(Ca),st.registerField(Ta),st.registerField($a),st.registerField(Ia),st.registerField(Ka),st.registerField(Ja),st.registerField(es),st.registerField(ls),st.registerField(us),st.registerField(bs),st.registerField(vs),st.registerField(ws),st.registerField(js),st.registerOperation(Es),st.registerOperation(As),st.registerOperation($s),st.registerOperation(Ms),st.registerOperation(Ls),st.registerOperation(Us),st.registerOperation(Ys),e.prototype.$ams=st},"undefined"!=typeof window&&(window.ams=st,window.Vue&&st.install(window.Vue));t.default=st},2487:function(e,t,i){},"254e":function(e,t,i){"use strict";i("449d")},"2b42":function(e,t,i){"use strict";i("ee9f")},"2b99":function(e,t,i){},3418:function(e,t,i){"use strict";i("f1e0")},"366e":function(e,t,i){"use strict";i("f01b")},4241:function(e,t,i){"use strict";i("f6c7")},"438d":function(e,t,i){"use strict";i("d4ff")},4482:function(e,t,i){},"449d":function(e,t,i){},"45cf":function(e,t,i){"use strict";i("cebe")},"45ec":function(e,t,i){},"460b":function(e,t,i){"use strict";i("54e7")},5413:function(e,t,i){"use strict";i("a3c9")},"54e7":function(e,t,i){},"551a":function(e,t,i){"use strict";i("e35d")},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var o=i("2b0e"),n=i("2427"),l=i("5c96"),a=i.n(l),s=(i("d10e"),i("f0d9")),r=i.n(s),c=(i("b20f"),i("7826")),p=i.n(c),u=i("f198"),d=i.n(u),f=i("d9fa"),h=i.n(f),m=i("51cf"),b=i.n(m),g={name:"App"},y=i("2877"),v=Object(y.a)(g,(function(){var e=this.$createElement;return(this._self._c||e)("ams-block",{attrs:{name:"router"}})}),[],!1,null,null,null).exports;n.default.config({resource:{responseInterceptor:function(e){return-33===e.data.code?(n.default.callAction("@routerPush:/login"),!1):e},errorInterceptor:function(e){var t=e.code,i=e.xhr,o=e.response,n=e.message;throw console.log("Http code: ".concat(t,", Message: ").concat(n),"XHR object: ",i,"Response Content: ",o),l.Message.error(n||"网络错误，请重试"),e},api:{withCredentials:!1}}});var k="https://www.yournana.club/vipshop/",x="https://github.com/vipshop/ams/tree/master/examples/router/src/ams-config";n.default.resource("resource",{key:"id",api:{prefix:k,create:"create",update:"update",read:"read",delete:"delete",list:{path:"list",method:"get",successCode:0,requestDataParse:function(e){return e},responseDataParse:function(e){return e.data}}},fields:{id:{type:"text",label:"id",hidden:!0,on:{change:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.log("text change",t,this)}},info:"提示信息"},precent:{type:"text",props:{disabled:!1,"suffix-icon":"ams-my-icon"},style:{width:"100px"},get:function(e){return isFinite(e)?Math.floor(100*e):""},set:function(e){return isFinite(e)?(e/100).toFixed(2):""}},testArrays:{type:"array",info:{icon:"el-icon-question",content:"我是提示2"},label:"testTexts",field:{type:"text",props:{"suffix-icon":"el-icon-service"}}},testButton:{type:"button",label:"按钮",labelWidth:"0",props:{size:"mini",type:"primary"},tooltip:{effect:"dark",content:"提示文字",placement:"top-start"},show:function(e){return e.id<10},on:{click:function(){console.log("click---",this),this.callAction("submit")}}},testText:{type:"text",label:"文本",hidden:!0,rules:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],props:{"suffix-icon":"el-icon-service"}},testDate:{type:"date",label:"日期",changeConfig:function(e,t){return e.style={color:"red"},e}},testTime:{type:"time",label:"时间1",rules:[{required:!0,message:"请输入时间1",trigger:"blur"}]},testDatetime:{type:"datetime",label:"时间2",rules:[{required:!0,message:"请输入时间2",trigger:"blur"}]},testSwitch:{type:"switch",label:"开关",props:{inline:!0,formItemWidth:"45%"}},testPassword:{type:"password",info:"ssss",label:"密码",props:{inline:!0,formItemWidth:"45%"}},testColor:{type:"color",label:"颜色",input:!0,props:{width:"180px"}},testRate:{type:"rate",label:"评分"},testRadio:{type:"radio",label:"单选1",props:{options:{a:"黄金糕",b:"双皮奶",c:"蚵仔煎",d:"龙须面",e:"北京烤鸭",1:"哈哈哈"}}},testRadioArray:{type:"radio",label:"单选2",props:{options:[{label:"黄金糕",value:0},{label:"双皮奶",value:1},{label:"蚵仔煎",value:2,disabled:!0},{label:"龙须面",value:"d",border:!0},{label:"北京烤鸭",value:"e"},{label:"哈哈哈",value:5}]}},testCheckbox:{type:"checkbox",label:"多选1",props:{options:{a:"黄金糕",b:"双皮奶",c:"蚵仔煎",d:"龙须面",e:"北京烤鸭",222:"哈哈哈",0:"000"},"select-all":!0},rules:[{required:!0,message:"请输入活动名称",trigger:"change"}]},testTextarea:{type:"textarea",label:"文本框",collapseLimit:15},testCheckboxArray:{type:"checkbox",label:"多选2",collapseLimit:2,props:{options:[{label:"黄金糕",value:"a",disabled:!0},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"},{label:"哈哈哈",value:222,border:!0},{label:"龙须面",value:"d",border:!0},{label:"北京烤鸭",value:"e"}]}},testSelect:{BASE:"SELECT_REMOTE",ctx:"view",label:"远程selectView",type:"select",remoteConfig:{action:"".concat(k,"tag"),queryKey:"requiredName",labelKey:"name",isInitRemoteOptions:!1}},testCascader:{type:"cascader",label:"级联选择",props:{props:{multiple:!1},options:[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"},{value:"xiaolv",label:"效率"},{value:"kekong",label:"可控"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"zujian",label:"组件",children:[{value:"basic",label:"Basic",children:[{value:"layout",label:"Layout 布局"},{value:"color",label:"Color 色彩"},{value:"typography",label:"Typography 字体"},{value:"icon",label:"Icon 图标"},{value:"button",label:"Button 按钮"}]},{value:"form",label:"Form",children:[{value:"radio",label:"Radio 单选框"},{value:"checkbox",label:"Checkbox 多选框"},{value:"input",label:"Input 输入框"},{value:"input-number",label:"InputNumber 计数器"},{value:"select",label:"Select 选择器"},{value:"cascader",label:"Cascader 级联选择器"},{value:"switch",label:"Switch 开关"},{value:"slider",label:"Slider 滑块"},{value:"time-picker",label:"TimePicker 时间选择器"},{value:"date-picker",label:"DatePicker 日期选择器"},{value:"datetime-picker",label:"DateTimePicker 日期时间选择器"},{value:"upload",label:"Upload 上传"},{value:"rate",label:"Rate 评分"},{value:"form",label:"Form 表单"}]},{value:"data",label:"Data",children:[{value:"table",label:"Table 表格"},{value:"tag",label:"Tag 标签"},{value:"progress",label:"Progress 进度条"},{value:"tree",label:"Tree 树形控件"},{value:"pagination",label:"Pagination 分页"},{value:"badge",label:"Badge 标记"}]},{value:"notice",label:"Notice",children:[{value:"alert",label:"Alert 警告"},{value:"loading",label:"Loading 加载"},{value:"message",label:"Message 消息提示"},{value:"message-box",label:"MessageBox 弹框"},{value:"notification",label:"Notification 通知"}]},{value:"navigation",label:"Navigation",children:[{value:"menu",label:"NavMenu 导航菜单"},{value:"tabs",label:"Tabs 标签页"},{value:"breadcrumb",label:"Breadcrumb 面包屑"},{value:"dropdown",label:"Dropdown 下拉菜单"},{value:"steps",label:"Steps 步骤条"}]},{value:"others",label:"Others",children:[{value:"dialog",label:"Dialog 对话框"},{value:"tooltip",label:"Tooltip 文字提示"},{value:"popover",label:"Popover 弹出框"},{value:"card",label:"Card 卡片"},{value:"carousel",label:"Carousel 走马灯"},{value:"collapse",label:"Collapse 折叠面板"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}]}},testTransfer:{type:"transfer",label:"穿梭框",props:{options:[{value:"a",label:"黄金糕"},{value:"b",label:"双皮奶"},{value:"c",label:"蚵仔煎"},{value:"d",label:"龙须面"},{value:"e",label:"北京烤鸭"}]},slots:{"left-footer":[{style:{float:"left",marginTop:"6px"},props:{size:"mini",type:"success"},text:"操作",onClick:function(){console.log("操作")}},{style:{float:"right",margin:"6px 8px 0 0"},props:{size:"mini",type:"success"},text:"编辑",onClick:function(){console.log("编辑")}}],"right-footer":[{props:{size:"mini",type:"primary"},text:"操作",onClick:function(){console.log("操作")}}]}},testDatetimerange:{type:"datetimerange",label:"时间范围"},testSlider:{type:"slider",desc:"只能上传jpg/png文件，且不超过500kb",label:"滑块"},testProgress:{type:"progress",label:"进度"},testInputnumber:{type:"inputnumber",label:"数字输入"},testImage:{type:"image",label:"图片上传",tip:"只能上传jpg/png文件，且不超过500kb",successUrlKey:"url",props:{action:"".concat(k,"upload-image")}},testHeadImage:{type:"image",label:"头像",tip:"只能上传jpg/png文件，且不超过500kb",successUrlKey:"url",props:{action:"".concat(k,"upload-image"),headimage:!0}},testFile:{type:"file",label:"文件上传",tip:"只能上传jpg/png文件，且不超过500kb",successUrlKey:"url",props:{"on-preview":function(e){},"button-label":"导入",action:"".concat(k,"upload-image")}},testVideo:{type:"video",label:"视频",tip:"只能上传视频文件",successUrlKey:"url",props:{action:"".concat(k,"upload-image"),"button-label":"选择视频"}},testAudio:{type:"audio",label:"音频",tip:"只能上传音频文件",successUrlKey:"url",props:{action:"".concat(k,"upload-image")}},testTree:{type:"tree",label:"树形控件",props:{options:[{value:1,label:"一级 1",children:[{value:4,label:"二级 1-1",children:[{value:9,label:"三级 1-1-1",children:[{value:91,label:"四级 1-1-1-1"},{value:92,label:"四级 1-1-1-2"}]},{value:10,label:"三级 1-1-2"}]}]},{value:2,label:"一级 2",children:[{value:5,label:"二级 2-1"},{value:6,label:"二级 2-2"}]},{value:3,label:"一级 3",children:[{value:7,label:"二级 3-1"},{value:8,label:"二级 3-2"}]}]}}}}),n.default.resource("login",{api:{prefix:k,create:"login"},fields:{username:{type:"text",label:"用户名",rules:[{required:!0,message:"请输入用户名",trigger:"blur"}]},password:{type:"password",label:"密码",rules:[{required:!0,message:"请输入密码",trigger:"blur"}]}}}),n.default.resource("table",{key:"id",api:{prefix:k,list:"table"},fields:{id:{type:"text",label:"序号",on:{change:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];console.log("text change",t,this)}}},grade1:{type:"text",label:"一级品类",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],props:{"suffix-icon":"el-icon-service"}},grade2:{type:"text",label:"二级品类"},day1:{type:"text",label:"第1天"},day2:{type:"text",label:"第2天"},day3:{type:"text",label:"第3天"},day4:{type:"text",label:"第4天"},day5:{type:"text",label:"第5天"},day6:{type:"text",label:"第6天"},day7:{type:"text",label:"第7天"},week:{type:"text",label:"前7天"}}});i("6b54");n.default.block("index",{blocks:{indexTitle1:{type:"title",options:{title:"表单编辑状态"},style:{width:"50%",paddingRight:"2%"}},indexTitle2:{type:"title",options:{title:"表单展示状态"},style:{width:"49%"}},formEditAll:{ctx:"edit",type:"form",resource:"resource",style:{width:"50%",paddingRight:"2%"},data:{testRadio:"c"},events:{init:"@read",submit:"@getData @validate @alert:我是一个alert @getAlert @getPrompt @confirm:确认提交吗? @update",cancel:"@cancel",dialog:"demo-dialog.show"},props:{"label-bold":!0},actions:{getData:function(e){var t=e.$prevReturn;console.log("getData--",t)},getAlert:function(){this.emitEvent("alert",{message:"这是一个alert的弹框",options:{title:"我是一个alert的标题"}})},getPrompt:function(){var e=this;this.$prompt("请输入邮箱","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,inputErrorMessage:"邮箱格式不正确"}).then((function(t){var i=t.value;e.$message({type:"success",message:"你的邮箱是: "+i})})).catch((function(){e.$message({type:"info",message:"取消输入"})}))},fieldChange:function(e){e.value;"testSwitch"===e.path&&console.log(JSON.stringify(this.fields.testPassword.props))},cancel:function(){this.$router.back()}},fields:{id:{label:"新id名",props:{disabled:!1,"suffix-icon":"ams-my-icon"}}},operations:{submit1:{type:"button",label:"提交",event:"submit",props:{type:"primary"}},cancel:{type:"button",label:"取消"},dialog:{type:"button",label:"弹窗修改"}}},formViewAll:function(){return new Promise((function(e,t){setTimeout((function(){console.log("resolve formViewAll"),e({ctx:"view",type:"form",resource:"resource",style:{width:"49%"},data:{testRadio:"c"},events:{init:"@read @console"},actions:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){console.log("@console action",this.data.id)}))}})}),1e3)}))},"demo-dialog":{type:"dialog",data:{title:"弹窗标题"},events:{submit:"dialogFormEdit.submit @hide",show:"@show @loading @dialogFormEdit.test"},props:{},actions:{loading:function(){var e=this;this.showLoading(),setTimeout((function(){e.hideLoading()}),5e3)}},operations:{submit:{type:"button",label:"提交",props:{type:"primary"}},hide:{type:"button",label:"关闭"}},blocks:{dialogFormEdit:{ctx:"edit",type:"form",resource:"resource",events:{init:"@read",submit:"@validate @update"},actions:{test:function(){console.log("test",this)}}}}}}});i("96cf");var w,O=i("3b8d");n.default.block("login",{ctx:"edit",type:"form",resource:"login",style:{width:"50%",marginLeft:"25%",paddingTop:"25%"},operations:{login:{type:"button",label:"登录"}},data:{username:"admin",password:"admin"},events:{login:"@validate @goLogin @routerReplace:/"},actions:{goLogin:(w=Object(O.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$ams.request({url:"".concat(this.resource.api.prefix,"login"),method:"post",data:this.data});case 2:0===e.sent.data.code&&this.$message.success("登录成功");case 4:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})}}),n.default.block("404",{type:"error",data:{title:"404",subtitle:"Page not found"},operations:{goIndex:{type:"button",label:"返回首页",props:{type:"danger",size:"medium",round:!0}}},events:{goIndex:"@routerReplace:/"}});var _,j=i("fc42");n.default.block("router",{type:"router",data:{roles:["admin"],logo:"//h5rsc.vipstatic.com/ams/ams-logo2.png?20191105",logoPath:"/",title:"AMS在线示例",userImg:"",userName:""},events:{init:"@getUsers"},actions:{getUsers:(_=Object(O.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.request({url:"".concat(k,"getUser"),method:"GET"});case 2:(t=e.sent).data&&0===t.data.code?(this.data.userImg=t.data.data.userImg,this.data.userName=t.data.data.userName):this.$message.error("".concat(t.data.msg,"(").concat(t.data.code,")"));case 4:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)}),loginOut:function(){alert("你点击了退出按钮"),location.href="//vip.com/user/logout"}},router:{uniqueOpened:!0,routes:[{name:"首页",path:"",block:"index",class:"ams-test-class",meta:{icon:"el-icon-menu"}},{name:"404",path:"404",block:"404",meta:{hasMenu:!1,hidden:!0}},{name:"login",path:"login",block:"login",meta:{hasMenu:!1,hidden:!0}},{name:"动态路径参数",path:"haha/:id/:name",block:"list",meta:{hasMenu:!0,hidden:!0}},{name:"字段示例",path:"cases-field",meta:{icon:"el-icon-view",noRedirect:!0},children:[{name:"输入框",path:"input",block:"input"},{name:"单选",path:"radio",block:"radio"},{name:"多选",path:"checkbox",block:"checkbox"},{name:"日期",path:"date",block:"date"},{name:"编辑器",path:"editor",block:"editor"},{name:"单位选择",path:"unitselect",block:"unitselect"},{name:"联合字段",path:"union",block:"union"},{name:"对象字段",path:"object",block:"object"},{name:"原始文件上传",path:"originfile",block:"originfile"},{name:"图片上传",path:"image",block:"image"},{name:"视频上传",path:"video",block:"video"},{name:"树形控件",path:"tree",block:"tree"},{name:"arraylist",path:"arraylist",block:"arraylist"},{name:"链接",path:"link",block:"link"},{name:"级联选择",path:"cascader",block:"cascader"},{name:"Select选择器",path:"select",block:"select"}]},{name:"区块示例",path:"cases-block",meta:{icon:"ams-icon-account-sales",noRedirect:!0},children:[{name:"列表",path:"list",children:[{name:"普通",path:"list",block:"list"},{name:"操作",path:"list-operations",block:"list-operations"},{name:"布局",path:"list-layout",block:"list-layout"},{name:"编辑状态",path:"list-edit",block:"list-edit"},{name:"假分页",path:"list-pagination",block:"list-pagination"},{name:"列表拖拽",path:"list-drag",block:"list-drag"},{name:"字段处理",path:"list-field-convert",block:"list-field-convert"},{name:"前端分页",path:"list-simulate",block:"list-simulate"}]},{name:"图片列表",path:"imagelist",children:[{name:"带图片",path:"imagelist-images",block:"imagelist"},{name:"纯文案",path:"imagelist-texts",block:"imagelist2"}]},{name:"表单",path:"form",meta:{roles:["admin","edit"]},children:[{name:"编辑",path:"edit",block:"form-edit"},{name:"查看",path:"view",block:"form-view"}]},{name:"万能区块",path:"component",block:"component"},{name:"拖拽图片框",path:"dragimage",block:"dragimage"},{name:"拖拽图片框（上下）",path:"dragimage-updown",block:"dragimage-updown"},{name:"折叠面板",path:"collapse",block:"collapse"},{name:"步骤",path:"steps",block:"steps"},{name:"标题",path:"title",block:"title"},{name:"卡片",path:"card",block:"card"},{name:"下拉菜单",path:"dropdown",block:"dropdown"},{name:"导入导出",path:"xlsx",block:"xlsx"},{name:"网格布局",path:"grid",block:"grid"},{name:"走马灯",path:"carousel",block:"carousel"},{name:"回到顶部",path:"backtop",block:"backtop"},{name:"表格",path:"table",block:"table"},{name:"标签页",path:"tabs",block:"tabs"},{name:"弹出框",path:"popover",block:"popover"},{name:"气泡确认框",path:"popconfirm",block:"popconfirm"},{name:"抽屉",path:"drawer",block:"drawer"},{name:"bct定制进度条",path:"bct-progress",block:"bct-progress"},{name:"Alert告警",path:"alert",block:"alert"}]},{name:"场景示例",path:"cases-sence",meta:{icon:"el-icon-video-camera-solid",noRedirect:!0},children:[{name:"OA搜索示例",path:"remote-oa",block:"remote-oa"},{name:"array & object",path:"array-object",block:"array-object"},{name:"admin示例",path:"admin",block:"admin"},{name:"动态增加block",path:"runtime-add-block",block:"runtime-add-block"},{name:"get-set-view",path:"get-set-view",block:"get-set-view"},{name:"权限 & 登录",path:"login-auth",block:"login-auth"},{name:"快速添加修改action",path:"add-item-action",block:"add-item-action"},{name:"可视化示例",path:"cases-chart",meta:{noRedirect:!0},children:[{name:"示例1",path:"chart-demo1",block:"chart-demo1"},{name:"示例2",path:"chart-demo2",block:"chart-demo2"}]},{name:"引入外部文件",path:"cases-outside",children:[{name:"Vue文件引入A",path:"file1",component:j.default},{name:"Vue文件引入B",path:"file2",component:function(){return Promise.resolve().then(i.bind(null,"fc42"))}},{name:"外部地址引入",path:"file3",block:"outside-website"}]}]},{name:"Github",meta:{icon:"el-icon-star-off"},path:"https://github.com/vipshop/ams",target:"_blank"},{name:"文档",meta:{icon:"ams-icon-help-center"},path:"https://vipshop.github.io/ams/",target:"_blank"},{name:"跳404",redirect:"/404",meta:{icon:"el-icon-error"}},{path:"*",redirect:"/404",meta:{hidden:!0}}]},on:{beforeEach:function(e,t,i){var o="";switch(e.meta.path){case"/":o="/index.js";break;default:o=e.meta.path+".js"}n.default.$blocks.configCodeBlock?n.default.$blocks.configCodeBlock.block.props.href=x+o:n.default.blocks.configCodeBlock.props.href=x+o,i()}},blocks:{menuBottom:{type:"component",options:{is:"div",text:"@2019 www.vip.com"},style:{color:"#777",padding:"50px 10px 15px","font-size":"12px","text-align":"center"},slot:"menuBottom"},navRightNav:{slot:"nav-left",type:"dropdown",style:{float:"right","padding-left":"15px"},props:{trigger:"click"},options:{menu:"点击触发下拉",menuItems:[{text:"黄金糕",props:{command:"a",icon:"el-icon-plus"}},{text:"狮子头",props:{command:"b",icon:"el-icon-circle-plus"}},{text:"螺蛳粉",props:{command:"c",icon:"el-icon-circle-plus-outline"}}]},on:{command:function(e){this.$message("click on item "+e)}}},configCodeBlock:{type:"component",options:{is:"a"},slot:"nav-left",style:{position:"fixed",right:"0px",top:"75px","z-index":100,width:"50px",height:"32px","line-height":"32px",border:"1px solid #eee","border-radius":"32px 0 0 32px","padding-left":"15px","box-shadow":"-2px 2px 5px 0 #eee",color:"#333",backgroundColor:"#fff"},props:{title:"查看配置",class:"ams-icon-code",target:"_blank",href:""}}}}),n.default.block("remote-oa",{resources:{"select-oa":{api:{successCode:0},fields:{oaName:{BASE:"SELECT_REMOTE",label:"OA用户",type:"select",props:{multiple:!1,placeholder:"请输入OA信息",clearable:!0},rules:{required:!0,message:"必填",trigger:"change"},remoteConfig:{action:"".concat(k,"searchOA"),queryKey:"name",labelKey:"name",valueKey:"avatar"}}}}},ctx:"edit",type:"form",resource:"select-oa",data:{oaName:"劳志伟"},operations:{submit:{type:"button",label:"提交"}}}),n.default.block("array-object",{resources:{arrayObject:{api:{successCode:200,prefix:k,read:"array-object-read",list:"array-object-list"},fields:{simpleObject:{type:"object",label:"simple",info:"<p>info</p>1",fields:{text:{type:"text",label:"rule2",labelWidth:"100px",props:{clearable:!1},info:"<p>info</p>1",desc:"只能上传jpg/png文件，且不超过500kb",changeConfig:function(e,t){return console.log(e,t),e}},date:{type:"date",label:"date",labelWidth:"100px"},testButton:{type:"button",label:"按钮",labelWidth:"0",props:{size:"medium",type:"primary"},tooltip:"提示信息",badge:{value:function(e){return console.log("data",e),!0}},event:"submit2"}},props:{align:"left","header-align":"center"}},mutiObject:{type:"object",label:"mutiObject",class:"is-required",fields:{date:{type:"date",label:"date"},checkbox:{type:"checkbox",label:"checkbox",props:{options:{1:"黄金糕",2:"哈哈哈"}}},ArrayArray:{type:"array",label:"ArrayArray",props:{max:5,min:1},field:{type:"array",label:"array",field:{type:"button",label:"按钮",props:{size:"medium",type:"primary"},tooltip:"提示信息",badge:{value:function(e){return console.log("array-data",e),!0}},event:"submit2"}}},ArrayObject:{type:"array",label:"ArrayObject",field:{type:"object",label:"object",fields:{text:{type:"text",label:"text",rules:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]},selectA:{type:"select",label:"对比",props:{multiple:!1,options:{0:"昨天",1:"今天",5:"不对比"}}},selectB:{type:"select",label:"条件",props:{multiple:!1,options:{0:"同比下降",1:"同比上升"}},changeConfig:function(e,t){return console.log(e,t),t&&"5"===t.selectA&&(e.props.options={">":">",">=":">="}),!e.props.options[t.selectB]&&(t.selectB=""),e}},date:{type:"date",label:"date"},testButton:{type:"button",label:"按钮",labelWidth:"0",props:{type:"primary"},tooltip:"提示信息",badge:{value:function(e){return console.log("ArrayObject-data",e),!0}},event:"submit2"}}}}}},simpleArray:{type:"array",desc:"只能上传jpg/png文件，且不超过500kb",label:"simpleArray",props:{max:5},field:{type:"text",label:"text",on:{click:function(e,t){console.log(this,e,t)}}}},ArrayArray:{type:"array",label:"ArrayArray",field:{type:"array",label:"array",props:{max:3,min:2},field:{type:"text",label:"text"}}},checkbox:{type:"checkbox",label:"checkbox",props:{options:{1:"黄金糕",2:"哈哈哈"}}}}}},blocks:{arrayEdit:{ctx:"edit",type:"form",resource:"arrayObject",events:{init:"@read",submit:"@validate @create"},operations:{submit:{type:"button",label:"提交"}},actions:{submit2:function(e){var t=e.$prevReturn;console.log("button-field-submit",t)}}},arrayView:{ctx:"view",type:"form",resource:"arrayObject",events:{init:"@read"}},arrayList:{ctx:"view",type:"list",resource:"arrayObject",events:{init:"@list"}}}});var C={api:{contentType:"form",prefix:"https://www.yournana.club/vipshop/",read:"read",update:"update",list:"list-pagination",delete:"delete",create:"create"},fields:{id:{type:"text",label:"id",ctx:"view"},title:{type:"text",label:"标题"},content:{type:"textarea",label:"内容"},create_time:{type:"datetime",label:"创建时间",props:{"value-format":"yyyy-MM-dd HH:mm:ss"}},update_time:{type:"datetime",label:"更新时间",props:{"value-format":"yyyy-MM-dd HH:mm:ss"}}}};n.default.block("admin",{blocks:{adminListView:{ctx:"view",type:"list",resource:C,events:{init:"@list @test",removeItem:"@confirm:确认删除吗? @delete init",editItem:"@adminEditDialog.show",addItem:"@adminAddDialog.show"},sorts:{id:!0},actions:{test:function(){console.log(this)}},operations:{id:{slot:"searchs",type:"field",field:"id",label:"id"},search:{slot:"searchs",type:"button",props:{type:"primary"},label:"搜索",event:"list"},addItem:{slot:"searchs",type:"button",label:"添加",props:{type:"primary"}},editItem:{type:"button",props:{type:"primary",icon:"el-icon-edit",circle:!0}},removeItem:{type:"button",props:{type:"danger",icon:"el-icon-delete",circle:!0}}}},adminEditDialog:{type:"dialog",data:{title:"编辑",visible:!1},events:{submit:"editDialogForm.submit"},actions:{},operations:{submit:{type:"button",label:"提交",props:{type:"primary"}},hide:{type:"button",label:"关闭"}},blocks:{editDialogForm:{type:"form",resource:C,ctx:"edit",events:{init:"@read",submit:"@validate @update adminListView.init @adminEditDialog.hide"}}}},adminAddDialog:{type:"dialog",data:{title:"添加",visible:!1},events:{submit:"addDialogForm.submit"},actions:{},operations:{submit:{type:"button",label:"提交",props:{type:"primary"}},hide:{type:"button",label:"关闭"}},blocks:{addDialogForm:{type:"form",resource:C,ctx:"edit",events:{submit:"@validate @create adminListView.init @adminAddDialog.hide @resetData"}}}}}});var S=1;n.default.block("runtime-add-block",{type:"form",operations:{addBlock:{type:"button",label:"动态增加block"}},blocks:{run1:{type:"error"}},actions:{addBlock:function(){console.log(this.block.blocks);var e="run".concat(++S);n.default.block(e,{type:"list",resource:{fields:{a:{type:"text",label:"文本"}}},operations:{testNewInput1:{slot:"searchs",type:"field",field:{type:"text"}},testNewInput2:{slot:"rightTop",type:"field",field:{type:"text",props:{placeholder:"折"},style:{width:"70px"}}}},actions:{fieldChange:function(e){console.log("fieldChange",e)}}}),this.block.blocks.push(e)}}});i("28a5"),i("c5f6");n.default.block("get-set-view",{resources:{getSetView:{api:{prefix:"/test/",create:"create"},fields:{datetime:{label:"datetime",type:"datetime",get:function(e){return console.log("get",e),Number(e.slice(5))},set:function(e){return console.log("set",e),"date:"+(e instanceof Date?e.getTime():e)},view:function(e){return console.log("view",e),e.slice(5)/1e3}},testSelect:{type:"select",label:"多选数组",props:{multiple:!0,options:{a:"黄金糕",b:"双皮奶",c:"蚵仔煎"}},get:function(e){return console.log("get",e),"string"==typeof e?e.split(","):e},set:function(e){return console.log("set",e),"string"==typeof e?e.split(","):e}}}}},blocks:{editGetSetView:{ctx:"edit",type:"form",resource:"getSetView",style:{width:"50%"},data:{datetime:"",testSelect:[]},events:{init:"initFn",submit:"@create"},actions:{initFn:function(){var e=this;setTimeout((function(){e.data.datetime="date:1546278503030",e.data.testSelect=["a","b"]}),1e3)}},operations:{submit:{type:"button",label:"提交"}}},viewGetSetView:{ctx:"view",type:"form",resource:"getSetView",style:{width:"50%"},data:{datetime:"date:1546278503030",testSelect:["a","b"]},events:{submit:"@create"}}}}),n.default.block("login-auth",{type:"component",options:{is:"div"},actions:{needlogin:function(){this.$ams.request({url:"".concat(k,"needlogin")})},dosomething:function(){this.$ams.request({url:"".concat(k,"noauthor")})},test:function(){this.block.operations.test.label="修改成功"}},operations:{needlogin:{type:"button",label:"需登录的请求"},dosomething:{type:"button",label:"无权限的请求"},test:{type:"button",label:"修改operation"}}}),n.default.block("add-item-action",{type:"list",resource:"resource",events:{init:"@list",add:"@addItemAfter @after",addDialog:"@addItemDialog @after",edit:"@editItemAfter @after",editDialog:"@editItemDialog @after"},fields:{testVideo:!1,testAudio:!1,precent:!1,testArrays:!1,testText:!1,testRadioArray:!1,testCheckboxArray:!1},actions:{after:function(){console.log("after")}},operations:{add:{slot:"searchs",type:"button",label:"添加"},addDialog:{slot:"searchs",type:"button",label:"弹窗添加"},edit:{type:"button",label:"修改"},editDialog:{type:"button",label:"弹窗修改"}}}),n.default.block("outside-website",{type:"component",style:{height:"calc(100vh - 110px)"},options:{is:"iframe"},props:{src:"https://www.baidu.com/",frameborder:0}}),n.default.block("chart-demo1",{type:"chart",style:{width:"100%",height:"500px"},resource:{foreignKeys:["timeRadio","classRadio","numRadio","rankRadio"],api:{withCredentials:!1,prefix:"https://www.yournana.club/vipshop/chart/",read:"chartData6"},fields:{timeRadio:{type:"radio",label:"",props:{options:{a:"昨日",b:"周至今",c:"月至今",d:"季度至今",e:"年至今"}}},classRadio:{type:"radio",label:"",props:{options:{a:"按毛利率",b:"按净收入",c:"按毛利额",d:"按周转"}}},numRadio:{type:"radio",label:"",props:{options:{a:"前20名",b:"后20名"}}},rankRadio:{type:"radio",label:"",props:{options:{a:"品牌排名",b:"品类排名",c:"价格带排名"}}}}},data:{title:"",series1:[]},options:{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:"data.legend",textStyle:{fontSize:20}},xAxis:{type:"category",data:"data.xAxis",axisLabel:{interval:0,rotate:30,fontSize:16,height:100,width:100}},yAxis:[{type:"value"}],series:[{type:"bar",barWidth:20,label:{show:!0,position:"top"},data:"data.series1"}]},events:{init:"@read"}});i("ac6a");var E=i("75fc");n.default.block("chart-demo2",{blocks:{chartBlock:{type:"chart",style:{width:"100%",height:"500px",display:"block"},data:{xAxis:["周一","周二","周三","周四","周五","周六","周日"],series:[{data:[120,132,101,134,90,230,210]},{data:[122,122,112,164,130,126,321]},{data:[120,132,101,134,90,230,210]}]},props:{chartDom:!0},options:{BASE:"BAR",series:"data.series"}},rerenderBlock:{type:"component",style:{margin:"0 0 0 101px"},operations:{rerenderType:{type:"button",label:"重绘图表"},hideButton:{type:"button",label:"隐藏"},showButton:{type:"button",label:"显示"}},actions:{rerenderType:function(){var e=Object(E.a)(Array(Math.floor(3*(Math.random()+1))).keys()).map((function(e){return{data:[120,132,101,134,90,230,210].map(Math.random)}}));n.default.$blocks.chartBlock.chartDom.setOption({},!0),n.default.$blocks.chartBlock.setBlockData({series:e})},hideButton:function(){n.default.$blocks.chartBlock.block.style.display="none"},showButton:function(){n.default.$blocks.chartBlock.block.style.display="block"}}}}}),n.default.block("input",{resources:{input:{fields:{text1:{label:"text1",type:"text",labelWidth:"80px"},text2:{label:"text2",type:"text",labelWidth:"50px",slots:{prefix:"输入"},props:{class:"is-required"}},text3:{label:"text3",type:"text",labelWidth:"80px",slots:{suffix:"输入框尾部内容"}},text4:{label:"text4",type:"text",slots:{prepend:"Http://"}},text5:{label:"text5",type:"text",slots:{append:".com"}},text6:{label:"提示",type:"text",info:"提示信息"},text7:{label:"提示",type:"text",ctx:"view",info:"提示信息",props:{"suffix-info-danger":"我是提示danger"}},text9:{label:"尺寸",type:"text",style:{width:"150px"},props:{inline:!0},slots:{prefix:"高",suffix:"px"}},text10:{label:"",labelWidth:"0",type:"text",style:{width:"150px"},props:{inline:!0},slots:{prefix:"宽",suffix:"px"}},text11:{label:"样式名",type:"text",ctx:"view",props:{class:"el-icon-upload-success  el-icon-circle-check"}}}}},blocks:{editInput:{ctx:"edit",type:"form",resource:"input",data:{text7:"测试文字",text11:"上传成功"},layout:{text1:["text1","text2"]}}}}),n.default.block("radio",{resources:{radio:{api:{prefix:k,read:"getRadio",update:"update"},fields:{radio:{type:"radio",label:"单选",props:{options:[{label:"黄金糕",value:"a"},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"},{label:"龙须面",value:"d"},{label:"北京烤鸭",value:"e"},{label:"哈哈哈",value:1}]},on:{change:function(e){console.log("radio-change",e)}}},radioDisable:{type:"radio",label:"禁用单选",props:{options:[{label:"黄金糕",value:"a",disabled:!0},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"}]}},radioBorder:{type:"radio",label:"边框单选",props:{type:"border",size:"small",options:[{label:"黄金糕",value:"a"},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c",disabled:!0}]},on:{change:function(e){console.log("radio-change",e)}}},radioButton:{type:"radio",label:"单选按钮",props:{type:"button",size:"mini",textColor:"#F5F6F8",fill:"#9EA2A7",options:[{label:"黄金糕",value:"a"},{label:"双皮奶",value:"b",disabled:!0},{label:"蚵仔煎",value:"c"}]},on:{change:function(e){console.log("radiobutton-change",e)}}}}}},blocks:{editRadio:{ctx:"edit",type:"form",resource:"radio",style:{width:"50%"},operations:{submit:{type:"button",label:"提交"}},events:{init:"@read",submit:"@update"}},viewRadio:{ctx:"view",type:"form",resource:"radio",style:{width:"50%"},events:{init:"@read"}}}});i("7f7f");n.default.block("checkbox",{resources:{checkbox:{api:{prefix:k,read:"getCheckbox",update:"update"},fields:{checkbox:{type:"checkbox",label:"多选1",props:{options:{a:"黄金糕",b:"双皮奶",c:"蚵仔煎",d:"龙须面",e:"北京烤鸭",222:"哈哈哈",0:"000"},"select-all":!0},rules:[{required:!0,message:"请输入活动名称",trigger:"change"}]},checkboxDisable:{type:"checkbox",label:"多选禁用",props:{options:[{label:"黄金糕",value:"a",disabled:!0},{label:"双皮奶",value:"b",disabled:!0},{label:"蚵仔煎",value:"c"}]}},checkboxBorder:{type:"checkbox",label:"多选边框",props:{type:"border",options:[{label:"黄金糕",value:"a",disabled:!0},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"}]}},checkboxButton:{type:"checkbox",label:"多选按钮",props:{type:"button",size:"mini","select-all":!0,options:[{label:"黄金糕",value:"a"},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"}]}},radioButton:{type:"checkbox",label:"单选按钮",props:{type:"button",size:"mini",options:[{label:"黄金糕",value:"a"},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"}]}},remoteCheckbox:{BASE:"SELECT_REMOTE",label:"远程选项",type:"checkbox",remoteConfig:{action:"".concat(k,"tag"),queryKey:"requiredName",labelKey:"name",isInitEmpty:!0,isMiniBackfill:!1}}}}},blocks:{editCheckbox:{ctx:"edit",type:"form",resource:"checkbox",style:{width:"50%"},events:{init:"@read",submit:"@update"},operations:{submit:{type:"button",label:"提交"}},actions:{fieldChange:function(e){var t=e.name,i=e.value,o=e.path;if(console.log("fieldChange--",t,i,o),"radioButton"===t&&i&&this.data){var n=i.split(",")||[];this.data.radioButton=n[n.length-1]}}}},viewCheckbox:{ctx:"view",data:{checkbox:"a,b,c",checkboxDisable:"c",checkboxBorder:"b,c",checkboxButton:"a,c",radioButton:"a",remoteCheckbox:2003},type:"form",resource:"checkbox",style:{width:"50%"},events:{init:"@read"}}}});var T={time:"11:00",timepicker:1548404069e3,timerange:"1548413724000,1548417324000",year:14200416e5,month:"2019-06",date:1546272e6,week:1546272e6,datetime:1546272e6,datetimeWithFormat:1546272e6,datetimerangeWithFormat:["2019-03-16 00:00:00","2019-04-24 00:00:00"],datetimerange:"31507200000,1551290400000",daterange:"1548259200000,1551110400000",dates:"1546963200000,1547568000000,1548086400000,1548172800000"};n.default.block("date",{resources:{date:{api:{prefix:k,update:"update"},fields:{time:{label:"time",type:"time",props:{"picker-options":{step:"00:15"}}},timepicker:{label:"timepicker",type:"timepicker"},timerange:{label:"timerange",type:"timerange"},year:{label:"year(format int)",type:"date",props:{"value-format":"timestamp",type:"year"}},month:{label:"month(format string)",type:"date",props:{"value-format":"yyyy-MM",type:"month"}},date:{label:"date",type:"date"},datetimeWithFormat:{label:"datetime自定义格式化",type:"datetime",formart:"{y}-{m}-{d} {h}:{i}"},week:{label:"week",type:"date",props:{type:"week"}},datetime:{label:"datetime",type:"date"},datetimerange:{label:"datetimerange",type:"datetimerange"},datetimerangeWithFormat:{label:"使用数组format",type:"datetimerange",props:{"value-format":"yyyy-MM-dd HH:mm:ss"},get:function(e){return e},set:function(e){return e},view:function(e){return e&&e.join?e.join(" 至 "):""}},daterange:{label:"daterange",type:"datetimerange",props:{type:"daterange"}},dates:{label:"dates",type:"datetimerange",props:{type:"dates"}}}}},blocks:{editDate:{data:T,type:"form",resource:"date",ctx:"edit",style:{width:"50%"},operations:{submit:{type:"button",label:"提交"}},events:{submit:"@update"}},viewDate:{data:T,type:"form",resource:"date",ctx:"view",style:{width:"50%"}}}}),n.default.block("editor",{resources:{"resource-editor":{api:{prefix:k,create:"create",update:"update",read:"read",delete:"delete",list:"list"},fields:{testEditor1:{type:"editor",label:"富文本",on:{blur:function(e){console.log("onEditorBlur")},focus:function(e){console.log("onEditorFocus")},ready:function(e){console.log("onEditorReady")}}},testEditor2:{type:"editor",label:"富文本自定义配置",props:{options:{placeholder:"自定义 placeholder",modules:{toolbar:[["bold","italic","underline","strike"]]}}}},testMarkdown:{type:"markdown",label:"markdown"}}}},blocks:{editorEdit:{ctx:"edit",type:"form",resource:"resource-editor",events:{init:"@read"},operations:{update:{type:"button",label:"提交",props:{type:"primary"}}}},editorView:{ctx:"view",type:"form",resource:"resource-editor",events:{init:"@read"},actions:{}}}}),n.default.block("union",{resources:{union:{api:{prefix:k,update:"update"},fields:{union:{type:"union",label:"union",current:"date",fields:{date:{type:"timerange",label:"timerange1"},text:{type:"text",label:"text1",default:"sss"}}}}}},blocks:{unionEdit:{ctx:"edit",type:"form",resource:"union",data:{union:"1548413724000,1548417324000"},operations:{update:{type:"button",label:"提交",props:{type:"primary"}}}},unionView:{ctx:"view",type:"form",resource:"union",data:{union:"1548413724000,1548417324000"}}}});i("a481"),i("3b2b");n.default.block("unitselect",{resources:{unitselect:{api:{prefix:k,update:"update"},fields:{money:{type:"unitselect",label:"金额",defaultUnit:"万元",units:["万元","亿元"],style:{width:"200px"},get:function(e,t){e=isNaN(e)?"0万元":e>1e8?(e/1e8).toFixed(2)+"亿元":(e/1e4).toFixed(2)+"万元";for(var i=t.defaultUnit,o=0;o<t.units.length;o++)if(new RegExp(t.units[o]+"$").test(e)){i=t.units[o];break}return console.log("getUnits",e,"currentUnit",i),{unit:i,val:e?e.replace(new RegExp(i+"$"),""):""}},set:function(e,t){return console.log("setUnits",e),"万元"===e.unit?isNaN(e.val)?0:1e4*e.val:isNaN(e.val)?0:1e8*e.val},view:function(e,t){return console.log("viewUnits",e),isNaN(e)?"0万元":e>1e8?(e/1e8).toFixed(2)+"亿元":(e/1e4).toFixed(2)+"万元"}},meter:{type:"unitselect",label:"距离",defaultUnit:"毫米米",units:["毫米米","厘米","分米","千米"],style:{width:"200px"}},url:{type:"unitselect",label:"网址",defaultUnit:"http://",units:["http://","https://"],style:{width:"300px"},props:{slot:"prepend",unitWidth:"100px"}}}}},blocks:{unitselectEdit:{ctx:"edit",type:"form",resource:"unitselect",data:{money:123918241234,meter:"222毫米米",url:"http://vip.com"},operations:{update:{type:"button",label:"提交",props:{type:"primary"}}}},unitselectView:{ctx:"view",type:"form",resource:"unitselect",data:{money:123918241234,meter:"222毫米",url:"http://vip.com"}}}});i("8e6e"),i("456d");var P,A=i("bd86");function B(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function R(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?B(Object(i),!0).forEach((function(t){Object(A.a)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}n.default.block("originfile",{resources:{"res-originfile":{api:{prefix:k,create:"create",contentType:"json"},fields:{name:{type:"text",label:"任务名"},exec_time:{type:"text",label:"执行时间"},edit_type:{type:"select",label:"标签处理方式",props:{multiple:!1,options:{1:"打",2:"摘"}}},file:{type:"originfile",label:"文件",isShowResetButton:!0},label:{type:"text",label:"标签"}}}},ctx:"edit",type:"form",resource:"res-originfile",data:{name:"wei测试",edit_type:"1",label:"0"},operations:{submit:{type:"button",label:"提交"}},events:{submit:"@create @confirm:111"},actions:{create:(P=Object(O.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.actions.create.call(this,R(R({},t),{},{contentType:"multipart"}));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)})}});var $="".concat(k,"upload-image"),D={};n.default.block("image",{resources:{image:{api:{prefix:k,create:"create",contentType:"json"},fields:{image1:{label:"默认图片上传",type:"image"},image2:{label:"大小限制",type:"image",tip:"只能不超过50kb的图片",successUrlKey:"url",check:{maxSizeInKB:50},default:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",props:{action:$,fit:"contain","list-type":"picture-card","show-file-list":!0,"file-list":[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},{name:"精选美景图片",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}],"preview-src-list":["https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100","https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"]},rules:[{required:!0,message:"请上传图片",trigger:"change"}]},defaultImageList:{label:"可选图片",type:"image",props:{fit:"contain","default-image-list":[{name:"img1",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},{name:"img2",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]}},image4:{label:"固定尺寸",type:"image",tip:"640x640",successUrlKey:"url",props:{action:$,"show-file-list":!0,"file-list":[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"精选美景图片",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]}},image6:{label:"上传列表",type:"image",tip:"640x640",successUrlKey:"url",props:{action:$,"list-type":"picture-card","show-file-list":!0,"file-list":[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"精选美景图片",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]}},image7:{label:"上传列表",type:"image",tip:"640x640",successUrlKey:"url",props:{action:$,"list-type":"picture","show-file-list":!0,"file-list":[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"精选美景图片",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]}},image3:{label:"默认列表",type:"image",tip:"范围640-640",successUrlKey:"url",props:{action:$,"default-image-list":[]}},image8:{label:"默认列表",type:"image",successUrlKey:"url",props:{action:$,"default-image-list":[{name:"精选",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"",url:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}]},rules:[{required:!0,message:"请上传图片",trigger:"change"}]},image5:{label:"图片类型",type:"image",tip:"只能上传png文件",successUrlKey:"url",default:"http://static.699pic.com/best_album/25.jpg",props:{accept:"image/png",action:$}},image9:{label:"头像",type:"image",tip:"只能上传png文件",successUrlKey:"url",props:{accept:"image/png",headimage:!0}}}}},blocks:{editImage:{ctx:"edit",type:"form",resource:"image",style:{width:"50%"},data:D,events:{submit:"@validate @create"},operations:{submit:{type:"button",label:"提交"}}},viewImage:{ctx:"view",type:"form",resource:"image",data:D,style:{width:"50%"}}}}),n.default.block("video",{resources:{video:{api:{prefix:k,create:"create"},fields:{video1:{label:"上传视频",type:"video"}}}},blocks:{videoEdit:{type:"component",style:{width:"50%"},blocks:{videoEditTitle:{type:"title",options:{title:"视频编辑场景"}},videoEditForm:{type:"form",ctx:"edit",resource:"video"}}},videoView:{type:"component",style:{width:"50%"},blocks:{videoViewTitle:{type:"title",options:{title:"视频查看场景"}},videoViewForm:{type:"form",ctx:"view",resource:"video",fields:{video1:{default:"https://vjs.zencdn.net/v/oceans.mp4",props:{isShowPlaybackRate:!0}}}}}}}}),n.default.block("arraylist",{resources:{arrayList:{fields:{ArrayList:{type:"arraylist",label:"ArrayList",collapseLimit:1,fields:{text:{type:"text",label:"名称",props:{clearable:!1},rules:[{required:!0,message:"请输入活动名称",trigger:"change"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"change"}]},date:{type:"datetime",label:"日期",rules:[{required:!0,trigger:"change",message:"必填"}]}}}}}},blocks:{arrayListView:{ctx:"view",type:"form",resource:"arrayList",fields:{ArrayList:{label:"预览"}},data:{ArrayList:[{text:"2342",date:15457536e5},{text:"123",date:15451488e5}]}},arrayListEdit:{ctx:"edit",type:"form",resource:"arrayList",fields:{ArrayList:{label:"编辑"}},data:{ArrayList:[{text:"2342",date:15457536e5},{text:"234",date:15451488e5}]},actions:{fieldChange:function(e){var t=e.value,i=e.path;console.log("fieldChange",t,i)}}}}}),n.default.block("tree",{resources:{tree:{fields:{tree:{type:"tree",label:"树",props:{options:[{value:1,label:"一级 1",children:[{value:4,label:"二级 1-1",children:[{value:9,label:"三级 1-1-1",children:[{value:91,label:"四级 1-1-1-1"},{value:92,label:"四级 1-1-1-2"}]},{value:10,label:"三级 1-1-2"}]}]},{value:2,label:"一级 2",children:[{value:5,label:"二级 2-1"},{value:6,label:"二级 2-2"}]},{value:3,label:"一级 3",children:[{value:7,label:"二级 3-1"},{value:8,label:"二级 3-2"}]}]}}}}},blocks:{treeView:{ctx:"view",type:"form",resource:"tree",fields:{tree:{label:"树预览"}},data:{tree:"91,7"}},treeEdit:{ctx:"edit",type:"form",resource:"tree",fields:{tree:{props:{"show-checkbox":!0},on:{"check-change":function(e,t,i){console.log("hhhhh",e,t,i)}},label:"树编辑"}},data:{tree:"91,7"},actions:{fieldChange:function(e){var t=e.value,i=e.path;console.log("fieldChange",t,i)}}}}}),n.default.block("link",{resources:{link:{fields:{link:{type:"link",label:"href链接",props:{href:"https://vip.com",target:"_blank"}},primaryLink:{type:"link",label:"值为链接ID",props:{type:"primary",target:"_blank",href:function(e){return"http://vip.com/v/gce/ruledetail?id="+e}}},successLink:{type:"link",label:"值为链接",props:{type:"success",icon:"el-icon-share"}},objectLink:{type:"object",label:"对象类型",fields:{name:{type:"text",label:"测试"},link:{type:"link",label:"链接",props:{type:"primary",target:"_blank"}}}},arrayLink:{type:"array",label:"多个链接",field:{type:"link",label:"链接",props:{type:"primary",target:"_blank",href:function(e,t){return"http://vip.com/v/gce/ruledetail?id="+e}}}}}}},blocks:{linkView:{ctx:"view",type:"form",resource:"link",data:{link:"默认",primaryLink:"51853695",successLink:"https://vip.com",objectLink:{name:"w3cmark",link:"http://w3cmark.com"},arrayLink:["51853695-1","51853695-2","51853695-3"]}},editView:{ctx:"edit",type:"form",resource:"link",data:{link:"默认",primaryLink:"51853695",successLink:"https://vip.com",warningLink:"warning",dangerLink:"danger",infoLink:"info",objectLink:{name:"w3cmark",link:"http://w3cmark.com"},arrayLink:["51853695-1","51853695-2","51853695-3"]}}}});var V,M,z,I={date:1546272e6,custom_dateA:1546272e6,custom_dateB:1546272e6,custom_dateC:1546272e6};n.default.block("plan-date",{resources:{"plan-date":{api:{prefix:k,update:"update"},fields:{date:{label:"常规日期1",type:"date"},custom_dateA:{label:"自定义日期1",type:"plan-date",props:{"popper-class":"testData","picker-options":{disabledDate:function(e){return["2019/01/02 00:00:00","2019/01/15 00:00:00"].map((function(e){return new Date(e).getTime()})).indexOf(e.getTime())>=0},cellContent:[{label:"2019/01/06",value:"14501/16000"},{label:"2019/01/07",value:"14502/16000"},{label:"2019/01/08",value:"14503/16003"},{label:"2019/01/09",value:"11112/22222"}]}},on:{focus:(z=Object(O.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return z.apply(this,arguments)}),panelDateChange:function(e){console.log(e)}}},custom_dateB:{label:"自定义日期2",type:"plan-date",props:{"picker-options":{disabledDate:function(e){return["2019/01/02 00:00:00","2019/01/15 00:00:00"].map((function(e){return new Date(e).getTime()})).indexOf(e.getTime())>=0},cellContent:[{label:"2019/01/08",value:'<span style="color: red; width: 80px;">精武门/陈真</span>'},{label:"2019/01/09",value:'<span style="color: blue; width: 80px;">精武门/陈假</span>'},{label:"2019/01/10",value:'<span style="color: pink; width: 80px;">精武门/陈粒</span>'}]}}},custom_dateC:{label:"自定义日期3",type:"plan-date",props:{"popper-class":"testData","picker-options":{disabledDate:function(){return!1},cellContent:[]}},on:{focus:(M=Object(O.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.callAction("@editPlanDate.changePanelContent",{date:t});case 2:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)})}}}}},blocks:{editPlanDate:{ctx:"edit",type:"form",resource:"plan-date",style:{width:"50%"},data:I,actions:{changePanelContent:(V=Object(O.a)(regeneratorRuntime.mark((function e(t){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.date,console.log("date",i),e.next=4,this.callAction("@update");case 4:return this.$set(this.fields.custom_dateC.props["picker-options"],"disabledDate",(function(e){return["2019/01/02 00:00:00","2019/01/03 00:00:00"].map((function(e){return new Date(e).getTime()})).indexOf(e.getTime())>=0})),e.next=7,this.$set(this.fields.custom_dateC.props["picker-options"],"cellContent",[{label:"2019/01/06",value:"14501/16000"},{label:"2019/01/07",value:"14502/16000"},{label:"2019/01/08",value:"14503/16003"},{label:"2019/01/09",value:"11112/22222"}]);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return V.apply(this,arguments)})}},viewPlanDate:{ctx:"view",type:"form",resource:"plan-date",style:{width:"50%"},data:I,events:{submit:"@create"}}}});var F,q=[{value:"zhinan",label:"指南",children:[{value:"shejiyuanze",label:"设计原则",children:[{value:"yizhi",label:"一致"},{value:"fankui",label:"反馈"}]},{value:"daohang",label:"导航",children:[{value:"cexiangdaohang",label:"侧向导航"},{value:"dingbudaohang",label:"顶部导航"}]}]},{value:"ziyuan",label:"资源",children:[{value:"axure",label:"Axure Components"},{value:"sketch",label:"Sketch Templates"},{value:"jiaohu",label:"组件交互文档"}]}];n.default.block("cascader",{resources:{cascader1:{fields:{cascader1FieldA:{type:"cascader",label:"默认可搜索",props:{options:q,placeholder:"试试搜索：指南",class:"is-required"}},cascader1FieldC:{type:"cascader",label:"仅显示最后一级",props:{options:q,clearable:!0,"show-all-levels":!1}},cascader1FieldD:{type:"cascader",label:"选择任意一级选项",props:{options:q,clearable:!0,props:{}}}}},cascader2:{fields:{cascader2FieldA:{type:"cascader",label:"默认显示所有",props:{options:q,props:{}}},cascader2FieldB:{type:"cascader",label:"折叠展示",props:{options:q,"collapse-tags":!0,props:{}}},cascader2FieldC:{type:"cascader",label:"多选选择任意一级选项",props:{options:q,props:{}}}}}},blocks:{cascaderFieldTitle1:{type:"title",options:{title:"级联单选"}},cascaderField1:{ctx:"edit",type:"form",resource:"cascader1",style:{width:"60%"},props:{"label-width":"170px"}},cascaderFieldTitle2:{type:"title",options:{title:"级联多选"}},cascaderField2:{ctx:"edit",type:"form",resource:"cascader2",style:{width:"60%"},props:{"label-width":"170px"}}}}),n.default.block("select",{resources:{select:{api:{successCode:200,prefix:k,tags:"tag"},key:"id",foreignKeys:["projectId"],fields:{normalSelectEdit:{type:"select",label:"本地select多选",props:{options:{a:"黄金糕",b:"双皮奶",c:"蚵仔煎",d:"龙须面",e:"北京烤鸭",0:"哈哈哈"}}},normalSelectView:{type:"select",ctx:"view",label:"本地selectView",props:{options:{e:"北京烤鸭",0:"哈哈哈"}}},button:{type:"button",label:"",props:{inline:!0,text:"按钮"}},normalSingleSelectEdit:{type:"select",label:"本地select单选",useStringValue:!1,props:{inline:!1,multiple:!1,clearable:!0,options:[{label:"全部",value:""},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"},{label:"龙须面",value:"d",border:!0},{label:"北京烤鸭",value:"e"},{label:"哈哈哈1",value:1}]},get:function(e){return e},set:function(e){return e}},normalSingleSelectView:{type:"select",ctx:"view",label:"本地selectView",props:{options:[{label:"全部",value:""},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"},{label:"龙须面",value:"d",border:!0},{label:"北京烤鸭",value:"e"},{label:"哈哈哈1",value:1}]},get:function(e){return e},set:function(e){return e}},selectGroupEdit:{type:"select",ctx:"edit",label:"本地分组selectView",props:{multiple:!1,options:[{label:"热门城市",options:[{value:"Shanghai",label:"上海"},{value:"Beijing",label:"北京"}]},{label:"城市名",options:[{value:"Chengdu",label:"成都"},{value:"Shenzhen",label:"深圳"},{value:"Guangzhou",label:"广州"},{value:"Dalian",label:"大连"}]}]}},selectEdit:{BASE:"SELECT_REMOTE",label:"远程selectEdit",type:"select",remoteConfig:{action:"".concat(k,"tag"),queryKey:"requiredName",labelKey:"name",params:{params:{a:2}},isCache:!1,transform:function(e,t){var i=e.field.remoteConfig,o=[];return t.forEach((function(e){var t=e[i.valueKey],n=e[i.labelKey];o.push({value:t,label:n,html:'<span style="float: left">'.concat(n,'</span><span style="float: right; color: #8492a6; font-size: 13px">').concat(t,"</span>")})})),o}}},selectView:{BASE:"SELECT_REMOTE",ctx:"view",label:"远程selectView",type:"select",remoteConfig:{action:"".concat(k,"tag"),queryKey:"requiredName",labelKey:"name",onSuccess:function(e,t){console.log("请求成功后的回调",e,t)},onError:function(e,t){console.log("请求失败的回调",e,t)}}},singleSelectView:{BASE:"SELECT_REMOTE",ctx:"view",label:"远程select单选view",type:"select",props:{multiple:!1},remoteConfig:{action:"".concat(k,"tag"),queryKey:"requiredName",labelKey:"name"}},singleSelectEdit:{BASE:"SELECT_REMOTE",label:"远程select单选edit",type:"select",props:{multiple:!1,clearable:!0},remoteConfig:{action:"".concat(k,"tag"),queryKey:"requiredName",labelKey:"name"}}}}},ctx:"edit",type:"form",resource:"select",props:{"label-width":"180px"},operations:{submit:{type:"button",label:"提交"}},data:{selectView:2002,selectEdit:1,singleSelectEdit:2,singleSelectView:2003,normalSelectEdit:0,normalSelectView:0,normalSingleSelectEdit:"",normalSingleSelectView:""},events:{submit:"@create"},layout:{normalSelectView:["normalSelectView","button"]},blocks:{}}),n.default.block("object",{resources:{object:{api:{prefix:k,create:"create",contentType:"json"},fields:{object1:{label:"对象 1",type:"object",fields:{field1:{label:"字段 1",type:"text",info:"字段 1 info",desc:"字段 1 desc"},field2:{label:"字段 2",type:"select",desc:"字段 2 desc"}}},object2:{label:"对象 2",type:"object",layout:{field1:["field1","field2"]},fields:{field1:{label:"字段 1",type:"text",info:"字段 1 info",desc:"字段 1 desc"},field2:{label:"字段 2",type:"select",desc:"字段 2 desc"}}}}}},blocks:{objectEditMode:{ctx:"edit",type:"form",resource:"object"}}}),n.default.block("list",{ctx:"view",type:"list",resource:"resource",props:{type:"index","operations-width":300},options:{drag:!0},filters:{id:!0,testCheckbox:{multiple:!1,remote:!0},testSelect:{multiple:!0,remote:!1},testCheckboxArray:{multiple:!0,remote:!1}},sorts:{testInputnumber:!0,testDatetime:!0},fields:{precent:!1,testVideo:!1,testAudio:!1,testArrays:!1,testText:!1,testTree:!1,testRadioArray:!1},operations:{edit:{type:"button",label:"固定跳转",show:{name:"testSwitch",value:"1"},props:{size:"mini"},tooltip:{effect:"dark",content:"Top Left 提示文字",placement:"top-start"},badge:{max:3,value:function(e){return e.id}}},customEdit:{type:"button",label:"参数跳转",show:function(e){return 1===e.id&&e.testSwitch},props:{size:"mini"}},replace:{type:"button",label:"替换跳转",show:"testSwitch",props:{size:"mini"},badge:{"is-dot":!0,type:"warning",value:function(e){return e.id<=3}}},back:{type:"button",label:"回退",props:{size:"mini"}},deleteAct:{type:"button",label:"删除",props:{size:"mini"}},id:{slot:"rightTop",type:"field",label:"文本"},id2:{slot:"leftBottom",type:"field",field:"id",label:"文本"},radioButton:{slot:"searchs",type:"field",label:"单选按钮",field:{type:"checkbox",label:"单选按钮",props:{type:"button",size:"mini",options:[{label:"黄金糕",value:"a"},{label:"双皮奶",value:"b"},{label:"蚵仔煎",value:"c"}]}}},testSelect:{slot:"searchs",type:"field"},addItem:{slot:"searchs",type:"button",label:"新增",props:{type:"primary"}},resetItem:{slot:"searchs",type:"reset",label:"重置"},button:{slot:"rightTop",type:"button",label:"搜索",props:{type:"primary"},event:"list:1",tooltip:{effect:"dark",content:"Top Left 提示文字",placement:"top-start"},badge:{"is-dot":!0,max:3,value:function(e){return!0}}}},on:{"cell-click":function(){console.log("cell-click",this),this.$refs.amsTable.clearFilter()},"list-success":function(e){console.log(e)}},data:{pageSize:20,pageSizes:[10,20],layout:"total, prev, pager, next"},events:{submit:"@submit",init:"@list @afterRequest",edit:"@routerPush:/list/edit",replace:"@routerReplace:/list/edit",back:"@routerGo:-1"},actions:{afterRequest:function(e){var t=e.$prevReturn;console.log("beforeRequest",t)},deleteAct:function(){this.callAction("@delete").then((function(e){console.log("delete",e)}))},submit:function(e){var t=e.$prevReturn;console.log("list-submit",t)},addItem:(F=Object(O.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.callAction("@create");case 2:t=e.sent,console.log("addItem action",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return F.apply(this,arguments)}),customEdit:function(e){this.callAction("routerPush",{name:"编辑",query:{id:e.$prevReturn.id}})},resetItem:function(){this.data.rightTop.id="",this.data.leftBottom.id2="",this.data.searchs.radioButton=""}},blocks:{listTop:{slot:"top",type:"component",options:{is:"div",text:"我是列表区块最顶部的插槽内容！！"},style:{padding:"20px",marginBottom:"20px",border:"1px solid #3eaf7c"}},listTableTop:{slot:"tableTop",type:"component",options:{is:"div",text:"我是列表区块表格顶部的插槽内容！！"},style:{padding:"20px",border:"1px solid #f60"}}}}),n.default.block("list-operations",{type:"list",resource:"resource",options:{multipleSelect:!0},props:{"selection-props":{width:100,align:"center"}},filters:{testCheckbox:{multiple:!1,remote:!0},testSelect:{multiple:!0,remote:!1}},sorts:{testInputnumber:!0},fields:{testVideo:!1,testAudio:!1,testUnits:!1,precent:!1,testArrays:!1,testRadioArray:!1,testCheckboxArray:!1},data:{searchs:{testText:"a",testTextarea:"b"}},operations:{custome:{type:"select",label:"自定义的搜索字段",props:{options:{1:"a",2:"b",3:"c"}}},edit:{type:"button",label:"跳转",props:{disabled:!1},changeConfig:function(e,t){return t.testInputnumber>50&&(e.props.disabled=!0),e}},testText:{slot:"searchs",type:"field",field:"testText",label:"文本"},testSelect:{slot:"searchs",type:"field",props:{inline:!1}},testSwitch:{slot:"searchs",type:"field",field:"testSwitch",style:{height:"40px","line-height":"40px"}},testNewInput:{slot:"searchs",type:"field",field:{type:"text",props:{placeholder:"折"},style:{width:"70px"}}},search:{slot:"searchs",type:"button",props:{type:"primary"},label:"搜索",event:"list"},reset:{slot:"searchs",type:"reset",label:"重置"},selectMulti:{slot:"multipleSelect",type:"field",field:"testSelect"},buttonMulti:{slot:"multipleSelect",type:"button",label:"删除",event:"multi"}},events:{init:"@list",edit:"@routerPush:/list/edit"},on:{"selection-change":function(){console.log("selection-change",this.batchSelected)}},actions:{fieldChange:function(e){console.log("fieldChange",e),"multipleSelect.testSelect"===e.path&&console.log("multipleSelect.testSelect",e.value)},multi:function(e){console.log("multipleSelect action",e.$prevReturn)},created:function(){console.log("created")},destroyed:function(){console.log("destroyed",this)}}}),n.default.block("list-layout",{blocks:{firstScreen:{type:"component",style:{position:"releative"},blocks:{listOperationView:{type:"list",resource:"resource",style:{width:"100%",transition:"0.3s"},options:{multipleSelect:!0},props:{"row-key":function(e){return e.id},"expand-row-keys":[]},expand:{id:!0,testText:!0,testArrays:!0,testDatetime:!0,testRate:!0},filters:{testCheckbox:{multiple:!1,remote:!0},testSelect:{multiple:!0,remote:!1}},sorts:{testInputnumber:!0},fields:{testVideo:!1,testAudio:!1,testUnits:!1,precent:!1,testRadioArray:!1,testCheckboxArray:!1},data:{searchs:{testText:"a",testTextarea:"b"}},operations:{dropdown:{slot:"searchs",type:"dropdown",label:"更多搜索",event:"list",props:{placeholder:"搜索..."},style:{width:"300px"},fields:{testText:!0,testDate:!0,testTime:!0,testDatetime:!0,testSwitch:!0}},edit:{type:"button",label:"跳转"},edit2:{type:"button",label:"跳转2"},testText:{slot:"searchs",type:"field",field:"testText",label:"文本"},testSelect:{slot:"searchs",type:"field"},testSwitch:{slot:"searchs",type:"field",field:"testSwitch",style:{height:"40px","line-height":"40px"}},testNewInput:{slot:"searchs",type:"field",field:{type:"text",props:{placeholder:"折"},style:{width:"70px"}}},search:{slot:"searchs",type:"button",props:{type:"primary"},label:"搜索",event:"list"},reset:{slot:"searchs",type:"reset",label:"重置"},selectMulti:{slot:"multipleSelect",type:"field",field:"testSelect"},buttonMulti:{slot:"multipleSelect",type:"button",label:"删除",event:"multi"}},events:{init:"@list @setExpandRow",edit:"@routerPush:/list/edit"},actions:{setExpandRow:function(){this.block.props["expand-row-keys"]=["2"]},fieldChange:function(e){console.log("fieldChange",e),"multipleSelect.testSelect"===e.path&&console.log("multipleSelect.testSelect",e.value)},multi:function(e){console.log("multipleSelect action",e.$prevReturn)},created:function(){console.log("created")},destroyed:function(){console.log("destroyed",this)}},on:{"cell-click":function(e,t,i,o){var n=this;if(!t.columnKey||"prodStatus"===t.columnKey)return!1;this.block.style.width="75%",setTimeout((function(){n.callAction("@listSideBar.show",{row:e})}),0)}}},listSideBar:{type:"form",resource:"resource",style:{position:"absolute",top:0,right:0,width:"0%",height:"100%",transition:"0.3s",overflowY:"scroll",borderRadius:"10px"},fields:{a:!1,c:!1,testVideo:!1,testAudio:!1},actions:{show:function(e){var t=e.row;this.data=t,this.block.style.width="25%",this.block.style.border="1px solid #EBEEF5"}}}}}}}),n.default.block("list-edit",{ctx:"edit",type:"list",props:{type:"index"},resource:{fields:{a:{type:"text",label:"指标",props:{width:"170px"}},b:{type:"text",label:"连续次数"},c1:{type:"unitselect",label:"时间段",units:["分钟","小时"],defaultUnit:"分钟"},c2:{type:"unitselect",label:"往前偏移",units:["分钟"],defaultUnit:"分钟"},d:{type:"select",label:"统计方式",props:{multiple:!1,options:{0:"总和",1:"最大值",2:"最小值",3:"平均值"}}},e:{type:"select",label:"对比",props:{multiple:!1,options:{0:"昨天",1:"前天",2:"上周",3:"前10分钟",4:"前5分钟",5:"不对比",6:"自定义"}}},f:{type:"select",label:"条件",props:{multiple:!1,options:{0:"同比下降",1:"同比上升"}},changeConfig:function(e,t){return t&&"5"===t.e&&(e.props.options={">":">",">=":">=","<":"<","<=":"<=","==":"=="}),!e.props.options[t.f]&&(t.f=""),e}},g:{type:"text",label:"阀值"},h:{type:"select",label:"行连接",props:{multiple:!1,options:{0:"and",1:"or"}}}}},data:{list:[{a:"大促指标",b:"12",c1:"12",c2:"23",d:"0",e:"0",f:"0",g:"12",h:"0"},{a:"大促指标",b:"12",c1:"12",c2:"23",d:"0",e:"0",f:"0",g:"12",h:"0"}]},operations:{removeItem:{type:"button",label:"删除",props:{type:"danger",icon:"el-icon-delete"}},addItem1:{slot:"searchs",type:"button",label:"新增规则",props:{type:"primary"},event:"addItem"},addItem2:{slot:"rightTop",type:"button",label:"右上",props:{type:"primary"},event:"addItem"},addItem3:{slot:"leftBottom",type:"button",label:"左下",props:{type:"primary"},event:"addItem"},addItem4:{slot:"rightBottom",type:"button",label:"右下1",props:{type:"primary"},event:"addItem"},addItem5:{slot:"rightBottom",type:"button",label:"添加",props:{type:"primary"},event:"addItem"},saveItem:{slot:"searchs",type:"button",label:"保存",props:{type:"primary"}}},actions:{addItem:function(){this.data.list.push({a:"",b:"",c1:"",c2:"",d:"",e:"",f:"",g:"",h:""})},saveItem:function(){alert("你点击了保存按钮")},removeItem:function(e){console.log(e),this.data.list.splice(e.$prevReturn.__index,1)}}}),n.default.block("list-pagination",{ctx:"view",type:"list",resource:{api:{prefix:k,list:"list-pagination"},fields:{id:{type:"text",label:"ID"},title:{type:"text",label:"标题",info:"我是提示1",changeConfig:function(e,t){return t&&(2===t.id?(e.props["suffix-icon"]="ams-icon-question",e.props["suffix-info-warning"]="我是提示warning"):3===t.id&&(e.props["suffix-info-danger"]="我是提示danger")),e}},content:{type:"textarea",label:"内容",props:{"suffix-info":"我是提示"}}}},sorts:{id:!0},operations:{id:{slot:"searchs",type:"field",label:"id"},search:{slot:"searchs",type:"button",props:{type:"primary"},label:"搜索",event:"list:1"},title:{slot:"rightTop",type:"field",label:"文本"},content:{slot:"rightBottom",type:"field",label:"内容"}},pageSize:10,props:{pagination:"simulate","row-key":"id",column:{"reserve-selection":!0}},options:{multipleSelect:!0},events:{init:"@list"},actions:{fieldChange:function(e){e.name,e.value,e.path}}}),n.default.block("list-drag",{ctx:"view",type:"list",resource:{api:{prefix:k,list:"list-drag"},fields:{id:{type:"textarea",label:"ID",info:"这列拥有拖拽列表的功能"},title:{ctx:"edit",type:"text",label:"标题",props:{"class-name":"drag-column",class:"drag-ignore-element"}},content:{type:"html",label:"内容",view:function(e,t,i){return"<b>".concat(e,"</b><div>我是html</div>")}},select:{ctx:"edit",type:"select",label:"选择",default:"内容配置",style:{width:"95px"},props:{width:105,multiple:!1,size:"mini",options:[]},changeConfig:function(e,t){return t.select="内容配置",t.id<3?e.props.options=[{value:"a",label:"test1"},{value:"b",label:"test2"}]:(e.type="button",e.label="内容配置"),e},on:{change:function(e,t){console.log("change",e,t)}},event:"goButton"}}},props:{type:"index","enterkey-search":!1,"cell-class-name":function(e){e.row;var t=e.column;e.rowIndex,e.columnIndex;if("id"===t.columnKey)return"drag-column"}},options:{operationsWidth:"120px",drag:!0,showDragIcon:!1},dragOptions:{filter:".drag-ignore-element",preventOnFilter:!1},operations:{id:{slot:"searchs",type:"field",label:"id"},delete:{type:"button",label:"删除",props:{size:"mini"}}},on:{"drag-start":function(e){var t=e.oldIndex;console.log("drag-start",t)},"drag-end":function(e){var t=e.oldIndex,i=e.newIndex;console.log("drag-end",t,i)},"drag-choose":function(e){console.log("drag-choose",e)},"drag-unchoose":function(e){console.log("drag-unchoose",e)},"drag-add":function(e){console.log("drag-add",e)},"drag-update":function(e){console.log("drag-update",e)},"drag-sort":function(e){console.log("drag-sort",e)},"drag-remove":function(e){console.log("drag-remove",e)},"drag-filter":function(e){console.log("drag-filter",e)},"drag-move":function(e,t){console.log("drag-move",e,t)},"drag-clone":function(e){console.log("drag-clone",e)},"drag-change":function(e){console.log("drag-change",e)},"cell-click":function(){console.log("cell-click",this),this.$refs.amsTable.clearFilter()}},data:{pageSize:20,pageSizes:[10,20]},events:{init:"@list",edit:"@routerPush:/list/edit",replace:"@routerReplace:/list/edit",back:"@routerGo:-1"},actions:{goButton:function(e){var t=e.$prevReturn;console.log("ddds---",t)},delete:function(e){var t=e.$prevReturn;console.log("delete",t)},addItem:function(){console.log("addItem action")},customEdit:function(e){this.callAction("routerPush",{name:"编辑",query:{id:e.$prevReturn.id}})}}}),n.default.block("list-field-convert",{ctx:"view",type:"list",resource:{api:{prefix:k,list:"list"},fields:{id:{type:"textarea",label:"ID",props:{"class-name":"drag-column"}},testText:{type:"text",label:"店铺"},testRadio:{type:"select",label:"美食",props:{options:{a:"黄金糕",b:"双皮奶",c:"蚵仔煎",d:"龙须面",e:"北京烤鸭",1:"哈哈哈"}}},testTextarea:{type:"textarea",label:"介绍(店铺：美食）",changeConfig:function(e,t){return t.testTextarea="".concat(t.testText,"：").concat({a:"黄金糕",b:"双皮奶",c:"蚵仔煎",d:"龙须面",e:"北京烤鸭",1:"哈哈哈"}[t.testRadio]),e}},testRate:{type:"rate",label:"店铺评分",changeConfig:function(e,t){return e.type="html",e},view:function(e,t,i){var o=Math.floor(5*Math.random()+e);return o>=6?'<span style="color: #f00">'.concat(o,"分（推荐）</span>"):'<span style="color: #0f0">'.concat(o,"分（不推荐）</span>")}}}},props:{"enterkey-search":!1},options:{operationsWidth:"120px","table-column":[{label:"ID",name:"id"},{label:"店铺名称",children:[{label:"店铺",name:"testText"}]},{label:"店铺详情",children:[{label:"美食",name:"testRadio"},{label:"介绍",name:"testTextarea"},{label:"店铺评分",name:"testRate"}]}]},data:{pageSize:20,pageSizes:[10,20]},events:{init:"@list",back:"@routerGo:-1"},operations:{multiSetHeader:{slot:"searchs",type:"filter",label:"批量设置表头"}}});i("5df3"),i("1c4c");n.default.block("list-simulate",{ctx:"view",type:"list",resource:{api:{prefix:k,list:"list"},fields:{id:{type:"textarea",label:"ID",props:{"class-name":"drag-column"}},testText:{type:"text",label:"店铺"}}},props:{"enterkey-search":!1,pagination:"simulate"},sorts:{id:!0,testText:!0},options:{operationsWidth:"120px",multipleSelect:!0},data:{list:Array.from(Array(100),(function(e,t){return{id:t+1,testText:"标题".concat(t+1)}})),pageSize:20,pageSizes:[10,20]},events:{back:"@routerGo:-1"},operations:{multiSetHeader:{slot:"searchs",type:"filter",label:"批量设置表头"}}}),n.default.block("alert",{type:"component",blocks:{alertBase:{type:"title",options:{title:"基本用法"}},alertSuccess:{type:"alert",props:{title:"成功提示的文案",type:"success"}},alertInfo:{type:"alert",props:{title:"消息提示的文案",type:"info"}},alertWarning:{type:"alert",props:{title:"警告提示的文案",type:"warning"}},alertBasic:{type:"title",options:{title:"主题"}},alertError:{type:"alert",props:{title:"错误提示的文案",type:"error"}},alertSuccessDark:{type:"alert",props:{title:"成功提示的文案",type:"success",effect:"dark"}},alertInfoDark:{type:"alert",props:{title:"消息提示的文案",type:"info",effect:"dark"}},alertWarningDark:{type:"alert",props:{title:"警告提示的文案",type:"warning",effect:"dark"}},alertErrorDark:{type:"alert",props:{title:"错误提示的文案",type:"error",effect:"dark"}},alertCustom:{type:"title",options:{title:"自定义关闭按钮"}},alertErrorClosable:{type:"alert",props:{title:"不可关闭的 alert",type:"error",closable:!1}},alertErrorCloseText:{type:"alert",props:{title:"不可关闭的 alert",type:"info","close-text":"知道了"}},alertErrorCloseCallBack:{type:"alert",props:{title:"设置了回调的alert",type:"warning"},on:{close:function(){console.log("hello")}}},alertShowIcon:{type:"title",options:{title:"带有icon"}},alertSuccessShowIcon:{type:"alert",props:{title:"成功提示的文案",type:"success","show-icon":!0}},alertCenter:{type:"title",options:{title:"文字居中"}},alertSuccessShowIconCenter:{type:"alert",props:{title:"成功提示的文案",type:"success","show-icon":!0,center:!0}},alertDescription:{type:"title",options:{title:"带有辅助性文字介绍"}},alertSuccessDescription:{type:"alert",props:{title:"带辅助性文字介绍",type:"success",description:"是一句绕口令：黑灰化肥会挥发发灰黑化肥挥发；灰黑化肥会挥发发黑灰化肥发挥。 黑灰化肥会挥发发灰黑化肥黑灰挥发化为灰……"}},alertShowIconAndDesc:{type:"title",options:{title:"带有 icon 和辅助性文字介绍"}},alertSuccessShowIconAndDesc:{type:"alert",props:{title:"成功提示的文案",type:"success","show-icon":!0,description:"文字说明文字说明文字说明文字说明文字说明文字说明"}}}}),n.default.block("calendar",{resources:{"resource-calendar":{fields:{date:{type:"date",label:"活动时间"},department_id:{type:"select",label:"所属部类",props:{options:{1:"食品部",2:"母婴业务部",3:"女装业务部",4:"男装业务部"}}},activity_type:{type:"select",label:"活动类型",props:{options:{1:"重点档期",3:"公司级大促",4:"VIP大牌日",5:"穿戴类A促",6:"重点档期1+3",7:"话题活动",8:"大牌面对面",9:"三级品类促"}}},grade:{type:"select",label:"活动等级",props:{options:{2:"A",4:"B+",5:"B",6:"B-",8:"C"}}},rec_type:{type:"select",label:"人群",props:{options:{2:"主流",3:"70后",4:"90后",5:"男士"}}}}}},blocks:{scheduleBlock:{type:"calendar",ctx:"view",resource:"resource-calendar",data:{searchs:{department_id:"",activity_type:"",grade:"",rec_type:""},year:2019,month:0,content:{}},options:{title:"活动日历看板",draggable:!0},searchs:{department_id:!0,activity_type:!0,grade:!0,rec_type:!0},on:{end:function(e){console.log("from:",e.from.dataset.date,e.from.dataset.time,e.oldIndex),console.log("to:",e.to.dataset.date,e.to.dataset.time,e.newIndex)},"cell-click":function(e,t,i,o){console.log("click",e,t,i,o)}},events:{init:"@fieldChange",getList:"@getList"},actions:{fieldChange:function(e){var t=e.name,i=e.value,o=this.block.data;t&&(o.searchs[t]=i);this.callAction(this.block.events.getList,{})},getList:function(e){this.block.options.draggable?this.block.data.content={1546272e6:{10:[{html:"<div>测试数据1</div>",id:1},{html:"<div>测试数据2</div>",id:2}],20:[{html:"<div>测试数据3</div>",id:3}]},15468768e5:{10:[{html:"<div>测试数据4</div>",id:4}],20:[{html:"<div>测试数据5</div>",id:5}]}}:this.block.data.content={1546272e6:{10:["<div>测试数据1</div>","<div>测试数据2</div>"],20:["<div>测试数据3</div>"]},15468768e5:{10:["<div>测试数据4</div>"],20:["<div>测试数据5</div>"]}}}}}}}),n.default.block("dragimage",{blocks:{dragImageTopBlock:{type:"component",style:{margin:"15px 0 25px"},options:{is:"div",text:""},operations:{showForm:{type:"field",label:"",field:{type:"file",props:{accept:"image/png,image/jpeg","button-label":"上传文件","auto-upload":!1,"show-file-list":!1,"on-change":function(e){n.default.blocks.dragImagePicBlock.options.url=window.URL.createObjectURL(e.raw)}}}}}},dragImagePicBlock:{ctx:"view",type:"drag-image",options:{url:"http://c.vpimg1.com/upcb/2019/09/17/172/ias_156871245334665.jpg",width:384,height:184,cutWidth:200,imgWidth:"500px",left:100,ratio:.04,showFrame:!0},on:{getFrameLeft:function(e){console.log(e)}}}}}),n.default.block("dragimage-updown",{blocks:{dragImagePicUpDownBlock:{type:"drag-image-up-down",ctx:"view",options:{url:"http://d.vpimg1.com/upcb/2019/11/14/158/ias_234c5f37ab34a15253340464c9ca0d7b.png",width:768,height:368,cutHeight:200,imgHeight:"368px",top:10,ratio:.04,showFrame:!0}}}});var L=3;n.default.block("collapse",{type:"collapse",style:{width:"80%",margin:"0 auto",paddingTop:"5%"},props:{accordion:!0},options:{collapseblock1:{title:'一致性 <i class="header-icon el-icon-info"></i>',lazy:!0},collapseblock2:"反馈"},data:{active:["collapseblock2"]},on:{change:function(e){}},blocks:{collapseblock1:{blocks:{collapseblock11:{type:"form",resource:"resource",ctx:"edit",operations:{submit:{type:"button",label:"更新",event:"submit",props:{type:"primary"}}},fields:{id:{style:{width:"200px"}}},events:{submit:"@update"},actions:{init:function(){console.log("collapseblock1-init")}}}}},collapseblock2:{blocks:{collapseblock12:{type:"form",resource:"resource",ctx:"edit",operations:{submit:{type:"button",label:"更新",event:"submit",props:{type:"primary"}}},fields:{id:{style:{width:"200px"}}},events:{init:"@read",submit:"@update"}}}}},operations:{add:{type:"button",label:"动态添加collapse",props:{type:"primary"},style:{marginTop:"10px"}}},actions:{add:function(){var e="collapseblock".concat(L++);n.default.block(e,{type:"component",options:{text:e},actions:{init:function(){console.log("".concat(e,"-init"))}}}),this.block.blocks.push(e),this.block.options[e]={title:e,lazy:!0},this.data.active=e}}}),n.default.block("steps",{type:"steps",options:{step1:"steps1",step2:"steps2",step3:{title:"steps3",description:"这是一段很长很长很长的描述性文字"}},props:{"align-center":!0},data:{active:0},blocks:{step1:{ctx:"edit",type:"form",resource:"resource",operations:{submit:{type:"button",label:"更新",event:"submit",props:{type:"primary"}}},events:{init:"@read",submit:"@update"}},step2:{type:"list",resource:"resource",events:{init:"@list"}},step3:{type:"component",options:{is:"div",text:"some text here"}}},actions:{next:function(){this.data.active=(this.data.active+1)%3,console.log(this.data.active)}},operations:{next:{type:"button",label:"下一步"}}}),n.default.block("card",{blocks:{emptyCardBlock:{type:"card",style:{width:"600px",margin:"20px auto 0"},blocks:{emptyCardTextCard:{type:"component",options:{is:"div",text:"只有自定义内容，没有标题"}}},actions:{beforeDestroy:function(){console.log("beforeDestroy")},destroyed:function(){console.log("destroyed")}}},headerTitle:{type:"card",style:{width:"600px",margin:"20px auto 0"},options:{headerTitle:"卡片类型自带的标题"},blocks:{emptyCardTextCard1:{type:"component",options:{is:"div",text:"自定义内容"}}}},emptyCardBlock2:{type:"card",style:{width:"600px",margin:"20px auto 0"},blocks:{emptyCardTextCard21:{type:"component",options:{is:"div",text:"自定义内容"}},emptyCardTextCard22:{type:"title",options:{title:"标题类型的主标题",subTitle:"标题类型的副标题"},slot:"header"}}},emptyCardBlock3:{type:"card",style:{width:"600px",margin:"20px auto 0"},operations:{submit:{type:"button",label:"库存预警",props:{type:"mini"}}},blocks:{emptyCardTextCard31:{type:"component",options:{is:"div",text:"自定义内容"}},emptyCardTextCard32:{type:"title",options:{title:"标题类型的主标题",subTitle:"右边有个操作按钮喔"},slot:"header"}}},textHeaderCardBlock:{type:"card",style:{width:"600px",margin:"20px auto 0"},options:{headerTitle:"卡片类型自带的标题"},operations:{submit:{type:"button",label:"库存预警",props:{type:"mini"}}},blocks:{textHeaderCardText:{type:"component",options:{is:"div",text:"自定义内容"}}}},cardScheduleBlock:{type:"card",style:{width:"600px",margin:"20px auto"},resource:"resource-card",data:{},operations:{submit:{type:"button",label:"库存预警",props:{type:"mini"}}},blocks:{cardScheduleTitle:{slot:"header",type:"component",options:{is:"div"},style:{height:"55px",float:"left",padding:"13px 20px 0","border-bottom":"1px solid #EBEEF5"},operations:{text:{type:"button",label:"部类货品",props:{type:"mini"}},text2:{type:"button",label:"部类货品",props:{type:"mini"}}}},cardScheduleContent:{type:"chart",style:{width:"480px",height:"480px",margin:"20px auto 0"},data:{legend:["直接访问","邮件营销","联盟广告","视频广告","搜索引擎"],xAxis:["周二","周二","周二","周四","周五","周六","周日"],series:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}]},options:{BASE:"PIE",series:[{name:"访问来源",type:"pie",radius:["50%","70%"],data:"data.series"}]}}}}}}),n.default.block("dropdown",{blocks:{dropdowntext1:{type:"component",options:{is:"h3",text:"普通示例："}},dropdown1:{type:"dropdown",options:{menu:"下拉菜单一",menuItems:["黄金糕","狮子头","螺蛳粉","双皮奶","蚵仔煎"]},style:{"margin-bottom":"50px"}},dropdowntext2:{type:"component",options:{is:"h3",text:"button示例："}},dropdown2:{type:"dropdown",options:{menu:"下拉菜单二",menuItems:["黄金糕","狮子头","螺蛳粉",{text:"双皮奶",props:{disabled:!0}},{text:"蚵仔煎",props:{divided:!0}}]},props:{trigger:"click",type:"primary",button:!0},style:{"margin-bottom":"50px"}},dropdowntext3:{type:"component",options:{is:"h3",text:"split-button示例："}},dropdown3:{type:"dropdown",options:{menu:"下拉菜单三",menuItems:["黄金糕","狮子头","螺蛳粉",{text:"双皮奶",props:{disabled:!0}},{text:"蚵仔煎",props:{divided:!0}}]},props:{trigger:"click","split-button":!0},style:{"margin-bottom":"50px"}},dropdowntext4:{type:"component",options:{is:"h3",text:"指令事件示例："}},dropdown4:{type:"dropdown",options:{menu:"下拉菜单四",menuItems:[{text:"黄金糕",props:{command:"a",icon:"el-icon-plus"}},{text:"狮子头",props:{command:"b",icon:"el-icon-circle-plus"}},{text:"螺蛳粉",props:{command:"c",icon:"el-icon-circle-plus-outline"}},{text:"双皮奶",props:{command:"d",icon:"el-icon-check"}},{text:"蚵仔煎",props:{command:"e",icon:"el-icon-circle-check-outline"}}]},props:{},on:{command:function(e){this.$message("click on item "+e)}},style:{"margin-bottom":"50px"}}}}),n.default.block("xlsx",{resources:{"resource-xlsx":{fields:{basic_id:{type:"text",label:"ID",rules:{required:!0,message:"必填且只能填写数字类型",pattern:/^\d+$/}},online_name:{type:"text",label:"标题",rules:{required:!0,message:"必填"}},department_id:{type:"select",label:"所属部类",props:{options:{1:"食品部",2:"母婴业务部",3:"女装业务部",4:"男装业务部",5:"美妆业务部"}},rules:{required:!0,message:"必填"}},warehouse_id:{type:"select",label:"分仓",props:{options:{1:"广州仓",2:"上海仓",3:"成都仓",4:"北京仓",5:"武汉仓"}},rules:{required:!0,message:"必填"}},to_warehouse_ids:{type:"select",label:"上线区域",props:{options:{1:"广州",2:"上海",3:"成都",4:"北京",5:"武汉"}},rules:{required:!0,message:"必填"}}}}},blocks:{buttons:{type:"component",options:{is:"div"},style:{padding:"10px"},operations:{downloadTemplate:{type:"button",label:"下载模板",props:{size:"mini"}},downloadFile:{type:"button",label:"下载文件",props:{size:"mini",type:"primary"}},uploadFile:{type:"button",label:"上传文件",props:{size:"mini",type:"success"}}},actions:{downloadTemplate:function(){n.default.$blocks.xlsxForm.exportTemplate()},downloadFile:function(){n.default.$blocks.xlsxForm.exportFile()},uploadFile:function(){n.default.$blocks.xlsxForm.importFile()}}},xlsxForm:{type:"xlsx",ctx:"edit",resource:"resource-xlsx",fields:{title:"hidden"},actions:{},options:{export:{headers:[{field:"basic_id",wch:12,convert:function(e,t){return"".concat(e,"-a")}},{field:"online_name",wch:18},{field:"department_id",wch:18},{field:"warehouse_id",wch:8,multirow:!0},{field:"to_warehouse_ids",wch:18,multirow:!0}],mergeHeaders:[{from:"basic_id",to:"department_id",value:"基本信息",bg:"#ffffff"},{from:"warehouse_id",to:"to_warehouse_ids",value:"分仓信息",bg:"#cccccc"}],request:{url:"".concat(k,"export"),methods:"get"},idField:"basic_id",itemName:"排期",sheetName:"排期表",pagesize:100,eachFileRows:1e4,downlownTemplate:!1,query:{page:1},on:{preDataFilter:function(e){return e.basic_id="加工-".concat(e.basic_id),e},getMultirows:function(e){return e.warehouses}}},import:{headers:[{field:"basic_id",wch:12},{field:"online_name",wch:18},{field:"department_id",wch:18,multirow:!0}],request:{url:"".concat(k,"export"),methods:"get"},rowStartAt:2,idField:"basic_id",itemName:"排期",sheetName:"排期表",on:{combinerCheck:function(e,t){return String(e.basic_id)===String(t.basic_id)},assignMultirow:function(e,t){e.list=t},preCheck:function(){},postCheck:function(){},globalParse:function(e){return e}}}}}}}),n.default.block("grid",{blocks:{text1:{type:"component",options:{is:"h4",text:"一行两列："}},grid1:{type:"grid",style:{height:"200px","grid-gap":"0"},blocks:{item1:{type:"component",style:{background:"#f60",width:"50%",height:"100%"},options:{text:"item1"}},item2:{type:"component",style:{background:"#f50",width:"50%",height:"100%"},options:{text:"item2"}}}},text2:{type:"component",options:{is:"h4",text:"一行两列，间距20px："}},grid2:{type:"grid",style:{height:"200px"},blocks:{grid2headerTitle1:{type:"card",options:{headerTitle:"卡片类型自带的标题"},style:{width:"calc(50% - 10px)",height:"100%","margin-right":"10px"},blocks:{emptyCardTextGrid21:{type:"component",options:{is:"div",text:"自定义内容，没有标题"}}}},grid2headerTitle2:{type:"card",options:{headerTitle:"卡片类型自带的标题"},style:{width:"calc(50% - 10px)",height:"100%","margin-left":"10px"},blocks:{emptyCardTextGrid22:{type:"component",options:{is:"div",text:"自定义内容，没有标题"}}}}}},text3:{type:"component",options:{is:"h4",text:"一行三列，间距20px："}},grid3:{type:"grid",style:{height:"200px","grid-template-columns":"1fr 1fr 1fr"},blocks:{grid3emptyCardBlock1:{type:"card",blocks:{emptyCardTextGrid31:{type:"component",options:{is:"div",text:"自定义内容"}},emptyCardTextGrid32:{slot:"header",type:"title",options:{title:"标题类型的主标题",subTitle:"标题类型的副标题"}}}},grid3emptyCardBlock2:{type:"card",blocks:{emptyCardTextGrid33:{type:"component",options:{is:"div",text:"自定义内容"}},emptyCardTextGrid34:{slot:"header",type:"title",options:{title:"标题类型的主标题",subTitle:"标题类型的副标题"}}}},grid3emptyCardBlock3:{type:"card",blocks:{emptyCardTextGrid35:{type:"component",options:{is:"div",text:"自定义内容"}},emptyCardTextGrid36:{slot:"header",type:"title",options:{title:"标题类型的主标题",subTitle:"标题类型的副标题"}}}}}},text4:{type:"component",options:{is:"h4",text:"两行两列（每个网格里面继续用网格布局），间距20px："}},grid4:{type:"grid",style:{height:"620px","grid-template-columns":"1fr 1fr","grid-template-rows":"1fr 1fr"},blocks:{grid4cardBlock5:{type:"card",blocks:{titleBlock3:{type:"title",slot:"header",options:{title:"任务区"}},componentBlock5:{type:"grid",style:{"grid-template-columns":"1fr 1fr 1fr 1fr","grid-template-rows":"1fr 1fr"},blocks:{icon1:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(238, 112, 109);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-place"></i></div><p style="margin: 12px 0 0;font-size:12px;">终本案件 <span style="color: #ff3000;">0</span></p>'}},icon2:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(94, 131, 251);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-edit-outline"></i></div><p style="margin: 12px 0 0;font-size:12px;">登记立案待立案 <span style="color: #ff3000;">1</span></p>'}},icon3:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(247, 218, 71);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-refresh-left"></i></div><p style="margin: 12px 0 0;font-size:12px;">待恢复立案 <span style="color: #ff3000;">3</span></p>'}},icon4:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(88, 202, 154);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-s-release"></i></div><p style="margin: 12px 0 0;font-size:12px;">本案立案庭拒签 <span style="color: #ff3000;">0</span></p>'}},icon5:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(94, 131, 251);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-document"></i></div><p style="margin: 12px 0 0;font-size:12px;">已收案待立案 <span style="color: #ff3000;">1</span></p>'}},icon6:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(247, 218, 71);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-s-promotion"></i></div><p style="margin: 12px 0 0;font-size:12px;">已收案待发送 <span style="color: #ff3000;">2</span></p>'}},icon7:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(88, 202, 154);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-finished"></i></div><p style="margin: 12px 0 0;font-size:12px;">已申请保全待立案 <span style="color: #ff3000;">0</span></p>'}},icon8:{type:"component",style:{"text-align":"center"},options:{html:'<div style="background: rgb(238, 112, 109);margin: 0 auto;width: 40px;height: 40px;padding: 8px 0;text-align: center;border-radius: 8px;color:#fff;font-size:24px;"><i class="el-icon-message"></i></div><p style="margin: 12px 0 0;font-size:12px;">执保已立案待发送 <span style="color: #ff3000;">1</span></p>'}}}}}},grid4cardBlock6:{type:"card",blocks:{titleBlock4:{slot:"header",type:"title",options:{title:"功能区"}},componentBlock6:{type:"grid",style:{"grid-template-columns":"1fr 1fr 1fr 1fr","grid-template-rows":"1fr 1fr 1fr"},blocks:{button1:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button2:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button3:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button4:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button5:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button6:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button7:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button8:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button9:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button10:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button11:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}},button12:{type:"component",options:{html:'<p style="border: 1px dashed #1861d5;cursor: pointer;overflow: hidden;font-size: 12px;text-align: center;white-space: nowrap;border-radius: 12px;text-overflow: ellipsis;background-color: #e2edff;line-height: 24px;">变更承办人</p>'}}}}}},grid4cardBlock7:{type:"card",blocks:{titleBlock5:{slot:"header",type:"title",options:{title:"预警区"}},componentBlock7:{type:"grid",style:{height:"180px","align-content":"center","grid-template-columns":"1fr 1fr 1fr 1fr 1fr"},blocks:{iconButton1:{type:"component",style:{"text-align":"center"},options:{html:'<div style="margin:0 auto; width: 50px;height: 50px;padding: 10px 0;position: relative;border-radius: 8px;background: rgb(94, 131, 251); color:#fff;font-size: 28px;"><i class="el-icon-time"></i><div style="top: -6px;color: #fff;width: 18px;right: -6px;height: 18px;position: absolute;font-size: 12px;line-height: 18px;border-radius: 50%;background-color: #ff3000;">1</div></div><p style="margin-top: 12px;font-size:12px;">已经到期未办理</p>'}},iconButton2:{type:"component",style:{"text-align":"center"},options:{html:'<div style="margin:0 auto; width: 50px;height: 50px;padding: 10px 0;position: relative;border-radius: 8px;background: rgb(247, 218, 71); color:#fff;font-size: 28px;"><i class="el-icon-time" style="transform: rotate(72deg);"></i><div style="top: -6px;color: #fff;width: 18px;right: -6px;height: 18px;position: absolute;font-size: 12px;line-height: 18px;border-radius: 50%;background-color: #ff3000;">1</div></div><p style="margin-top: 12px;font-size:12px;">距离到期还有1天</p>'}},iconButton3:{type:"component",style:{"text-align":"center"},options:{html:'<div style="margin:0 auto; width: 50px;height: 50px;padding: 10px 0;position: relative;border-radius: 8px;background: rgb(88, 202, 154); color:#fff;font-size: 28px;"><i class="el-icon-time" style="transform: rotate(144deg)"></i><div style="top: -6px;color: #fff;width: 18px;right: -6px;height: 18px;position: absolute;font-size: 12px;line-height: 18px;border-radius: 50%;background-color: #ff3000;">1</div></div><p style="margin-top: 12px;font-size:12px;">距离到期还有5天</p>'}},iconButton4:{type:"component",style:{"text-align":"center"},options:{html:'<div style="margin:0 auto; width: 50px;height: 50px;padding: 10px 0;position: relative;border-radius: 8px;background: rgb(238, 112, 109); color:#fff;font-size: 28px;"><i class="el-icon-time" style="transform: rotate(200deg)"></i><div style="top: -6px;color: #fff;width: 18px;right: -6px;height: 18px;position: absolute;font-size: 12px;line-height: 18px;border-radius: 50%;background-color: #ff3000;">1</div></div><p style="margin-top: 12px;font-size:12px;">距离到期还有15天</p>'}},iconButton5:{type:"component",style:{"text-align":"center"},options:{html:'<div style="margin:0 auto; width: 50px;height: 50px;padding: 10px 0;position: relative;border-radius: 8px;background: rgb(144, 68, 255); color:#fff;font-size: 28px;"><i class="el-icon-time" style="transform: rotate(288deg);"></i><div style="top: -6px;color: #fff;width: 18px;right: -6px;height: 18px;position: absolute;font-size: 12px;line-height: 18px;border-radius: 50%;background-color: #ff3000;">1</div></div><p style="margin-top: 12px;font-size:12px;">距离到期还有30天</p>'}}}}}}}}}}),n.default.block("carousel",{blocks:{carousel1Title:{type:"title",options:{title:"普通文案竖排"}},carousel1:{type:"carousel",options:{name1:"11111",name2:"22222",name3:"33333"},style:{"background-color":"#d3dce6"},props:{direction:"vertical"}},carousel2Title:{type:"title",options:{title:"普通文案横排（高度200px）"}},carousel2:{type:"carousel",options:{name1:"11111",name2:"22222",name3:"33333"},style:{"background-color":"#d3dce6",height:"200px"}},carousel3title:{type:"title",options:{title:"带按钮横排"}},carousel3:{type:"carousel",options:{name1:"11111",name2:"22222",name3:"33333"},props:{},style:{"background-color":"#d3dce6"},operations:{prev:{type:"button",label:"上一张"},next:{type:"button",label:"下一张"},setActiveItem:{type:"button",label:"回到第一张"}},actions:{next:function(){this.next()},prev:function(){this.prev()},setActiveItem:function(){this.setActiveItem(0)}}},carousel4title:{type:"title",options:{title:"嵌套blocks"}},carousel4:{type:"carousel",options:{carouselBlock1:"11111",carouselBlock2:"22222",carouselBlock3:"33333"},props:{"item-type":"block"},blocks:{carouselBlock41:{type:"component",options:{is:"el-rate"},props:{value:5},style:{height:"150px"}},carouselBlock42:{type:"component",options:{is:"div"},operations:{test:{type:"button",label:"test"}},style:{height:"150px"}},carouselBlock43:{type:"component",options:{text:"第三页"}}},style:{"background-color":"#d3dce6"},on:{change:function(e){console.log("change",e)}}},carousel5title:{type:"title",options:{title:"卡片化"}},carousel5:{type:"carousel",options:{carouselBlock1:"11111",carouselBlock2:"22222",carouselBlock3:"33333"},props:{type:"card","item-type":"block"},blocks:{carouselBlock51:{type:"component",options:{is:"el-rate"},props:{value:5},style:{height:"150px","background-color":"#fff"}},carouselBlock52:{type:"component",options:{is:"div"},operations:{test:{type:"button",label:"test"}},style:{height:"150px","background-color":"#fff"}},carouselBlock53:{type:"component",options:{text:"第三页"},style:{"background-color":"#fff"}}},style:{"background-color":"#d3dce6"}},carousel6title:{type:"title",options:{title:"图片"}},carousel6:{type:"carousel",options:{carouselBlock1:"11111",carouselBlock2:"22222",carouselBlock3:"33333"},props:{type:"card","item-type":"block"},blocks:{carouselBlock61:{type:"component",options:{is:"img"},props:{src:"http://b.appsimg.com/upload/vivaadmin/2018/11/07/69/1541579376290922128.png"},style:{height:"100%","object-fit":"contain"}},carouselBlock62:{type:"component",options:{is:"img"},props:{src:"http://b.appsimg.com/upload/vivaadmin/2018/11/07/69/1541579376290922128.png"},style:{height:"100%","object-fit":"contain"}},carouselBlock63:{type:"component",options:{is:"img"},props:{src:"http://b.appsimg.com/upload/vivaadmin/2018/11/07/69/1541579376290922128.png"},style:{height:"100%","object-fit":"contain"}}}}}}),n.default.block("backtop",{type:"form",resource:"resource",ctx:"edit",events:{init:"@read:2"},style:{height:"calc(100vh - 104px)",overflowY:"scroll"},blocks:{backtopTitle:{type:"title",options:{title:"回到顶部",subTitle:"滑到表单底部可预览「回到顶部」demo"},slot:"top"},backtopBase:{type:"backtop",props:{target:".ams-block-form",bottom:50}},backtopCustom:{type:"backtop",props:{target:".ams-block-form",bottom:100},blocks:{backtopCustomContent:{type:"component",options:{text:"UP"},style:{color:"#1989fa","text-align":"center","line-height":"40px"}}}}}});var N={ctx:"edit",type:"form",resource:{fields:{text:{label:"新文本",type:"text"},date:{type:"date",label:"日期"},password:{type:"password",label:"密码"}}}};n.default.block("tabs",{type:"tabs",props:{editable:!0},options:{"tabs-tab1":'<i class="el-icon-date"></i> tab1标题',"tabs-tab2":{label:'<i class="el-icon-date"></i> tab2延迟加载',lazy:!0,closable:!0},"tabs-tab3":{label:"tab3不可点",disabled:!0}},data:{tabIndex:"3",active:"tabs-tab2"},on:{edit:function(e,t){if("add"===t){var i="tabs-tab".concat(++this.data.tabIndex);n.default.block(i,N),this.block.blocks.push(i),this.block.options[i]={label:i},this.data.active=i}},"tab-remove":function(){alert("你点击了关闭")}},blocks:{"tabs-tab1":{type:"component",style:{padding:"100px"},options:{is:"div",text:"我是tabs1的内容"}},"tabs-tab2":{type:"component",style:{padding:"100px"},options:{is:"div",text:"我是tabs2的内容"}},"tabs-tab3":{type:"component",style:{padding:"100px"},options:{is:"div",text:"我是tabs3的内容"}}},operations:{hide:{type:"icon",label:"关闭",props:{class:"el-icon-close"}}}}),n.default.block("component",{data:{selectView:"aaaa.bbb",selectEdit:"aaaa.bbb"},blocks:{componentDiv:{type:"component",options:{is:"div"},style:{padding:"100px",backgroundColor:"#eee"},operations:{test:{type:"button",label:"test"}},actions:{init:function(){console.log("init")},test:function(){console.log("test")}},blocks:{formInDiv:{type:"form",resource:"resource",ctx:"edit",style:{backgroundColor:"#fff"},operations:{submit:{type:"button",label:"更新",event:"submit",props:{type:"primary"}}},events:{init:"@read",submit:"@update"}},testBlockComponent:{type:"component",options:{is:"ams-block"},props:{name:"remote-select"}}}},componentImage:{type:"component",options:{is:"img"},style:{width:"100px",height:"100px",backgroundColor:"#007"},props:{src:"//b.appsimg.com/upload/vivaadmin/2018/11/07/69/1541579376290922128.png"}}}}),n.default.block("popover",{blocks:{popover1Title:{type:"title",options:{title:"基础用法"}},popover1Block:{type:"popover",props:{title:"标题1"},slots:{content:"弹出框内容弹出框内容弹出框内容弹出框内容弹出框内容",reference:"hover激活"}},popover2Title:{type:"title",options:{title:"弹出框中使用html"}},popover2Block:{type:"popover",props:{title:"标题2",trigger:"click"},slots:{content:'这是一段<span style="color: red">内容</span>,这是一段内容,这是一段内容,这是一段内容。',reference:"click激活"}},popover3Title:{type:"title",options:{title:"弹出框中使用html"}},popover3Block:{type:"popover",props:{title:"标题2"},slots:{content:'这是一段<span style="color: red">内容</span>,这是一段内容,这是一段内容,这是一段内容。',reference:'字段说明<i class="el-icon-question"></i>'}},popover4Title:{type:"title",options:{title:"弹出框中使用block"}},popover4Block:{type:"popover",slots:{content:'这是一段<span style="color: red">内容</span>,这是一段内容,这是一段内容,这是一段内容。',reference:"hover激活"},blocks:{popoverList:{slot:"content",type:"card",style:{width:"600px",margin:"20px auto"},options:{headerTitle:"卡片标题"},blocks:{emptyCardText:{type:"component",options:{is:"div",text:"我是自定义内容！我是自定义内容！我是自定义内容"}}}}}}}}),n.default.block("popconfirm",{blocks:{popconfirm1Title:{type:"title",options:{title:"基础用法"}},popconfirm1Block:{type:"popconfirm",props:{title:"标题1"},slots:{content:"弹出框内容弹出框内容弹出框内容弹出框内容弹出框内容",reference:"click激活"},on:{confirm:function(){console.log("confirm")},cancel:function(){console.log("cancel")}}}}}),n.default.block("imagelist",{type:"imagelist",ctx:"view",resource:{api:{prefix:"https://nei.netease.com/api/apimock/b7c10125b452d3142d8375cf634f0b47/ams/mock/",list:"imagelist"},fields:{id:{type:"text"}}},data:{searchs:{id:"w3cmark1",aa:"活动1"}},operations:{id:{slot:"searchs",type:"field",label:"文本"},aa:{slot:"searchs",type:"field",label:"名称",field:{type:"text"}},search:{slot:"searchs",type:"button",props:{type:"primary"},label:"搜索",event:"list:1"},showBatch:{slot:"multipleSelect",type:"button",label:"批量操作",show:function(){return!this.showBatchOperations}},batchPassItems:{slot:"multipleSelect",type:"button",label:"批量通过",show:function(){return this.showBatchOperations}},batchRejectedItems:{slot:"multipleSelect",type:"button",label:"批量驳回",show:function(){return this.showBatchOperations}},clearAll:{slot:"multipleSelect",type:"button",label:"清空",show:function(){return this.showBatchOperations}},hideBatch:{slot:"multipleSelect",type:"button",label:"退出",show:function(){return this.showBatchOperations}},upload1:{slot:"rightTop",type:"button",label:"图片上传"},upload2:{slot:"rightTop",type:"button",label:"文案上传"},rejectedItem:{type:"text",props:{type:"danger",size:"mini"},label:"驳回"},rejectedItem1:{type:"text",props:{size:"mini"},label:"通过(设计)"},rejectedItem2:{type:"text",props:{size:"mini",disabled:!0},label:"通过(协助)"},deleteItem:{type:"button",props:{type:"text",size:"mini",icon:"el-icon-delete",disabled:!0}},editItem:{type:"icon",label:"编辑",icon:"el-icon-edit"},buttonMulti:{type:"button",label:"删除",event:"multi"}},pageSize:10,props:{},events:{init:"@list"},actions:{batchPassItems:function(){this.batchSelected.length?console.log(this.batchSelected):this.$message.error("请先勾选数据"),console.log("批量通过")},clearAll:function(){this.batchSelected=[]},batchRejectedItems:function(){this.batchSelected.length?console.log(this.batchSelected):this.$message.error("请先勾选数据"),console.log("批量驳回")},rejectedItem:function(){alert("点击了驳回"),this.showLoading()},rejectedItem1:function(){alert("通过(设计)")},deleteItem:function(){alert("点击了删除")},clickImageItem:function(e){console.log(e),alert("点击图片")},editItem:function(){alert("点击了编辑")},fieldChange:function(e){var t=e.name,i=e.value;console.log(t,i)}},options:{title:{field:"title","prefix-tag":{type:"info",label:function(e){return e.status}}},subtitle:{field:"content"},info:{field:"info"},categorys:[{title:'<span style="color:#f60">90后</span>',index:0},{title:"80后",index:3},{title:"70后",index:4}]}}),n.default.block("imagelist2",{type:"imagelist",ctx:"view",resource:{api:{prefix:"https://nei.netease.com/api/apimock/b7c10125b452d3142d8375cf634f0b47/ams/mock/",list:"imagelist2"},fields:{id:{type:"text"}}},operations:{id:{slot:"searchs",type:"field",label:"文本"},search:{slot:"searchs",type:"button",props:{type:"primary"},label:"搜索",event:"list:1"},rejectedItem:{type:"text",props:{type:"danger",size:"mini"},label:"驳回"},rejectedItem1:{type:"text",props:{size:"mini"},label:"通过(设计)"},rejectedItem2:{type:"text",props:{size:"mini"},label:"通过(协助)"},deleteItem:{type:"button",props:{type:"text",size:"mini",icon:"el-icon-delete"}},editItem:{type:"icon",label:"编辑",icon:"el-icon-edit"},addPic:{slot:"searchs",type:"field",field:{type:"file",props:{"button-label":"上传图片"}}}},pageSize:10,props:{class:"a234"},events:{init:"@list"},actions:{fieldChange:function(e){var t=e.name,i=e.value,o=e.path;console.log("fieldChange: "+t,i,o)},rejectedItem:function(){alert("点击了驳回")},rejectedItem1:function(){alert("通过(设计)")},clickImageItem:function(e){console.log(e),alert("点击图片")},editItem:function(){alert("点击了编辑")}},options:{title:{field:"title","prefix-tag":{type:"info",label:function(e){return e.status}}},subtitle:{field:"content"},info:{field:"info"}}}),n.default.block("title",{resources:{},blocks:{titleBlock1:{type:"title",options:{title:"标题类型的主标题"}},titleBlock2:{type:"title",options:{title:"标题类型的主标题"},props:{"suffix-info":"我是提示"}},titleBlock3:{type:"title",options:{title:"标题类型的主标题"},props:{"suffix-info-warning":"我是提示warning"}},titleBlock4:{type:"title",options:{title:"标题类型的主标题"},props:{"suffix-info-danger":"我是提示danger"}},titleBlock5:{type:"title",options:{title:"标题类型的主标题",subTitle:"标题类型的副标题"}},titleBlock6:{type:"title",options:{title:"标题类型的主标题",subTitle:"标题类型的副标题"},props:{"suffix-info":"我是提示"}},titleBlock7:{type:"title",options:{title:"标题类型的主标题后带弹出框提示"},props:{},blocks:{titleBlock7Popover:{type:"popover",slot:"append",props:{title:"标题1"},style:{fontSize:"12px",color:"#1989fa"},slots:{content:"弹出框内容弹出框内容弹出框内容弹出框内容弹出框内容",reference:'字段说明<i class="el-icon-question"></i>'}}}}}}),n.default.block("drawer",{blocks:{drawer1:{type:"component",operations:{drawer1:{type:"button",label:"示例1",event:"drawerPop.show"}}},drawerPop:{type:"drawer",data:{title:"普通示例1",visible:!1},operations:{add:{type:"button",label:"按钮",props:{type:"primary"}},hide:{type:"button",label:"取消"}},blocks:{drawerForm:{type:"form",resource:{fields:{text1:{label:"text1",type:"text"},text2:{label:"text2",type:"text",slots:{prefix:"输入"},props:{class:"is-required"}},text3:{label:"text3",type:"text",slots:{suffix:"输入框尾部内容"}},text4:{label:"text4",type:"text",slots:{prepend:"Http://"}},text5:{label:"text5",type:"text",slots:{append:".com"}},text6:{label:"提示",type:"text",info:"提示信息"},text7:{label:"提示",type:"text",ctx:"view",info:"提示信息",props:{"suffix-info-danger":"我是提示danger"}},text9:{label:"尺寸",type:"text",style:{width:"150px"},props:{inline:!0},slots:{prefix:"高",suffix:"px"}},text10:{label:"",labelWidth:"0",type:"text",style:{width:"150px"},props:{inline:!0},slots:{prefix:"宽",suffix:"px"}},text11:{label:"样式名",type:"text",ctx:"view",props:{class:"el-icon-upload-success  el-icon-circle-check"}}}},ctx:"edit",data:{text7:"测试文字",text11:"上传成功"}}}}}}),n.default.block("table",{ctx:"view",type:"table",resource:"table",filters:{},sorts:{id:!0,week:!0},data:{list:[],pageSize:10},operations:{id:{slot:"searchs",type:"field",field:"id",label:"id"},grade1:{slot:"searchs",type:"field",field:"grade1",label:"一级品类"},search:{slot:"searchs",type:"button",props:{type:"primary"},label:"搜索",event:"list"}},options:{"span-merge":{grade1:!0,grade2:!0},"expand-row":{valueKey:"rowchildren",remoteConfig:{action:"https://easy-mock.com/mock/5bf25b2b34392218c898a5fd/table-expand",queryName:"chidTableId",queryValue:"id"}},"table-column":[{label:"序号",name:"id","slot-header":{type:"tooltip",content:"提示框信息<br/>第二行信息"}},{label:"",children:[{label:"一级品类",name:"grade1","slot-header":{type:"tooltip",content:"多行提示信息<br/>第二行信息"}},{label:"二级品类",name:"grade2","slot-header":{type:"tooltip",content:"多行提示信息<br/>第二行信息"}}]},{label:"收入","slot-header":{type:"tooltip",content:"多行提示信息<br/>第二行信息"},children:[{label:"第1天",name:"day1"},{label:"第2天",name:"day2"},{label:"第3天",name:"day3"},{label:"第4天",name:"day4"},{label:"第5天",name:"day5"},{label:"第6天",name:"day6"},{label:"第7天",name:"day7"},{label:"前7天",name:"week","slot-header":{type:"collapse",collapseColumn:["day1","day2","day3","day4","day5","day6","day7"]}}]}]},on:{"cell-click":function(e,t,i,o){},"header-click":function(e,t){}},events:{init:"@list",replace:"@routerReplace:/list/edit",back:"@routerGo:-1"},actions:{edit:function(e){console.log(e)},customEdit:function(e){this.callAction("routerPush",{name:"编辑",query:{id:e.$prevReturn.id}})}}}),n.default.block("form-edit",{ctx:"edit",type:"form",resource:"resource",data:{hahah:"21"},config:{test:"11"},operations:{submit:{type:"button",label:"更新",event:"submit",props:{type:"primary"},badge:{max:3,value:function(e){return console.log("form-badge",e),e.id}}},resetData:{type:"button",label:"重置",show:"testSwitch"},aa:{type:"button",label:"aa",show:function(e){if(!e.testSwitch)return!0}},testSelect1:{type:"field",field:"testSelect"},dropdown:{type:"dropdown",label:"更多搜索",event:"test",props:{placeholder:"搜索..."},style:{width:"300px"},fields:{testText:!0,testDate:!0,testTime:!0,testDatetime:!0,testSwitch:!0}}},layout:{testTime:["testTime","testDatetime"]},fields:{id:{style:{width:"200px"}}},on:{validate:function(){console.log("validate")},keyupEnter:function(e){console.log("keyup.enter.native",this,e)}},events:{init:"@read:2",submit:"@validate @update"},actions:{test:function(e){console.log("test",e)},fieldChange:function(e){console.log("fieldChange",e)}},blocks:{title1:{slot:"field:testText",type:"title",options:{title:"主标题",subTitle:"副标题"},style:{marginLeft:"50px",marginBottom:"40px"}}}}),n.default.block("form-view",{ctx:"view",type:"form",resource:"resource",operations:{submit:{type:"button",label:"提交",props:{type:"primary"}},loginAction:{type:"button",label:"需要登录的接口"}},events:{init:"@read"},fields:{testText:{default:"sss"}},actions:{loginAction:function(){this.$ams.request({url:"".concat(k,"some-login-action")})}}}),window.ElementUI=a.a,o.default.use(a.a,{locale:r.a}),o.default.use(n.default),o.default.use(p.a),o.default.use(d.a),o.default.use(h.a),o.default.use(b.a),o.default.config.productionTip=!1,new o.default({el:"#app",render:function(e){return e(v)}})},"5e22":function(e,t,i){},"5f04":function(e,t,i){"use strict";i("a1d4")},6422:function(e,t,i){"use strict";i("7630")},6502:function(e,t,i){"use strict";i("2487")},7579:function(e,t,i){"use strict";i("9e40")},7630:function(e,t,i){},7687:function(e,t,i){},"7ad8":function(e,t,i){"use strict";i("1d73")},"7b17":function(e,t,i){},"7be8":function(e,t,i){},"7cc3":function(e,t,i){},"7d2a":function(e,t,i){"use strict";i("45ec")},8249:function(e,t,i){},"83c7":function(e,t,i){"use strict";i("1c92")},8406:function(e,t,i){},"87fa":function(e,t,i){},8876:function(e,t,i){},"8d48":function(e,t,i){"use strict";i("87fa")},"95c3":function(e,t,i){},"96d3":function(e,t,i){"use strict";i("bf15")},"97c4":function(e,t,i){"use strict";i("e78d")},9903:function(e,t,i){},"9e40":function(e,t,i){},"9e41":function(e,t,i){"use strict";i("7cc3")},"9f90":function(e,t,i){},a038:function(e,t,i){"use strict";i("fae5")},a0e8:function(e,t,i){"use strict";i("8406")},a1d4:function(e,t,i){},a3c9:function(e,t,i){},ac9f:function(e,t,i){"use strict";i("4482")},b017:function(e,t,i){},b1d9:function(e,t,i){"use strict";i("f10c")},b20f:function(e,t,i){},b3de:function(e,t,i){"use strict";i("ca9b")},bb07:function(e,t,i){"use strict";i("eb29")},bf15:function(e,t,i){},c110:function(e,t,i){"use strict";i("ea34")},c190:function(e,t,i){"use strict";i("8876")},c1fc:function(e,t,i){"use strict";i("d372")},c5cc:function(e,t,i){"use strict";i("f7df")},c62a:function(e,t,i){"use strict";i("b017")},c937:function(e,t,i){"use strict";i("7687")},ca9b:function(e,t,i){},cebe:function(e,t,i){},d0c5:function(e,t,i){},d10e:function(e,t,i){},d372:function(e,t,i){},d4ff:function(e,t,i){},d77c:function(e,t,i){"use strict";i("2b99")},d785:function(e,t,i){"use strict";i("95c3")},dd46:function(e,t,i){},e35d:function(e,t,i){},e78d:function(e,t,i){},e7b9:function(e,t,i){"use strict";i("9f90")},ea34:function(e,t,i){},eb29:function(e,t,i){},ed2b:function(e,t,i){"use strict";i("ff3a")},ee9f:function(e,t,i){},f01b:function(e,t,i){},f10c:function(e,t,i){},f1e0:function(e,t,i){},f48b:function(e,t,i){},f4ad:function(e,t,i){"use strict";i("7be8")},f6c7:function(e,t,i){},f7df:function(e,t,i){},fae5:function(e,t,i){},fc42:function(e,t,i){"use strict";i.r(t);var o={data:function(){return{msg:"helloworld"}}},n=i("2877"),l=Object(n.a)(o,(function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v(this._s(this.msg)+"，这个是外部文件")])}),[],!1,null,null,null);t.default=l.exports},ff3a:function(e,t,i){}},[[0,"runtime","npm.echarts","npm.core-js","npm.zrender","npm.element-ui","npm.lodash","npm.async-validator","npm.normalize-wheel","npm.ams-team","npm.regenerator-runtime","npm.resize-observer-polyfill","npm.buffer","npm.mavon-editor","npm.quill","npm.vue","npm.vue-router","vendors~app"]]]);